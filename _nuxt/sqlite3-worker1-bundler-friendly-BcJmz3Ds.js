(function(){var e=(()=>{var e=self.location.href;return function(t={}){var n,r=t,i,a,o=new Promise((e,t)=>{i=e,a=t}),s=typeof window==`object`,c=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&typeof process.versions.node==`string`&&process.type;let l=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,l.debugModule(`globalThis.location =`,globalThis.location);var u=Object.assign({},r),d=[],f=`./this.program`,p=``;function m(e){return r.locateFile?r.locateFile(e,p):p+e}var h,g;(s||c)&&(c?p=self.location.href:typeof document<`u`&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p=p.startsWith(`blob:`)?``:p.substr(0,p.replace(/[?#].*/,``).lastIndexOf(`/`)+1),c&&(g=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}),h=e=>fetch(e,{credentials:`same-origin`}).then(e=>e.ok?e.arrayBuffer():Promise.reject(Error(e.status+` : `+e.url))));var _=r.print||console.log.bind(console),y=r.printErr||console.error.bind(console);Object.assign(r,u),u=null,r.arguments&&(d=r.arguments),r.thisProgram&&(f=r.thisProgram);var b=r.wasmBinary,x,S=!1,C,w,T,E,D,O,k,A,j,M;function N(){var e=x.buffer;r.HEAP8=C=new Int8Array(e),r.HEAP16=T=new Int16Array(e),r.HEAPU8=w=new Uint8Array(e),r.HEAPU16=E=new Uint16Array(e),r.HEAP32=D=new Int32Array(e),r.HEAPU32=O=new Uint32Array(e),r.HEAPF32=k=new Float32Array(e),r.HEAPF64=M=new Float64Array(e),r.HEAP64=A=new BigInt64Array(e),r.HEAPU64=j=new BigUint64Array(e)}if(r.wasmMemory)x=r.wasmMemory;else{var P=r.INITIAL_MEMORY||16777216;x=new WebAssembly.Memory({initial:P/65536,maximum:32768})}N();var F=[],I=[],L=[],ee=!1;function te(){var e=r.preRun;e&&(typeof e==`function`&&(e=[e]),e.forEach(ie)),ye(F)}function ne(){ee=!0,!r.noFSInit&&!J.initialized&&J.init(),J.ignorePermissions=!1,K.init(),ye(I)}function re(){var e=r.postRun;e&&(typeof e==`function`&&(e=[e]),e.forEach(oe)),ye(L)}function ie(e){F.unshift(e)}function ae(e){I.unshift(e)}function oe(e){L.unshift(e)}var R=0,z=null,B=null;function se(e){return e}function V(e){R++,r.monitorRunDependencies?.(R)}function ce(e){if(R--,r.monitorRunDependencies?.(R),R==0&&(z!==null&&(clearInterval(z),z=null),B)){var t=B;B=null,t()}}function le(e){r.onAbort?.(e),e=`Aborted(`+e+`)`,y(e),S=!0,e+=`. Build with -sASSERTIONS for more info.`;var t=new WebAssembly.RuntimeError(e);throw a(t),t}var H=`data:application/octet-stream;base64,`,ue=e=>e.startsWith(H);function de(){if(r.locateFile){var e=`sqlite3.wasm`;return ue(e)?e:m(e)}return new URL(``+new URL(`sqlite3-Ubkxdgq9.wasm`,self.location.href).href,``+self.location.href).href}var fe;function pe(e){if(e==fe&&b)return new Uint8Array(b);if(g)return g(e);throw`both async and sync fetching of the wasm failed`}function me(e){return b?Promise.resolve().then(()=>pe(e)):h(e).then(e=>new Uint8Array(e),()=>pe(e))}function he(e,t,n){return me(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{y(`failed to asynchronously prepare wasm: ${e}`),le(e)})}function ge(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!ue(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(e=>{var i=WebAssembly.instantiateStreaming(e,n);return i.then(r,function(e){return y(`wasm streaming compile failed: ${e}`),y(`falling back to ArrayBuffer instantiation`),he(t,n,r)})}):he(t,n,r)}function _e(){return{env:It,wasi_snapshot_preview1:It}}function ve(){var e=_e();function t(e,t){return $=e.exports,ae($.__wasm_call_ctors),ce(`wasm-instantiate`),$}V(`wasm-instantiate`);function n(e){t(e.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(e){y(`Module.instantiateWasm callback failed with error: ${e}`),a(e)}return fe??=de(),ge(b,fe,e,n).catch(a),{}}var ye=e=>{e.forEach(e=>e(r))};r.noExitRuntime;var U={isAbs:e=>e.charAt(0)===`/`,splitPath:e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(e).slice(1)},normalizeArray:(e,t)=>{for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];i===`.`?e.splice(r,1):i===`..`?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n;n--)e.unshift(`..`);return e},normalize:e=>{var t=U.isAbs(e),n=e.substr(-1)===`/`;return e=U.normalizeArray(e.split(`/`).filter(e=>!!e),!t).join(`/`),!e&&!t&&(e=`.`),e&&n&&(e+=`/`),(t?`/`:``)+e},dirname:e=>{var t=U.splitPath(e),n=t[0],r=t[1];return!n&&!r?`.`:(r&&=r.substr(0,r.length-1),n+r)},basename:e=>{if(e===`/`)return`/`;e=U.normalize(e),e=e.replace(/\/$/,``);var t=e.lastIndexOf(`/`);return t===-1?e:e.substr(t+1)},join:(...e)=>U.normalize(e.join(`/`)),join2:(e,t)=>U.normalize(e+`/`+t)},be=()=>{if(typeof crypto==`object`&&typeof crypto.getRandomValues==`function`)return e=>crypto.getRandomValues(e);le(`initRandomDevice`)},xe=e=>(xe=be())(e),W={resolve:(...e)=>{for(var t=``,n=!1,r=e.length-1;r>=-1&&!n;r--){var i=r>=0?e[r]:J.cwd();if(typeof i!=`string`)throw TypeError(`Arguments to path.resolve must be strings`);if(!i)return``;t=i+`/`+t,n=U.isAbs(i)}return t=U.normalizeArray(t.split(`/`).filter(e=>!!e),!n).join(`/`),(n?`/`:``)+t||`.`},relative:(e,t)=>{e=W.resolve(e).substr(1),t=W.resolve(t).substr(1);function n(e){for(var t=0;t<e.length&&e[t]===``;t++);for(var n=e.length-1;n>=0&&e[n]===``;n--);return t>n?[]:e.slice(t,n-t+1)}for(var r=n(e.split(`/`)),i=n(t.split(`/`)),a=Math.min(r.length,i.length),o=a,s=0;s<a;s++)if(r[s]!==i[s]){o=s;break}for(var c=[],s=o;s<r.length;s++)c.push(`..`);return c=c.concat(i.slice(o)),c.join(`/`)}},Se=typeof TextDecoder<`u`?new TextDecoder:void 0,G=(e,t=0,n=NaN)=>{for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.buffer&&Se)return Se.decode(e.subarray(t,i));for(var a=``;t<i;){var o=e[t++];if(!(o&128)){a+=String.fromCharCode(o);continue}var s=e[t++]&63;if((o&224)==192){a+=String.fromCharCode((o&31)<<6|s);continue}var c=e[t++]&63;if(o=(o&240)==224?(o&15)<<12|s<<6|c:(o&7)<<18|s<<12|c<<6|e[t++]&63,o<65536)a+=String.fromCharCode(o);else{var l=o-65536;a+=String.fromCharCode(55296|l>>10,56320|l&1023)}}return a},Ce=[],we=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},Te=(e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i};function Ee(e,t,n){var r=n>0?n:we(e)+1,i=Array(r),a=Te(e,i,0,i.length);return t&&(i.length=a),i}var De=()=>{if(!Ce.length){var e=null;if(typeof window<`u`&&typeof window.prompt==`function`&&(e=window.prompt(`Input: `),e!==null&&(e+=`
`)),!e)return null;Ce=Ee(e,!0)}return Ce.shift()},K={ttys:[],init(){},shutdown(){},register(e,t){K.ttys[e]={input:[],output:[],ops:t},J.registerDevice(e,K.stream_ops)},stream_ops:{open(e){var t=K.ttys[e.node.rdev];if(!t)throw new J.ErrnoError(43);e.tty=t,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,t,n,r,i){if(!e.tty||!e.tty.ops.get_char)throw new J.ErrnoError(60);for(var a=0,o=0;o<r;o++){var s;try{s=e.tty.ops.get_char(e.tty)}catch{throw new J.ErrnoError(29)}if(s===void 0&&a===0)throw new J.ErrnoError(6);if(s==null)break;a++,t[n+o]=s}return a&&(e.node.timestamp=Date.now()),a},write(e,t,n,r,i){if(!e.tty||!e.tty.ops.put_char)throw new J.ErrnoError(60);try{for(var a=0;a<r;a++)e.tty.ops.put_char(e.tty,t[n+a])}catch{throw new J.ErrnoError(29)}return r&&(e.node.timestamp=Date.now()),a}},default_tty_ops:{get_char(e){return De()},put_char(e,t){t===null||t===10?(_(G(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(_(G(e.output)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,t,n){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,t){t===null||t===10?(y(G(e.output)),e.output=[]):t!=0&&e.output.push(t)},fsync(e){e.output&&e.output.length>0&&(y(G(e.output)),e.output=[])}}},Oe=(e,t)=>{w.fill(0,e,e+t)},ke=(e,t)=>Math.ceil(e/t)*t,Ae=e=>{e=ke(e,65536);var t=go(65536,e);return t&&Oe(t,e),t},q={ops_table:null,mount(e){return q.createNode(null,`/`,16895,0)},createNode(e,t,n,r){if(J.isBlkdev(n)||J.isFIFO(n))throw new J.ErrnoError(63);q.ops_table||={dir:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr,lookup:q.node_ops.lookup,mknod:q.node_ops.mknod,rename:q.node_ops.rename,unlink:q.node_ops.unlink,rmdir:q.node_ops.rmdir,readdir:q.node_ops.readdir,symlink:q.node_ops.symlink},stream:{llseek:q.stream_ops.llseek}},file:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr},stream:{llseek:q.stream_ops.llseek,read:q.stream_ops.read,write:q.stream_ops.write,allocate:q.stream_ops.allocate,mmap:q.stream_ops.mmap,msync:q.stream_ops.msync}},link:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr,readlink:q.node_ops.readlink},stream:{}},chrdev:{node:{getattr:q.node_ops.getattr,setattr:q.node_ops.setattr},stream:J.chrdev_stream_ops}};var i=J.createNode(e,t,n,r);return J.isDir(i.mode)?(i.node_ops=q.ops_table.dir.node,i.stream_ops=q.ops_table.dir.stream,i.contents={}):J.isFile(i.mode)?(i.node_ops=q.ops_table.file.node,i.stream_ops=q.ops_table.file.stream,i.usedBytes=0,i.contents=null):J.isLink(i.mode)?(i.node_ops=q.ops_table.link.node,i.stream_ops=q.ops_table.link.stream):J.isChrdev(i.mode)&&(i.node_ops=q.ops_table.chrdev.node,i.stream_ops=q.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i,e.timestamp=i.timestamp),i},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage(e,t){var n=e.contents?e.contents.length:0;if(!(n>=t)){var r=1024*1024;t=Math.max(t,n*(n<r?2:1.125)>>>0),n!=0&&(t=Math.max(t,256));var i=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(i.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,t){if(e.usedBytes!=t)if(t==0)e.contents=null,e.usedBytes=0;else{var n=e.contents;e.contents=new Uint8Array(t),n&&e.contents.set(n.subarray(0,Math.min(t,e.usedBytes))),e.usedBytes=t}},node_ops:{getattr(e){var t={};return t.dev=J.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,J.isDir(e.mode)?t.size=4096:J.isFile(e.mode)?t.size=e.usedBytes:J.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr(e,t){t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&q.resizeFileStorage(e,t.size)},lookup(e,t){throw J.genericErrors[44]},mknod(e,t,n,r){return q.createNode(e,t,n,r)},rename(e,t,n){if(J.isDir(e.mode)){var r;try{r=J.lookupNode(t,n)}catch{}if(r)for(var i in r.contents)throw new J.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=n,t.contents[n]=e,t.timestamp=e.parent.timestamp},unlink(e,t){delete e.contents[t],e.timestamp=Date.now()},rmdir(e,t){var n=J.lookupNode(e,t);for(var r in n.contents)throw new J.ErrnoError(55);delete e.contents[t],e.timestamp=Date.now()},readdir(e){var t=[`.`,`..`];for(var n of Object.keys(e.contents))t.push(n);return t},symlink(e,t,n){var r=q.createNode(e,t,41471,0);return r.link=n,r},readlink(e){if(!J.isLink(e.mode))throw new J.ErrnoError(28);return e.link}},stream_ops:{read(e,t,n,r,i){var a=e.node.contents;if(i>=e.node.usedBytes)return 0;var o=Math.min(e.node.usedBytes-i,r);if(o>8&&a.subarray)t.set(a.subarray(i,i+o),n);else for(var s=0;s<o;s++)t[n+s]=a[i+s];return o},write(e,t,n,r,i,a){if(t.buffer===C.buffer&&(a=!1),!r)return 0;var o=e.node;if(o.timestamp=Date.now(),t.subarray&&(!o.contents||o.contents.subarray)){if(a)return o.contents=t.subarray(n,n+r),o.usedBytes=r,r;if(o.usedBytes===0&&i===0)return o.contents=t.slice(n,n+r),o.usedBytes=r,r;if(i+r<=o.usedBytes)return o.contents.set(t.subarray(n,n+r),i),r}if(q.expandFileStorage(o,i+r),o.contents.subarray&&t.subarray)o.contents.set(t.subarray(n,n+r),i);else for(var s=0;s<r;s++)o.contents[i+s]=t[n+s];return o.usedBytes=Math.max(o.usedBytes,i+r),r},llseek(e,t,n){var r=t;if(n===1?r+=e.position:n===2&&J.isFile(e.node.mode)&&(r+=e.node.usedBytes),r<0)throw new J.ErrnoError(28);return r},allocate(e,t,n){q.expandFileStorage(e.node,t+n),e.node.usedBytes=Math.max(e.node.usedBytes,t+n)},mmap(e,t,n,r,i){if(!J.isFile(e.node.mode))throw new J.ErrnoError(43);var a,o,s=e.node.contents;if(!(i&2)&&s&&s.buffer===C.buffer)o=!1,a=s.byteOffset;else{if(o=!0,a=Ae(t),!a)throw new J.ErrnoError(48);s&&((n>0||n+t<s.length)&&(s=s.subarray?s.subarray(n,n+t):Array.prototype.slice.call(s,n,n+t)),C.set(s,a))}return{ptr:a,allocated:o}},msync(e,t,n,r,i){return q.stream_ops.write(e,t,0,r,n,!1),0}}},je=(e,t,n,r)=>{var i=r?``:se(`al ${e}`);h(e).then(e=>{t(new Uint8Array(e)),i&&ce(i)},t=>{if(n)n();else throw`Loading data file "${e}" failed.`}),i&&V(i)},Me=(e,t,n,r,i,a)=>{J.createDataFile(e,t,n,r,i,a)},Ne=r.preloadPlugins||[],Pe=(e,t,n,r)=>{typeof Browser<`u`&&Browser.init();var i=!1;return Ne.forEach(a=>{i||a.canHandle(t)&&(a.handle(e,t,n,r),i=!0)}),i},Fe=(e,t,n,r,i,a,o,s,c,l)=>{var u=t?W.resolve(U.join2(e,t)):e,d=se(`cp ${u}`);function f(n){function f(n){l?.(),s||Me(e,t,n,r,i,c),a?.(),ce(d)}Pe(n,u,f,()=>{o?.(),ce(d)})||f(n)}V(d),typeof n==`string`?je(n,f,o):f(n)},Ie=e=>{var t={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},n=t[e];if(n===void 0)throw Error(`Unknown file open mode: ${e}`);return n},Le=(e,t)=>{var n=0;return e&&(n|=365),t&&(n|=146),n},J={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:`/`,initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(e){this.name=`ErrnoError`,this.errno=e}},genericErrors:{},filesystems:null,syncFSRequests:0,readFiles:{},FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(e){this.node=e}get isRead(){return(this.flags&2097155)!=1}get isWrite(){return(this.flags&2097155)!=0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(e){this.shared.flags=e}get position(){return this.shared.position}set position(e){this.shared.position=e}},FSNode:class{constructor(e,t,n,r){e||=this,this.parent=e,this.mount=e.mount,this.mounted=null,this.id=J.nextInode++,this.name=t,this.mode=n,this.node_ops={},this.stream_ops={},this.rdev=r,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(e){e?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(e){e?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return J.isDir(this.mode)}get isDevice(){return J.isChrdev(this.mode)}},lookupPath(e,t={}){if(e=W.resolve(e),!e)return{path:``,node:null};var n={follow_mount:!0,recurse_count:0};if(t=Object.assign(n,t),t.recurse_count>8)throw new J.ErrnoError(32);for(var r=e.split(`/`).filter(e=>!!e),i=J.root,a=`/`,o=0;o<r.length;o++){var s=o===r.length-1;if(s&&t.parent)break;if(i=J.lookupNode(i,r[o]),a=U.join2(a,r[o]),J.isMountpoint(i)&&(!s||s&&t.follow_mount)&&(i=i.mounted.root),!s||t.follow)for(var c=0;J.isLink(i.mode);){var l=J.readlink(a);a=W.resolve(U.dirname(a),l);var u=J.lookupPath(a,{recurse_count:t.recurse_count+1});if(i=u.node,c++>40)throw new J.ErrnoError(32)}}return{path:a,node:i}},getPath(e){for(var t;;){if(J.isRoot(e)){var n=e.mount.mountpoint;return t?n[n.length-1]===`/`?n+t:`${n}/${t}`:n}t=t?`${e.name}/${t}`:e.name,e=e.parent}},hashName(e,t){for(var n=0,r=0;r<t.length;r++)n=(n<<5)-n+t.charCodeAt(r)|0;return(e+n>>>0)%J.nameTable.length},hashAddNode(e){var t=J.hashName(e.parent.id,e.name);e.name_next=J.nameTable[t],J.nameTable[t]=e},hashRemoveNode(e){var t=J.hashName(e.parent.id,e.name);if(J.nameTable[t]===e)J.nameTable[t]=e.name_next;else for(var n=J.nameTable[t];n;){if(n.name_next===e){n.name_next=e.name_next;break}n=n.name_next}},lookupNode(e,t){var n=J.mayLookup(e);if(n)throw new J.ErrnoError(n);for(var r=J.hashName(e.id,t),i=J.nameTable[r];i;i=i.name_next){var a=i.name;if(i.parent.id===e.id&&a===t)return i}return J.lookup(e,t)},createNode(e,t,n,r){var i=new J.FSNode(e,t,n,r);return J.hashAddNode(i),i},destroyNode(e){J.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)==32768},isDir(e){return(e&61440)==16384},isLink(e){return(e&61440)==40960},isChrdev(e){return(e&61440)==8192},isBlkdev(e){return(e&61440)==24576},isFIFO(e){return(e&61440)==4096},isSocket(e){return(e&49152)==49152},flagsToPermissionString(e){var t=[`r`,`w`,`rw`][e&3];return e&512&&(t+=`w`),t},nodePermissions(e,t){return J.ignorePermissions?0:t.includes(`r`)&&!(e.mode&292)||t.includes(`w`)&&!(e.mode&146)||t.includes(`x`)&&!(e.mode&73)?2:0},mayLookup(e){if(!J.isDir(e.mode))return 54;var t=J.nodePermissions(e,`x`);return t||(e.node_ops.lookup?0:2)},mayCreate(e,t){try{return J.lookupNode(e,t),20}catch{}return J.nodePermissions(e,`wx`)},mayDelete(e,t,n){var r;try{r=J.lookupNode(e,t)}catch(e){return e.errno}var i=J.nodePermissions(e,`wx`);if(i)return i;if(n){if(!J.isDir(r.mode))return 54;if(J.isRoot(r)||J.getPath(r)===J.cwd())return 10}else if(J.isDir(r.mode))return 31;return 0},mayOpen(e,t){return e?J.isLink(e.mode)?32:J.isDir(e.mode)&&(J.flagsToPermissionString(t)!==`r`||t&512)?31:J.nodePermissions(e,J.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=J.MAX_OPEN_FDS;e++)if(!J.streams[e])return e;throw new J.ErrnoError(33)},getStreamChecked(e){var t=J.getStream(e);if(!t)throw new J.ErrnoError(8);return t},getStream:e=>J.streams[e],createStream(e,t=-1){return e=Object.assign(new J.FSStream,e),t==-1&&(t=J.nextfd()),e.fd=t,J.streams[t]=e,e},closeStream(e){J.streams[e]=null},dupStream(e,t=-1){var n=J.createStream(e,t);return n.stream_ops?.dup?.(n),n},chrdev_stream_ops:{open(e){var t=J.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open?.(e)},llseek(){throw new J.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,t)=>e<<8|t,registerDevice(e,t){J.devices[e]={stream_ops:t}},getDevice:e=>J.devices[e],getMounts(e){for(var t=[],n=[e];n.length;){var r=n.pop();t.push(r),n.push(...r.mounts)}return t},syncfs(e,t){typeof e==`function`&&(t=e,e=!1),J.syncFSRequests++,J.syncFSRequests>1&&y(`warning: ${J.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var n=J.getMounts(J.root.mount),r=0;function i(e){return J.syncFSRequests--,t(e)}function a(e){if(e)return a.errored?void 0:(a.errored=!0,i(e));++r>=n.length&&i(null)}n.forEach(t=>{if(!t.type.syncfs)return a(null);t.type.syncfs(t,e,a)})},mount(e,t,n){var r=n===`/`,i=!n,a;if(r&&J.root)throw new J.ErrnoError(10);if(!r&&!i){var o=J.lookupPath(n,{follow_mount:!1});if(n=o.path,a=o.node,J.isMountpoint(a))throw new J.ErrnoError(10);if(!J.isDir(a.mode))throw new J.ErrnoError(54)}var s={type:e,opts:t,mountpoint:n,mounts:[]},c=e.mount(s);return c.mount=s,s.root=c,r?J.root=c:a&&(a.mounted=s,a.mount&&a.mount.mounts.push(s)),c},unmount(e){var t=J.lookupPath(e,{follow_mount:!1});if(!J.isMountpoint(t.node))throw new J.ErrnoError(28);var n=t.node,r=n.mounted,i=J.getMounts(r);Object.keys(J.nameTable).forEach(e=>{for(var t=J.nameTable[e];t;){var n=t.name_next;i.includes(t.mount)&&J.destroyNode(t),t=n}}),n.mounted=null;var a=n.mount.mounts.indexOf(r);n.mount.mounts.splice(a,1)},lookup(e,t){return e.node_ops.lookup(e,t)},mknod(e,t,n){var r=J.lookupPath(e,{parent:!0}),i=r.node,a=U.basename(e);if(!a||a===`.`||a===`..`)throw new J.ErrnoError(28);var o=J.mayCreate(i,a);if(o)throw new J.ErrnoError(o);if(!i.node_ops.mknod)throw new J.ErrnoError(63);return i.node_ops.mknod(i,a,t,n)},create(e,t){return t=t===void 0?438:t,t&=4095,t|=32768,J.mknod(e,t,0)},mkdir(e,t){return t=t===void 0?511:t,t&=1023,t|=16384,J.mknod(e,t,0)},mkdirTree(e,t){for(var n=e.split(`/`),r=``,i=0;i<n.length;++i)if(n[i]){r+=`/`+n[i];try{J.mkdir(r,t)}catch(e){if(e.errno!=20)throw e}}},mkdev(e,t,n){return n===void 0&&(n=t,t=438),t|=8192,J.mknod(e,t,n)},symlink(e,t){if(!W.resolve(e))throw new J.ErrnoError(44);var n=J.lookupPath(t,{parent:!0}),r=n.node;if(!r)throw new J.ErrnoError(44);var i=U.basename(t),a=J.mayCreate(r,i);if(a)throw new J.ErrnoError(a);if(!r.node_ops.symlink)throw new J.ErrnoError(63);return r.node_ops.symlink(r,i,e)},rename(e,t){var n=U.dirname(e),r=U.dirname(t),i=U.basename(e),a=U.basename(t),o,s,c;if(o=J.lookupPath(e,{parent:!0}),s=o.node,o=J.lookupPath(t,{parent:!0}),c=o.node,!s||!c)throw new J.ErrnoError(44);if(s.mount!==c.mount)throw new J.ErrnoError(75);var l=J.lookupNode(s,i),u=W.relative(e,r);if(u.charAt(0)!==`.`)throw new J.ErrnoError(28);if(u=W.relative(t,n),u.charAt(0)!==`.`)throw new J.ErrnoError(55);var d;try{d=J.lookupNode(c,a)}catch{}if(l!==d){var f=J.isDir(l.mode),p=J.mayDelete(s,i,f);if(p||(p=d?J.mayDelete(c,a,f):J.mayCreate(c,a),p))throw new J.ErrnoError(p);if(!s.node_ops.rename)throw new J.ErrnoError(63);if(J.isMountpoint(l)||d&&J.isMountpoint(d))throw new J.ErrnoError(10);if(c!==s&&(p=J.nodePermissions(s,`w`),p))throw new J.ErrnoError(p);J.hashRemoveNode(l);try{s.node_ops.rename(l,c,a),l.parent=c}catch(e){throw e}finally{J.hashAddNode(l)}}},rmdir(e){var t=J.lookupPath(e,{parent:!0}),n=t.node,r=U.basename(e),i=J.lookupNode(n,r),a=J.mayDelete(n,r,!0);if(a)throw new J.ErrnoError(a);if(!n.node_ops.rmdir)throw new J.ErrnoError(63);if(J.isMountpoint(i))throw new J.ErrnoError(10);n.node_ops.rmdir(n,r),J.destroyNode(i)},readdir(e){var t=J.lookupPath(e,{follow:!0}),n=t.node;if(!n.node_ops.readdir)throw new J.ErrnoError(54);return n.node_ops.readdir(n)},unlink(e){var t=J.lookupPath(e,{parent:!0}),n=t.node;if(!n)throw new J.ErrnoError(44);var r=U.basename(e),i=J.lookupNode(n,r),a=J.mayDelete(n,r,!1);if(a)throw new J.ErrnoError(a);if(!n.node_ops.unlink)throw new J.ErrnoError(63);if(J.isMountpoint(i))throw new J.ErrnoError(10);n.node_ops.unlink(n,r),J.destroyNode(i)},readlink(e){var t=J.lookupPath(e),n=t.node;if(!n)throw new J.ErrnoError(44);if(!n.node_ops.readlink)throw new J.ErrnoError(28);return W.resolve(J.getPath(n.parent),n.node_ops.readlink(n))},stat(e,t){var n=J.lookupPath(e,{follow:!t}),r=n.node;if(!r)throw new J.ErrnoError(44);if(!r.node_ops.getattr)throw new J.ErrnoError(63);return r.node_ops.getattr(r)},lstat(e){return J.stat(e,!0)},chmod(e,t,n){var r;if(typeof e==`string`){var i=J.lookupPath(e,{follow:!n});r=i.node}else r=e;if(!r.node_ops.setattr)throw new J.ErrnoError(63);r.node_ops.setattr(r,{mode:t&4095|r.mode&-4096,timestamp:Date.now()})},lchmod(e,t){J.chmod(e,t,!0)},fchmod(e,t){var n=J.getStreamChecked(e);J.chmod(n.node,t)},chown(e,t,n,r){var i;if(typeof e==`string`){var a=J.lookupPath(e,{follow:!r});i=a.node}else i=e;if(!i.node_ops.setattr)throw new J.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown(e,t,n){J.chown(e,t,n,!0)},fchown(e,t,n){var r=J.getStreamChecked(e);J.chown(r.node,t,n)},truncate(e,t){if(t<0)throw new J.ErrnoError(28);var n;if(typeof e==`string`){var r=J.lookupPath(e,{follow:!0});n=r.node}else n=e;if(!n.node_ops.setattr)throw new J.ErrnoError(63);if(J.isDir(n.mode))throw new J.ErrnoError(31);if(!J.isFile(n.mode))throw new J.ErrnoError(28);var i=J.nodePermissions(n,`w`);if(i)throw new J.ErrnoError(i);n.node_ops.setattr(n,{size:t,timestamp:Date.now()})},ftruncate(e,t){var n=J.getStreamChecked(e);if(!(n.flags&2097155))throw new J.ErrnoError(28);J.truncate(n.node,t)},utime(e,t,n){var r=J.lookupPath(e,{follow:!0}),i=r.node;i.node_ops.setattr(i,{timestamp:Math.max(t,n)})},open(e,t,n){if(e===``)throw new J.ErrnoError(44);t=typeof t==`string`?Ie(t):t,t&64?(n=n===void 0?438:n,n=n&4095|32768):n=0;var i;if(typeof e==`object`)i=e;else{e=U.normalize(e);try{var a=J.lookupPath(e,{follow:!(t&131072)});i=a.node}catch{}}var o=!1;if(t&64)if(i){if(t&128)throw new J.ErrnoError(20)}else i=J.mknod(e,n,0),o=!0;if(!i)throw new J.ErrnoError(44);if(J.isChrdev(i.mode)&&(t&=-513),t&65536&&!J.isDir(i.mode))throw new J.ErrnoError(54);if(!o){var s=J.mayOpen(i,t);if(s)throw new J.ErrnoError(s)}t&512&&!o&&J.truncate(i,0),t&=-131713;var c=J.createStream({node:i,path:J.getPath(i),flags:t,seekable:!0,position:0,stream_ops:i.stream_ops,ungotten:[],error:!1});return c.stream_ops.open&&c.stream_ops.open(c),r.logReadFiles&&!(t&1)&&(e in J.readFiles||(J.readFiles[e]=1)),c},close(e){if(J.isClosed(e))throw new J.ErrnoError(8);e.getdents&&=null;try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{J.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,t,n){if(J.isClosed(e))throw new J.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new J.ErrnoError(70);if(n!=0&&n!=1&&n!=2)throw new J.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,n),e.ungotten=[],e.position},read(e,t,n,r,i){if(r<0||i<0)throw new J.ErrnoError(28);if(J.isClosed(e)||(e.flags&2097155)==1)throw new J.ErrnoError(8);if(J.isDir(e.node.mode))throw new J.ErrnoError(31);if(!e.stream_ops.read)throw new J.ErrnoError(28);var a=i!==void 0;if(!a)i=e.position;else if(!e.seekable)throw new J.ErrnoError(70);var o=e.stream_ops.read(e,t,n,r,i);return a||(e.position+=o),o},write(e,t,n,r,i,a){if(r<0||i<0)throw new J.ErrnoError(28);if(J.isClosed(e)||!(e.flags&2097155))throw new J.ErrnoError(8);if(J.isDir(e.node.mode))throw new J.ErrnoError(31);if(!e.stream_ops.write)throw new J.ErrnoError(28);e.seekable&&e.flags&1024&&J.llseek(e,0,2);var o=i!==void 0;if(!o)i=e.position;else if(!e.seekable)throw new J.ErrnoError(70);var s=e.stream_ops.write(e,t,n,r,i,a);return o||(e.position+=s),s},allocate(e,t,n){if(J.isClosed(e))throw new J.ErrnoError(8);if(t<0||n<=0)throw new J.ErrnoError(28);if(!(e.flags&2097155))throw new J.ErrnoError(8);if(!J.isFile(e.node.mode)&&!J.isDir(e.node.mode))throw new J.ErrnoError(43);if(!e.stream_ops.allocate)throw new J.ErrnoError(138);e.stream_ops.allocate(e,t,n)},mmap(e,t,n,r,i){if(r&2&&!(i&2)&&(e.flags&2097155)!=2||(e.flags&2097155)==1)throw new J.ErrnoError(2);if(!e.stream_ops.mmap)throw new J.ErrnoError(43);if(!t)throw new J.ErrnoError(28);return e.stream_ops.mmap(e,t,n,r,i)},msync(e,t,n,r,i){return e.stream_ops.msync?e.stream_ops.msync(e,t,n,r,i):0},ioctl(e,t,n){if(!e.stream_ops.ioctl)throw new J.ErrnoError(59);return e.stream_ops.ioctl(e,t,n)},readFile(e,t={}){if(t.flags=t.flags||0,t.encoding=t.encoding||`binary`,t.encoding!==`utf8`&&t.encoding!==`binary`)throw Error(`Invalid encoding type "${t.encoding}"`);var n,r=J.open(e,t.flags),i=J.stat(e),a=i.size,o=new Uint8Array(a);return J.read(r,o,0,a,0),t.encoding===`utf8`?n=G(o):t.encoding===`binary`&&(n=o),J.close(r),n},writeFile(e,t,n={}){n.flags=n.flags||577;var r=J.open(e,n.flags,n.mode);if(typeof t==`string`){var i=new Uint8Array(we(t)+1),a=Te(t,i,0,i.length);J.write(r,i,0,a,void 0,n.canOwn)}else if(ArrayBuffer.isView(t))J.write(r,t,0,t.byteLength,void 0,n.canOwn);else throw Error(`Unsupported data type`);J.close(r)},cwd:()=>J.currentPath,chdir(e){var t=J.lookupPath(e,{follow:!0});if(t.node===null)throw new J.ErrnoError(44);if(!J.isDir(t.node.mode))throw new J.ErrnoError(54);var n=J.nodePermissions(t.node,`x`);if(n)throw new J.ErrnoError(n);J.currentPath=t.path},createDefaultDirectories(){J.mkdir(`/tmp`),J.mkdir(`/home`),J.mkdir(`/home/web_user`)},createDefaultDevices(){J.mkdir(`/dev`),J.registerDevice(J.makedev(1,3),{read:()=>0,write:(e,t,n,r,i)=>r}),J.mkdev(`/dev/null`,J.makedev(1,3)),K.register(J.makedev(5,0),K.default_tty_ops),K.register(J.makedev(6,0),K.default_tty1_ops),J.mkdev(`/dev/tty`,J.makedev(5,0)),J.mkdev(`/dev/tty1`,J.makedev(6,0));var e=new Uint8Array(1024),t=0,n=()=>(t===0&&(t=xe(e).byteLength),e[--t]);J.createDevice(`/dev`,`random`,n),J.createDevice(`/dev`,`urandom`,n),J.mkdir(`/dev/shm`),J.mkdir(`/dev/shm/tmp`)},createSpecialDirectories(){J.mkdir(`/proc`);var e=J.mkdir(`/proc/self`);J.mkdir(`/proc/self/fd`),J.mount({mount(){var t=J.createNode(e,`fd`,16895,73);return t.node_ops={lookup(e,t){var n=+t,r=J.getStreamChecked(n),i={parent:null,mount:{mountpoint:`fake`},node_ops:{readlink:()=>r.path}};return i.parent=i,i}},t}},{},`/proc/self/fd`)},createStandardStreams(e,t,n){e?J.createDevice(`/dev`,`stdin`,e):J.symlink(`/dev/tty`,`/dev/stdin`),t?J.createDevice(`/dev`,`stdout`,null,t):J.symlink(`/dev/tty`,`/dev/stdout`),n?J.createDevice(`/dev`,`stderr`,null,n):J.symlink(`/dev/tty1`,`/dev/stderr`),J.open(`/dev/stdin`,0),J.open(`/dev/stdout`,1),J.open(`/dev/stderr`,1)},staticInit(){[44].forEach(e=>{J.genericErrors[e]=new J.ErrnoError(e),J.genericErrors[e].stack=`<generic error, no stack>`}),J.nameTable=Array(4096),J.mount(q,{},`/`),J.createDefaultDirectories(),J.createDefaultDevices(),J.createSpecialDirectories(),J.filesystems={MEMFS:q}},init(e,t,n){J.initialized=!0,e??=r.stdin,t??=r.stdout,n??=r.stderr,J.createStandardStreams(e,t,n)},quit(){J.initialized=!1;for(var e=0;e<J.streams.length;e++){var t=J.streams[e];t&&J.close(t)}},findObject(e,t){var n=J.analyzePath(e,t);return n.exists?n.object:null},analyzePath(e,t){try{var n=J.lookupPath(e,{follow:!t});e=n.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=J.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=U.basename(e),n=J.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot=n.path===`/`}catch(e){r.error=e.errno}return r},createPath(e,t,n,r){e=typeof e==`string`?e:J.getPath(e);for(var i=t.split(`/`).reverse();i.length;){var a=i.pop();if(a){var o=U.join2(e,a);try{J.mkdir(o)}catch{}e=o}}return o},createFile(e,t,n,r,i){var a=U.join2(typeof e==`string`?e:J.getPath(e),t),o=Le(r,i);return J.create(a,o)},createDataFile(e,t,n,r,i,a){var o=t;e&&(e=typeof e==`string`?e:J.getPath(e),o=t?U.join2(e,t):e);var s=Le(r,i),c=J.create(o,s);if(n){if(typeof n==`string`){for(var l=Array(n.length),u=0,d=n.length;u<d;++u)l[u]=n.charCodeAt(u);n=l}J.chmod(c,s|146);var f=J.open(c,577);J.write(f,n,0,n.length,0,a),J.close(f),J.chmod(c,s)}},createDevice(e,t,n,r){var i=U.join2(typeof e==`string`?e:J.getPath(e),t),a=Le(!!n,!!r);J.createDevice.major??=64;var o=J.makedev(J.createDevice.major++,0);return J.registerDevice(o,{open(e){e.seekable=!1},close(e){r?.buffer?.length&&r(10)},read(e,t,r,i,a){for(var o=0,s=0;s<i;s++){var c;try{c=n()}catch{throw new J.ErrnoError(29)}if(c===void 0&&o===0)throw new J.ErrnoError(6);if(c==null)break;o++,t[r+s]=c}return o&&(e.node.timestamp=Date.now()),o},write(e,t,n,i,a){for(var o=0;o<i;o++)try{r(t[n+o])}catch{throw new J.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),o}}),J.mkdev(i,a,o)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<`u`)throw Error(`Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.`);try{e.contents=g(e.url),e.usedBytes=e.contents.length}catch{throw new J.ErrnoError(29)}},createLazyFile(e,t,n,r,i){class a{constructor(){this.lengthKnown=!1,this.chunks=[]}get(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,n=e/this.chunkSize|0;return this.getter(n)[t]}}setDataGetter(e){this.getter=e}cacheLength(){var e=new XMLHttpRequest;if(e.open(`HEAD`,n,!1),e.send(null),!(e.status>=200&&e.status<300||e.status===304))throw Error(`Couldn't load `+n+`. Status: `+e.status);var t=Number(e.getResponseHeader(`Content-length`)),r,i=(r=e.getResponseHeader(`Accept-Ranges`))&&r===`bytes`,a=(r=e.getResponseHeader(`Content-Encoding`))&&r===`gzip`,o=1024*1024;i||(o=t);var s=(e,r)=>{if(e>r)throw Error(`invalid range (`+e+`, `+r+`) or no bytes requested!`);if(r>t-1)throw Error(`only `+t+` bytes available! programmer error!`);var i=new XMLHttpRequest;if(i.open(`GET`,n,!1),t!==o&&i.setRequestHeader(`Range`,`bytes=`+e+`-`+r),i.responseType=`arraybuffer`,i.overrideMimeType&&i.overrideMimeType(`text/plain; charset=x-user-defined`),i.send(null),!(i.status>=200&&i.status<300||i.status===304))throw Error(`Couldn't load `+n+`. Status: `+i.status);return i.response===void 0?Ee(i.responseText||``,!0):new Uint8Array(i.response||[])},c=this;c.setDataGetter(e=>{var n=e*o,r=(e+1)*o-1;if(r=Math.min(r,t-1),c.chunks[e]===void 0&&(c.chunks[e]=s(n,r)),c.chunks[e]===void 0)throw Error(`doXHR failed!`);return c.chunks[e]}),(a||!t)&&(o=t=1,t=this.getter(0).length,o=t,_(`LazyFiles on gzip forces download of the whole file when length is accessed`)),this._length=t,this._chunkSize=o,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<`u`){if(!c)throw`Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc`;var o=new a,s={isDevice:!1,contents:o}}else var s={isDevice:!1,url:n};var l=J.createFile(e,t,s,r,i);s.contents?l.contents=s.contents:s.url&&(l.contents=null,l.url=s.url),Object.defineProperties(l,{usedBytes:{get:function(){return this.contents.length}}});var u={},d=Object.keys(l.stream_ops);d.forEach(e=>{var t=l.stream_ops[e];u[e]=(...e)=>(J.forceLoadFile(l),t(...e))});function f(e,t,n,r,i){var a=e.node.contents;if(i>=a.length)return 0;var o=Math.min(a.length-i,r);if(a.slice)for(var s=0;s<o;s++)t[n+s]=a[i+s];else for(var s=0;s<o;s++)t[n+s]=a.get(i+s);return o}return u.read=(e,t,n,r,i)=>(J.forceLoadFile(l),f(e,t,n,r,i)),u.mmap=(e,t,n,r,i)=>{J.forceLoadFile(l);var a=Ae(t);if(!a)throw new J.ErrnoError(48);return f(e,C,a,t,n),{ptr:a,allocated:!0}},l.stream_ops=u,l}},Re=(e,t)=>e?G(w,e,t):``,Y={DEFAULT_POLLMASK:5,calculateAt(e,t,n){if(U.isAbs(t))return t;var r;if(e===-100)r=J.cwd();else{var i=Y.getStreamFromFD(e);r=i.path}if(t.length==0){if(!n)throw new J.ErrnoError(44);return r}return U.join2(r,t)},doStat(e,t,n){var r=e(t);D[n>>2]=r.dev,D[n+4>>2]=r.mode,O[n+8>>2]=r.nlink,D[n+12>>2]=r.uid,D[n+16>>2]=r.gid,D[n+20>>2]=r.rdev,A[n+24>>3]=BigInt(r.size),D[n+32>>2]=4096,D[n+36>>2]=r.blocks;var i=r.atime.getTime(),a=r.mtime.getTime(),o=r.ctime.getTime();return A[n+40>>3]=BigInt(Math.floor(i/1e3)),O[n+48>>2]=i%1e3*1e3*1e3,A[n+56>>3]=BigInt(Math.floor(a/1e3)),O[n+64>>2]=a%1e3*1e3*1e3,A[n+72>>3]=BigInt(Math.floor(o/1e3)),O[n+80>>2]=o%1e3*1e3*1e3,A[n+88>>3]=BigInt(r.ino),0},doMsync(e,t,n,r,i){if(!J.isFile(t.node.mode))throw new J.ErrnoError(43);if(r&2)return 0;var a=w.slice(e,e+n);J.msync(t,a,i,n,r)},getStreamFromFD(e){var t=J.getStreamChecked(e);return t},varargs:void 0,getStr(e){var t=Re(e);return t}};function ze(e,t){try{return e=Y.getStr(e),J.chmod(e,t),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Be(e,t,n,r){try{if(t=Y.getStr(t),t=Y.calculateAt(e,t),n&-8)return-28;var i=J.lookupPath(t,{follow:!0}),a=i.node;if(!a)return-44;var o=``;return n&4&&(o+=`r`),n&2&&(o+=`w`),n&1&&(o+=`x`),o&&J.nodePermissions(a,o)?-2:0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ve(e,t){try{return J.fchmod(e,t),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function He(e,t,n){try{return J.fchown(e,t,n),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ue(){var e=D[Y.varargs>>2];return Y.varargs+=4,e}var X=Ue;function We(e,t,n){Y.varargs=n;try{var r=Y.getStreamFromFD(e);switch(t){case 0:var i=Ue();if(i<0)return-28;for(;J.streams[i];)i++;var a;return a=J.dupStream(r,i),a.fd;case 1:case 2:return 0;case 3:return r.flags;case 4:var i=Ue();return r.flags|=i,0;case 12:var i=X(),o=0;return T[i+o>>1]=2,0;case 13:case 14:return 0}return-28}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ge(e,t){try{var n=Y.getStreamFromFD(e);return Y.doStat(J.stat,n.path,t)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}var Ke=9007199254740992,qe=-9007199254740992,Z=e=>e<qe||e>Ke?NaN:Number(e);function Je(e,t){t=Z(t);try{return isNaN(t)?61:(J.ftruncate(e,t),0)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}var Q=(e,t,n)=>Te(e,w,t,n);function Ye(e,t){try{if(t===0)return-28;var n=J.cwd(),r=we(n)+1;return t<r?-68:(Q(n,e,t),r)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Xe(e,t,n){Y.varargs=n;try{var r=Y.getStreamFromFD(e);switch(t){case 21509:return r.tty?0:-59;case 21505:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcgets){var i=r.tty.ops.ioctl_tcgets(r),a=X();D[a>>2]=i.c_iflag||0,D[a+4>>2]=i.c_oflag||0,D[a+8>>2]=i.c_cflag||0,D[a+12>>2]=i.c_lflag||0;for(var o=0;o<32;o++)C[a+o+17]=i.c_cc[o]||0;return 0}return 0;case 21510:case 21511:case 21512:return r.tty?0:-59;case 21506:case 21507:case 21508:if(!r.tty)return-59;if(r.tty.ops.ioctl_tcsets){for(var a=X(),s=D[a>>2],c=D[a+4>>2],l=D[a+8>>2],u=D[a+12>>2],d=[],o=0;o<32;o++)d.push(C[a+o+17]);return r.tty.ops.ioctl_tcsets(r.tty,t,{c_iflag:s,c_oflag:c,c_cflag:l,c_lflag:u,c_cc:d})}return 0;case 21519:if(!r.tty)return-59;var a=X();return D[a>>2]=0,0;case 21520:return r.tty?-28:-59;case 21531:var a=X();return J.ioctl(r,t,a);case 21523:if(!r.tty)return-59;if(r.tty.ops.ioctl_tiocgwinsz){var f=r.tty.ops.ioctl_tiocgwinsz(r.tty),a=X();T[a>>1]=f[0],T[a+2>>1]=f[1]}return 0;case 21524:return r.tty?0:-59;case 21515:return r.tty?0:-59;default:return-28}}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Ze(e,t){try{return e=Y.getStr(e),Y.doStat(J.lstat,e,t)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function Qe(e,t,n){try{return t=Y.getStr(t),t=Y.calculateAt(e,t),t=U.normalize(t),t[t.length-1]===`/`&&(t=t.substr(0,t.length-1)),J.mkdir(t,n,0),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function $e(e,t,n,r){try{t=Y.getStr(t);var i=r&256,a=r&4096;return r&=-6401,t=Y.calculateAt(e,t,a),Y.doStat(i?J.lstat:J.stat,t,n)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function et(e,t,n,r){Y.varargs=r;try{t=Y.getStr(t),t=Y.calculateAt(e,t);var i=r?Ue():0;return J.open(t,n,i).fd}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function tt(e,t,n,r){try{if(t=Y.getStr(t),t=Y.calculateAt(e,t),r<=0)return-28;var i=J.readlink(t),a=Math.min(r,we(i)),o=C[n+a];return Q(i,n,r+1),C[n+a]=o,a}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function nt(e){try{return e=Y.getStr(e),J.rmdir(e),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function rt(e,t){try{return e=Y.getStr(e),Y.doStat(J.stat,e,t)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function it(e,t,n){try{return t=Y.getStr(t),t=Y.calculateAt(e,t),n===0?J.unlink(t):n===512?J.rmdir(t):le(`Invalid flags passed to unlinkat`),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}var at=e=>O[e>>2]+D[e+4>>2]*4294967296;function ot(e,t,n,r){try{t=Y.getStr(t),t=Y.calculateAt(e,t,!0);var i=Date.now(),a,o;if(!n)a=i,o=i;else{var s=at(n),c=D[n+8>>2];a=c==1073741823?i:c==1073741822?-1:s*1e3+c/(1e3*1e3),n+=16,s=at(n),c=D[n+8>>2],o=c==1073741823?i:c==1073741822?-1:s*1e3+c/(1e3*1e3)}return(o!=-1||a!=-1)&&J.utime(t,a,o),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}var st=1,ct=()=>st,lt=e=>e%4==0&&(e%100!=0||e%400==0),ut=[0,31,60,91,121,152,182,213,244,274,305,335],dt=[0,31,59,90,120,151,181,212,243,273,304,334],ft=e=>{var t=lt(e.getFullYear()),n=t?ut:dt,r=n[e.getMonth()]+e.getDate()-1;return r};function pt(e,t){e=Z(e);var n=new Date(e*1e3);D[t>>2]=n.getSeconds(),D[t+4>>2]=n.getMinutes(),D[t+8>>2]=n.getHours(),D[t+12>>2]=n.getDate(),D[t+16>>2]=n.getMonth(),D[t+20>>2]=n.getFullYear()-1900,D[t+24>>2]=n.getDay();var r=ft(n)|0;D[t+28>>2]=r,D[t+36>>2]=-(n.getTimezoneOffset()*60);var i=new Date(n.getFullYear(),0,1),a=new Date(n.getFullYear(),6,1).getTimezoneOffset(),o=i.getTimezoneOffset(),s=(a!=o&&n.getTimezoneOffset()==Math.min(o,a))|0;D[t+32>>2]=s}function mt(e,t,n,r,i,a,o){i=Z(i);try{if(isNaN(i))return 61;var s=Y.getStreamFromFD(r),c=J.mmap(s,e,i,t,n),l=c.ptr;return D[a>>2]=c.allocated,O[o>>2]=l,0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}function ht(e,t,n,r,i,a){a=Z(a);try{var o=Y.getStreamFromFD(i);n&2&&Y.doMsync(e,o,t,r,a)}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return-e.errno}}var gt=(e,t,n,r)=>{var i=new Date().getFullYear(),a=new Date(i,0,1),o=new Date(i,6,1),s=a.getTimezoneOffset(),c=o.getTimezoneOffset(),l=Math.max(s,c);O[e>>2]=l*60,D[t>>2]=Number(s!=c);var u=e=>{var t=e>=0?`-`:`+`,n=Math.abs(e),r=String(Math.floor(n/60)).padStart(2,`0`),i=String(n%60).padStart(2,`0`);return`UTC${t}${r}${i}`},d=u(s),f=u(c);c<s?(Q(d,n,17),Q(f,r,17)):(Q(d,r,17),Q(f,n,17))},_t=()=>Date.now(),vt=()=>performance.now(),yt=()=>2147483648,bt=e=>{var t=x.buffer,n=(e-t.byteLength+65535)/65536|0;try{return x.grow(n),N(),1}catch{}},xt=e=>{var t=w.length;e>>>=0;var n=yt();if(e>n)return!1;for(var r=1;r<=4;r*=2){var i=t*(1+.2/r);i=Math.min(i,e+100663296);var a=Math.min(n,ke(Math.max(e,i),65536)),o=bt(a);if(o)return!0}return!1},St={},Ct=()=>f||`./this.program`,wt=()=>{if(!wt.strings){var e=(typeof navigator==`object`&&navigator.languages&&navigator.languages[0]||`C`).replace(`-`,`_`)+`.UTF-8`,t={USER:`web_user`,LOGNAME:`web_user`,PATH:`/`,PWD:`/`,HOME:`/home/web_user`,LANG:e,_:Ct()};for(var n in St)St[n]===void 0?delete t[n]:t[n]=St[n];var r=[];for(var n in t)r.push(`${n}=${t[n]}`);wt.strings=r}return wt.strings},Tt=(e,t)=>{for(var n=0;n<e.length;++n)C[t++]=e.charCodeAt(n);C[t]=0},Et=(e,t)=>{var n=0;return wt().forEach((r,i)=>{var a=t+n;O[e+i*4>>2]=a,Tt(r,a),n+=r.length+1}),0},Dt=(e,t)=>{var n=wt();O[e>>2]=n.length;var r=0;return n.forEach(e=>r+=e.length+1),O[t>>2]=r,0};function Ot(e){try{var t=Y.getStreamFromFD(e);return J.close(t),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}function kt(e,t){try{var n=0,r=0,i=0,a=Y.getStreamFromFD(e),o=a.tty?2:J.isDir(a.mode)?3:J.isLink(a.mode)?7:4;return C[t]=o,T[t+2>>1]=i,A[t+8>>3]=BigInt(n),A[t+16>>3]=BigInt(r),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}var At=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=O[t>>2],s=O[t+4>>2];t+=8;var c=J.read(e,C,o,s,r);if(c<0)return-1;if(i+=c,c<s)break;r!==void 0&&(r+=c)}return i};function jt(e,t,n,r){try{var i=Y.getStreamFromFD(e),a=At(i,t,n);return O[r>>2]=a,0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}function Mt(e,t,n,r){t=Z(t);try{if(isNaN(t))return 61;var i=Y.getStreamFromFD(e);return J.llseek(i,t,n),A[r>>3]=BigInt(i.position),i.getdents&&t===0&&n===0&&(i.getdents=null),0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}function Nt(e){try{var t=Y.getStreamFromFD(e);return t.stream_ops?.fsync?t.stream_ops.fsync(t):0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}var Pt=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=O[t>>2],s=O[t+4>>2];t+=8;var c=J.write(e,C,o,s,r);if(c<0)return-1;if(i+=c,c<s)break;r!==void 0&&(r+=c)}return i};function Ft(e,t,n,r){try{var i=Y.getStreamFromFD(e),a=Pt(i,t,n);return O[r>>2]=a,0}catch(e){if(J===void 0||e.name!==`ErrnoError`)throw e;return e.errno}}J.createPreloadedFile=Fe,J.staticInit();var It={__syscall_chmod:ze,__syscall_faccessat:Be,__syscall_fchmod:Ve,__syscall_fchown32:He,__syscall_fcntl64:We,__syscall_fstat64:Ge,__syscall_ftruncate64:Je,__syscall_getcwd:Ye,__syscall_ioctl:Xe,__syscall_lstat64:Ze,__syscall_mkdirat:Qe,__syscall_newfstatat:$e,__syscall_openat:et,__syscall_readlinkat:tt,__syscall_rmdir:nt,__syscall_stat64:rt,__syscall_unlinkat:it,__syscall_utimensat:ot,_emscripten_get_now_is_monotonic:ct,_localtime_js:pt,_mmap_js:mt,_munmap_js:ht,_tzset_js:gt,emscripten_date_now:_t,emscripten_get_now:vt,emscripten_resize_heap:xt,environ_get:Et,environ_sizes_get:Dt,fd_close:Ot,fd_fdstat_get:kt,fd_read:jt,fd_seek:Mt,fd_sync:Nt,fd_write:Ft,memory:x},$=ve(),Lt=()=>(Lt=$.__wasm_call_ctors)(),Rt=r._sqlite3_status64=(e,t,n,i)=>(Rt=r._sqlite3_status64=$.sqlite3_status64)(e,t,n,i),zt=r._sqlite3_status=(e,t,n,i)=>(zt=r._sqlite3_status=$.sqlite3_status)(e,t,n,i),Bt=r._sqlite3_db_status=(e,t,n,i,a)=>(Bt=r._sqlite3_db_status=$.sqlite3_db_status)(e,t,n,i,a),Vt=r._sqlite3_msize=e=>(Vt=r._sqlite3_msize=$.sqlite3_msize)(e),Ht=r._sqlite3_vfs_find=e=>(Ht=r._sqlite3_vfs_find=$.sqlite3_vfs_find)(e),Ut=r._sqlite3_initialize=()=>(Ut=r._sqlite3_initialize=$.sqlite3_initialize)(),Wt=r._sqlite3_malloc=e=>(Wt=r._sqlite3_malloc=$.sqlite3_malloc)(e),Gt=r._sqlite3_free=e=>(Gt=r._sqlite3_free=$.sqlite3_free)(e),Kt=r._sqlite3_vfs_register=(e,t)=>(Kt=r._sqlite3_vfs_register=$.sqlite3_vfs_register)(e,t),qt=r._sqlite3_vfs_unregister=e=>(qt=r._sqlite3_vfs_unregister=$.sqlite3_vfs_unregister)(e),Jt=r._sqlite3_malloc64=e=>(Jt=r._sqlite3_malloc64=$.sqlite3_malloc64)(e),Yt=r._sqlite3_realloc=(e,t)=>(Yt=r._sqlite3_realloc=$.sqlite3_realloc)(e,t),Xt=r._sqlite3_realloc64=(e,t)=>(Xt=r._sqlite3_realloc64=$.sqlite3_realloc64)(e,t),Zt=r._sqlite3_value_text=e=>(Zt=r._sqlite3_value_text=$.sqlite3_value_text)(e),Qt=r._sqlite3_randomness=(e,t)=>(Qt=r._sqlite3_randomness=$.sqlite3_randomness)(e,t),$t=r._sqlite3_stricmp=(e,t)=>($t=r._sqlite3_stricmp=$.sqlite3_stricmp)(e,t),en=r._sqlite3_strnicmp=(e,t,n)=>(en=r._sqlite3_strnicmp=$.sqlite3_strnicmp)(e,t,n),tn=r._sqlite3_uri_parameter=(e,t)=>(tn=r._sqlite3_uri_parameter=$.sqlite3_uri_parameter)(e,t),nn=r._sqlite3_uri_boolean=(e,t,n)=>(nn=r._sqlite3_uri_boolean=$.sqlite3_uri_boolean)(e,t,n),rn=r._sqlite3_serialize=(e,t,n,i)=>(rn=r._sqlite3_serialize=$.sqlite3_serialize)(e,t,n,i),an=r._sqlite3_prepare_v2=(e,t,n,i,a)=>(an=r._sqlite3_prepare_v2=$.sqlite3_prepare_v2)(e,t,n,i,a),on=r._sqlite3_step=e=>(on=r._sqlite3_step=$.sqlite3_step)(e),sn=r._sqlite3_column_int64=(e,t)=>(sn=r._sqlite3_column_int64=$.sqlite3_column_int64)(e,t),cn=r._sqlite3_reset=e=>(cn=r._sqlite3_reset=$.sqlite3_reset)(e),ln=r._sqlite3_exec=(e,t,n,i,a)=>(ln=r._sqlite3_exec=$.sqlite3_exec)(e,t,n,i,a),un=r._sqlite3_column_int=(e,t)=>(un=r._sqlite3_column_int=$.sqlite3_column_int)(e,t),dn=r._sqlite3_finalize=e=>(dn=r._sqlite3_finalize=$.sqlite3_finalize)(e),fn=r._sqlite3_file_control=(e,t,n,i)=>(fn=r._sqlite3_file_control=$.sqlite3_file_control)(e,t,n,i),pn=r._sqlite3_column_name=(e,t)=>(pn=r._sqlite3_column_name=$.sqlite3_column_name)(e,t),mn=r._sqlite3_column_text=(e,t)=>(mn=r._sqlite3_column_text=$.sqlite3_column_text)(e,t),hn=r._sqlite3_column_type=(e,t)=>(hn=r._sqlite3_column_type=$.sqlite3_column_type)(e,t),gn=r._sqlite3_errmsg=e=>(gn=r._sqlite3_errmsg=$.sqlite3_errmsg)(e),_n=r._sqlite3_deserialize=(e,t,n,i,a,o)=>(_n=r._sqlite3_deserialize=$.sqlite3_deserialize)(e,t,n,i,a,o),vn=r._sqlite3_clear_bindings=e=>(vn=r._sqlite3_clear_bindings=$.sqlite3_clear_bindings)(e),yn=r._sqlite3_value_blob=e=>(yn=r._sqlite3_value_blob=$.sqlite3_value_blob)(e),bn=r._sqlite3_value_bytes=e=>(bn=r._sqlite3_value_bytes=$.sqlite3_value_bytes)(e),xn=r._sqlite3_value_double=e=>(xn=r._sqlite3_value_double=$.sqlite3_value_double)(e),Sn=r._sqlite3_value_int=e=>(Sn=r._sqlite3_value_int=$.sqlite3_value_int)(e),Cn=r._sqlite3_value_int64=e=>(Cn=r._sqlite3_value_int64=$.sqlite3_value_int64)(e),wn=r._sqlite3_value_subtype=e=>(wn=r._sqlite3_value_subtype=$.sqlite3_value_subtype)(e),Tn=r._sqlite3_value_pointer=(e,t)=>(Tn=r._sqlite3_value_pointer=$.sqlite3_value_pointer)(e,t),En=r._sqlite3_value_type=e=>(En=r._sqlite3_value_type=$.sqlite3_value_type)(e),Dn=r._sqlite3_value_nochange=e=>(Dn=r._sqlite3_value_nochange=$.sqlite3_value_nochange)(e),On=r._sqlite3_value_frombind=e=>(On=r._sqlite3_value_frombind=$.sqlite3_value_frombind)(e),kn=r._sqlite3_value_dup=e=>(kn=r._sqlite3_value_dup=$.sqlite3_value_dup)(e),An=r._sqlite3_value_free=e=>(An=r._sqlite3_value_free=$.sqlite3_value_free)(e),jn=r._sqlite3_result_blob=(e,t,n,i)=>(jn=r._sqlite3_result_blob=$.sqlite3_result_blob)(e,t,n,i),Mn=r._sqlite3_result_error_toobig=e=>(Mn=r._sqlite3_result_error_toobig=$.sqlite3_result_error_toobig)(e),Nn=r._sqlite3_result_error_nomem=e=>(Nn=r._sqlite3_result_error_nomem=$.sqlite3_result_error_nomem)(e),Pn=r._sqlite3_result_double=(e,t)=>(Pn=r._sqlite3_result_double=$.sqlite3_result_double)(e,t),Fn=r._sqlite3_result_error=(e,t,n)=>(Fn=r._sqlite3_result_error=$.sqlite3_result_error)(e,t,n),In=r._sqlite3_result_int=(e,t)=>(In=r._sqlite3_result_int=$.sqlite3_result_int)(e,t),Ln=r._sqlite3_result_int64=(e,t)=>(Ln=r._sqlite3_result_int64=$.sqlite3_result_int64)(e,t),Rn=r._sqlite3_result_null=e=>(Rn=r._sqlite3_result_null=$.sqlite3_result_null)(e),zn=r._sqlite3_result_pointer=(e,t,n,i)=>(zn=r._sqlite3_result_pointer=$.sqlite3_result_pointer)(e,t,n,i),Bn=r._sqlite3_result_subtype=(e,t)=>(Bn=r._sqlite3_result_subtype=$.sqlite3_result_subtype)(e,t),Vn=r._sqlite3_result_text=(e,t,n,i)=>(Vn=r._sqlite3_result_text=$.sqlite3_result_text)(e,t,n,i),Hn=r._sqlite3_result_zeroblob=(e,t)=>(Hn=r._sqlite3_result_zeroblob=$.sqlite3_result_zeroblob)(e,t),Un=r._sqlite3_result_zeroblob64=(e,t)=>(Un=r._sqlite3_result_zeroblob64=$.sqlite3_result_zeroblob64)(e,t),Wn=r._sqlite3_result_error_code=(e,t)=>(Wn=r._sqlite3_result_error_code=$.sqlite3_result_error_code)(e,t),Gn=r._sqlite3_user_data=e=>(Gn=r._sqlite3_user_data=$.sqlite3_user_data)(e),Kn=r._sqlite3_context_db_handle=e=>(Kn=r._sqlite3_context_db_handle=$.sqlite3_context_db_handle)(e),qn=r._sqlite3_vtab_nochange=e=>(qn=r._sqlite3_vtab_nochange=$.sqlite3_vtab_nochange)(e),Jn=r._sqlite3_vtab_in_first=(e,t)=>(Jn=r._sqlite3_vtab_in_first=$.sqlite3_vtab_in_first)(e,t),Yn=r._sqlite3_vtab_in_next=(e,t)=>(Yn=r._sqlite3_vtab_in_next=$.sqlite3_vtab_in_next)(e,t),Xn=r._sqlite3_aggregate_context=(e,t)=>(Xn=r._sqlite3_aggregate_context=$.sqlite3_aggregate_context)(e,t),Zn=r._sqlite3_get_auxdata=(e,t)=>(Zn=r._sqlite3_get_auxdata=$.sqlite3_get_auxdata)(e,t),Qn=r._sqlite3_set_auxdata=(e,t,n,i)=>(Qn=r._sqlite3_set_auxdata=$.sqlite3_set_auxdata)(e,t,n,i),$n=r._sqlite3_column_count=e=>($n=r._sqlite3_column_count=$.sqlite3_column_count)(e),er=r._sqlite3_data_count=e=>(er=r._sqlite3_data_count=$.sqlite3_data_count)(e),tr=r._sqlite3_column_blob=(e,t)=>(tr=r._sqlite3_column_blob=$.sqlite3_column_blob)(e,t),nr=r._sqlite3_column_bytes=(e,t)=>(nr=r._sqlite3_column_bytes=$.sqlite3_column_bytes)(e,t),rr=r._sqlite3_column_double=(e,t)=>(rr=r._sqlite3_column_double=$.sqlite3_column_double)(e,t),ir=r._sqlite3_column_value=(e,t)=>(ir=r._sqlite3_column_value=$.sqlite3_column_value)(e,t),ar=r._sqlite3_column_decltype=(e,t)=>(ar=r._sqlite3_column_decltype=$.sqlite3_column_decltype)(e,t),or=r._sqlite3_bind_blob=(e,t,n,i,a)=>(or=r._sqlite3_bind_blob=$.sqlite3_bind_blob)(e,t,n,i,a),sr=r._sqlite3_bind_double=(e,t,n)=>(sr=r._sqlite3_bind_double=$.sqlite3_bind_double)(e,t,n),cr=r._sqlite3_bind_int=(e,t,n)=>(cr=r._sqlite3_bind_int=$.sqlite3_bind_int)(e,t,n),lr=r._sqlite3_bind_int64=(e,t,n)=>(lr=r._sqlite3_bind_int64=$.sqlite3_bind_int64)(e,t,n),ur=r._sqlite3_bind_null=(e,t)=>(ur=r._sqlite3_bind_null=$.sqlite3_bind_null)(e,t),dr=r._sqlite3_bind_pointer=(e,t,n,i,a)=>(dr=r._sqlite3_bind_pointer=$.sqlite3_bind_pointer)(e,t,n,i,a),fr=r._sqlite3_bind_text=(e,t,n,i,a)=>(fr=r._sqlite3_bind_text=$.sqlite3_bind_text)(e,t,n,i,a),pr=r._sqlite3_bind_parameter_count=e=>(pr=r._sqlite3_bind_parameter_count=$.sqlite3_bind_parameter_count)(e),mr=r._sqlite3_bind_parameter_name=(e,t)=>(mr=r._sqlite3_bind_parameter_name=$.sqlite3_bind_parameter_name)(e,t),hr=r._sqlite3_bind_parameter_index=(e,t)=>(hr=r._sqlite3_bind_parameter_index=$.sqlite3_bind_parameter_index)(e,t),gr=r._sqlite3_db_handle=e=>(gr=r._sqlite3_db_handle=$.sqlite3_db_handle)(e),_r=r._sqlite3_stmt_readonly=e=>(_r=r._sqlite3_stmt_readonly=$.sqlite3_stmt_readonly)(e),vr=r._sqlite3_stmt_isexplain=e=>(vr=r._sqlite3_stmt_isexplain=$.sqlite3_stmt_isexplain)(e),yr=r._sqlite3_stmt_explain=(e,t)=>(yr=r._sqlite3_stmt_explain=$.sqlite3_stmt_explain)(e,t),br=r._sqlite3_stmt_busy=e=>(br=r._sqlite3_stmt_busy=$.sqlite3_stmt_busy)(e),xr=r._sqlite3_stmt_status=(e,t,n)=>(xr=r._sqlite3_stmt_status=$.sqlite3_stmt_status)(e,t,n),Sr=r._sqlite3_sql=e=>(Sr=r._sqlite3_sql=$.sqlite3_sql)(e),Cr=r._sqlite3_expanded_sql=e=>(Cr=r._sqlite3_expanded_sql=$.sqlite3_expanded_sql)(e),wr=r._sqlite3_preupdate_old=(e,t,n)=>(wr=r._sqlite3_preupdate_old=$.sqlite3_preupdate_old)(e,t,n),Tr=r._sqlite3_preupdate_count=e=>(Tr=r._sqlite3_preupdate_count=$.sqlite3_preupdate_count)(e),Er=r._sqlite3_preupdate_depth=e=>(Er=r._sqlite3_preupdate_depth=$.sqlite3_preupdate_depth)(e),Dr=r._sqlite3_preupdate_blobwrite=e=>(Dr=r._sqlite3_preupdate_blobwrite=$.sqlite3_preupdate_blobwrite)(e),Or=r._sqlite3_preupdate_new=(e,t,n)=>(Or=r._sqlite3_preupdate_new=$.sqlite3_preupdate_new)(e,t,n),kr=r._sqlite3_value_numeric_type=e=>(kr=r._sqlite3_value_numeric_type=$.sqlite3_value_numeric_type)(e),Ar=r._sqlite3_set_authorizer=(e,t,n)=>(Ar=r._sqlite3_set_authorizer=$.sqlite3_set_authorizer)(e,t,n),jr=r._sqlite3_strglob=(e,t)=>(jr=r._sqlite3_strglob=$.sqlite3_strglob)(e,t),Mr=r._sqlite3_strlike=(e,t,n)=>(Mr=r._sqlite3_strlike=$.sqlite3_strlike)(e,t,n),Nr=r._sqlite3_auto_extension=e=>(Nr=r._sqlite3_auto_extension=$.sqlite3_auto_extension)(e),Pr=r._sqlite3_cancel_auto_extension=e=>(Pr=r._sqlite3_cancel_auto_extension=$.sqlite3_cancel_auto_extension)(e),Fr=r._sqlite3_reset_auto_extension=()=>(Fr=r._sqlite3_reset_auto_extension=$.sqlite3_reset_auto_extension)(),Ir=r._sqlite3_prepare_v3=(e,t,n,i,a,o)=>(Ir=r._sqlite3_prepare_v3=$.sqlite3_prepare_v3)(e,t,n,i,a,o),Lr=r._sqlite3_create_module=(e,t,n,i)=>(Lr=r._sqlite3_create_module=$.sqlite3_create_module)(e,t,n,i),Rr=r._sqlite3_create_module_v2=(e,t,n,i,a)=>(Rr=r._sqlite3_create_module_v2=$.sqlite3_create_module_v2)(e,t,n,i,a),zr=r._sqlite3_drop_modules=(e,t)=>(zr=r._sqlite3_drop_modules=$.sqlite3_drop_modules)(e,t),Br=r._sqlite3_declare_vtab=(e,t)=>(Br=r._sqlite3_declare_vtab=$.sqlite3_declare_vtab)(e,t),Vr=r._sqlite3_vtab_on_conflict=e=>(Vr=r._sqlite3_vtab_on_conflict=$.sqlite3_vtab_on_conflict)(e),Hr=r._sqlite3_vtab_collation=(e,t)=>(Hr=r._sqlite3_vtab_collation=$.sqlite3_vtab_collation)(e,t),Ur=r._sqlite3_vtab_in=(e,t,n)=>(Ur=r._sqlite3_vtab_in=$.sqlite3_vtab_in)(e,t,n),Wr=r._sqlite3_vtab_rhs_value=(e,t,n)=>(Wr=r._sqlite3_vtab_rhs_value=$.sqlite3_vtab_rhs_value)(e,t,n),Gr=r._sqlite3_vtab_distinct=e=>(Gr=r._sqlite3_vtab_distinct=$.sqlite3_vtab_distinct)(e),Kr=r._sqlite3_keyword_name=(e,t,n)=>(Kr=r._sqlite3_keyword_name=$.sqlite3_keyword_name)(e,t,n),qr=r._sqlite3_keyword_count=()=>(qr=r._sqlite3_keyword_count=$.sqlite3_keyword_count)(),Jr=r._sqlite3_keyword_check=(e,t)=>(Jr=r._sqlite3_keyword_check=$.sqlite3_keyword_check)(e,t),Yr=r._sqlite3_complete=e=>(Yr=r._sqlite3_complete=$.sqlite3_complete)(e),Xr=r._sqlite3_libversion=()=>(Xr=r._sqlite3_libversion=$.sqlite3_libversion)(),Zr=r._sqlite3_libversion_number=()=>(Zr=r._sqlite3_libversion_number=$.sqlite3_libversion_number)(),Qr=r._sqlite3_shutdown=()=>(Qr=r._sqlite3_shutdown=$.sqlite3_shutdown)(),$r=r._sqlite3_last_insert_rowid=e=>($r=r._sqlite3_last_insert_rowid=$.sqlite3_last_insert_rowid)(e),ei=r._sqlite3_set_last_insert_rowid=(e,t)=>(ei=r._sqlite3_set_last_insert_rowid=$.sqlite3_set_last_insert_rowid)(e,t),ti=r._sqlite3_changes64=e=>(ti=r._sqlite3_changes64=$.sqlite3_changes64)(e),ni=r._sqlite3_changes=e=>(ni=r._sqlite3_changes=$.sqlite3_changes)(e),ri=r._sqlite3_total_changes64=e=>(ri=r._sqlite3_total_changes64=$.sqlite3_total_changes64)(e),ii=r._sqlite3_total_changes=e=>(ii=r._sqlite3_total_changes=$.sqlite3_total_changes)(e),ai=r._sqlite3_txn_state=(e,t)=>(ai=r._sqlite3_txn_state=$.sqlite3_txn_state)(e,t),oi=r._sqlite3_close_v2=e=>(oi=r._sqlite3_close_v2=$.sqlite3_close_v2)(e),si=r._sqlite3_busy_handler=(e,t,n)=>(si=r._sqlite3_busy_handler=$.sqlite3_busy_handler)(e,t,n),ci=r._sqlite3_progress_handler=(e,t,n,i)=>(ci=r._sqlite3_progress_handler=$.sqlite3_progress_handler)(e,t,n,i),li=r._sqlite3_busy_timeout=(e,t)=>(li=r._sqlite3_busy_timeout=$.sqlite3_busy_timeout)(e,t),ui=r._sqlite3_interrupt=e=>(ui=r._sqlite3_interrupt=$.sqlite3_interrupt)(e),di=r._sqlite3_is_interrupted=e=>(di=r._sqlite3_is_interrupted=$.sqlite3_is_interrupted)(e),fi=r._sqlite3_create_function=(e,t,n,i,a,o,s,c)=>(fi=r._sqlite3_create_function=$.sqlite3_create_function)(e,t,n,i,a,o,s,c),pi=r._sqlite3_create_function_v2=(e,t,n,i,a,o,s,c,l)=>(pi=r._sqlite3_create_function_v2=$.sqlite3_create_function_v2)(e,t,n,i,a,o,s,c,l),mi=r._sqlite3_create_window_function=(e,t,n,i,a,o,s,c,l,u)=>(mi=r._sqlite3_create_window_function=$.sqlite3_create_window_function)(e,t,n,i,a,o,s,c,l,u),hi=r._sqlite3_overload_function=(e,t,n)=>(hi=r._sqlite3_overload_function=$.sqlite3_overload_function)(e,t,n),gi=r._sqlite3_trace_v2=(e,t,n,i)=>(gi=r._sqlite3_trace_v2=$.sqlite3_trace_v2)(e,t,n,i),_i=r._sqlite3_commit_hook=(e,t,n)=>(_i=r._sqlite3_commit_hook=$.sqlite3_commit_hook)(e,t,n),vi=r._sqlite3_update_hook=(e,t,n)=>(vi=r._sqlite3_update_hook=$.sqlite3_update_hook)(e,t,n),yi=r._sqlite3_rollback_hook=(e,t,n)=>(yi=r._sqlite3_rollback_hook=$.sqlite3_rollback_hook)(e,t,n),bi=r._sqlite3_preupdate_hook=(e,t,n)=>(bi=r._sqlite3_preupdate_hook=$.sqlite3_preupdate_hook)(e,t,n),xi=r._sqlite3_error_offset=e=>(xi=r._sqlite3_error_offset=$.sqlite3_error_offset)(e),Si=r._sqlite3_errcode=e=>(Si=r._sqlite3_errcode=$.sqlite3_errcode)(e),Ci=r._sqlite3_extended_errcode=e=>(Ci=r._sqlite3_extended_errcode=$.sqlite3_extended_errcode)(e),wi=r._sqlite3_errstr=e=>(wi=r._sqlite3_errstr=$.sqlite3_errstr)(e),Ti=r._sqlite3_limit=(e,t,n)=>(Ti=r._sqlite3_limit=$.sqlite3_limit)(e,t,n),Ei=r._sqlite3_open=(e,t)=>(Ei=r._sqlite3_open=$.sqlite3_open)(e,t),Di=r._sqlite3_open_v2=(e,t,n,i)=>(Di=r._sqlite3_open_v2=$.sqlite3_open_v2)(e,t,n,i),Oi=r._sqlite3_create_collation=(e,t,n,i,a)=>(Oi=r._sqlite3_create_collation=$.sqlite3_create_collation)(e,t,n,i,a),ki=r._sqlite3_create_collation_v2=(e,t,n,i,a,o)=>(ki=r._sqlite3_create_collation_v2=$.sqlite3_create_collation_v2)(e,t,n,i,a,o),Ai=r._sqlite3_collation_needed=(e,t,n)=>(Ai=r._sqlite3_collation_needed=$.sqlite3_collation_needed)(e,t,n),ji=r._sqlite3_get_autocommit=e=>(ji=r._sqlite3_get_autocommit=$.sqlite3_get_autocommit)(e),Mi=r._sqlite3_table_column_metadata=(e,t,n,i,a,o,s,c,l)=>(Mi=r._sqlite3_table_column_metadata=$.sqlite3_table_column_metadata)(e,t,n,i,a,o,s,c,l),Ni=r._sqlite3_extended_result_codes=(e,t)=>(Ni=r._sqlite3_extended_result_codes=$.sqlite3_extended_result_codes)(e,t),Pi=r._sqlite3_uri_key=(e,t)=>(Pi=r._sqlite3_uri_key=$.sqlite3_uri_key)(e,t),Fi=r._sqlite3_uri_int64=(e,t,n)=>(Fi=r._sqlite3_uri_int64=$.sqlite3_uri_int64)(e,t,n),Ii=r._sqlite3_db_name=(e,t)=>(Ii=r._sqlite3_db_name=$.sqlite3_db_name)(e,t),Li=r._sqlite3_db_filename=(e,t)=>(Li=r._sqlite3_db_filename=$.sqlite3_db_filename)(e,t),Ri=r._sqlite3_db_readonly=(e,t)=>(Ri=r._sqlite3_db_readonly=$.sqlite3_db_readonly)(e,t),zi=r._sqlite3_compileoption_used=e=>(zi=r._sqlite3_compileoption_used=$.sqlite3_compileoption_used)(e),Bi=r._sqlite3_compileoption_get=e=>(Bi=r._sqlite3_compileoption_get=$.sqlite3_compileoption_get)(e),Vi=r._sqlite3session_diff=(e,t,n,i)=>(Vi=r._sqlite3session_diff=$.sqlite3session_diff)(e,t,n,i),Hi=r._sqlite3session_attach=(e,t)=>(Hi=r._sqlite3session_attach=$.sqlite3session_attach)(e,t),Ui=r._sqlite3session_create=(e,t,n)=>(Ui=r._sqlite3session_create=$.sqlite3session_create)(e,t,n),Wi=r._sqlite3session_delete=e=>(Wi=r._sqlite3session_delete=$.sqlite3session_delete)(e),Gi=r._sqlite3session_table_filter=(e,t,n)=>(Gi=r._sqlite3session_table_filter=$.sqlite3session_table_filter)(e,t,n),Ki=r._sqlite3session_changeset=(e,t,n)=>(Ki=r._sqlite3session_changeset=$.sqlite3session_changeset)(e,t,n),qi=r._sqlite3session_changeset_strm=(e,t,n)=>(qi=r._sqlite3session_changeset_strm=$.sqlite3session_changeset_strm)(e,t,n),Ji=r._sqlite3session_patchset_strm=(e,t,n)=>(Ji=r._sqlite3session_patchset_strm=$.sqlite3session_patchset_strm)(e,t,n),Yi=r._sqlite3session_patchset=(e,t,n)=>(Yi=r._sqlite3session_patchset=$.sqlite3session_patchset)(e,t,n),Xi=r._sqlite3session_enable=(e,t)=>(Xi=r._sqlite3session_enable=$.sqlite3session_enable)(e,t),Zi=r._sqlite3session_indirect=(e,t)=>(Zi=r._sqlite3session_indirect=$.sqlite3session_indirect)(e,t),Qi=r._sqlite3session_isempty=e=>(Qi=r._sqlite3session_isempty=$.sqlite3session_isempty)(e),$i=r._sqlite3session_memory_used=e=>($i=r._sqlite3session_memory_used=$.sqlite3session_memory_used)(e),ea=r._sqlite3session_object_config=(e,t,n)=>(ea=r._sqlite3session_object_config=$.sqlite3session_object_config)(e,t,n),ta=r._sqlite3session_changeset_size=e=>(ta=r._sqlite3session_changeset_size=$.sqlite3session_changeset_size)(e),na=r._sqlite3changeset_start=(e,t,n)=>(na=r._sqlite3changeset_start=$.sqlite3changeset_start)(e,t,n),ra=r._sqlite3changeset_start_v2=(e,t,n,i)=>(ra=r._sqlite3changeset_start_v2=$.sqlite3changeset_start_v2)(e,t,n,i),ia=r._sqlite3changeset_start_strm=(e,t,n)=>(ia=r._sqlite3changeset_start_strm=$.sqlite3changeset_start_strm)(e,t,n),aa=r._sqlite3changeset_start_v2_strm=(e,t,n,i)=>(aa=r._sqlite3changeset_start_v2_strm=$.sqlite3changeset_start_v2_strm)(e,t,n,i),oa=r._sqlite3changeset_next=e=>(oa=r._sqlite3changeset_next=$.sqlite3changeset_next)(e),sa=r._sqlite3changeset_op=(e,t,n,i,a)=>(sa=r._sqlite3changeset_op=$.sqlite3changeset_op)(e,t,n,i,a),ca=r._sqlite3changeset_pk=(e,t,n)=>(ca=r._sqlite3changeset_pk=$.sqlite3changeset_pk)(e,t,n),la=r._sqlite3changeset_old=(e,t,n)=>(la=r._sqlite3changeset_old=$.sqlite3changeset_old)(e,t,n),ua=r._sqlite3changeset_new=(e,t,n)=>(ua=r._sqlite3changeset_new=$.sqlite3changeset_new)(e,t,n),da=r._sqlite3changeset_conflict=(e,t,n)=>(da=r._sqlite3changeset_conflict=$.sqlite3changeset_conflict)(e,t,n),fa=r._sqlite3changeset_fk_conflicts=(e,t)=>(fa=r._sqlite3changeset_fk_conflicts=$.sqlite3changeset_fk_conflicts)(e,t),pa=r._sqlite3changeset_finalize=e=>(pa=r._sqlite3changeset_finalize=$.sqlite3changeset_finalize)(e),ma=r._sqlite3changeset_invert=(e,t,n,i)=>(ma=r._sqlite3changeset_invert=$.sqlite3changeset_invert)(e,t,n,i),ha=r._sqlite3changeset_invert_strm=(e,t,n,i)=>(ha=r._sqlite3changeset_invert_strm=$.sqlite3changeset_invert_strm)(e,t,n,i),ga=r._sqlite3changeset_apply_v2=(e,t,n,i,a,o,s,c,l)=>(ga=r._sqlite3changeset_apply_v2=$.sqlite3changeset_apply_v2)(e,t,n,i,a,o,s,c,l),_a=r._sqlite3changeset_apply=(e,t,n,i,a,o)=>(_a=r._sqlite3changeset_apply=$.sqlite3changeset_apply)(e,t,n,i,a,o),va=r._sqlite3changeset_apply_v2_strm=(e,t,n,i,a,o,s,c,l)=>(va=r._sqlite3changeset_apply_v2_strm=$.sqlite3changeset_apply_v2_strm)(e,t,n,i,a,o,s,c,l),ya=r._sqlite3changeset_apply_strm=(e,t,n,i,a,o)=>(ya=r._sqlite3changeset_apply_strm=$.sqlite3changeset_apply_strm)(e,t,n,i,a,o),ba=r._sqlite3changegroup_new=e=>(ba=r._sqlite3changegroup_new=$.sqlite3changegroup_new)(e),xa=r._sqlite3changegroup_add=(e,t,n)=>(xa=r._sqlite3changegroup_add=$.sqlite3changegroup_add)(e,t,n),Sa=r._sqlite3changegroup_output=(e,t,n)=>(Sa=r._sqlite3changegroup_output=$.sqlite3changegroup_output)(e,t,n),Ca=r._sqlite3changegroup_add_strm=(e,t,n)=>(Ca=r._sqlite3changegroup_add_strm=$.sqlite3changegroup_add_strm)(e,t,n),wa=r._sqlite3changegroup_output_strm=(e,t,n)=>(wa=r._sqlite3changegroup_output_strm=$.sqlite3changegroup_output_strm)(e,t,n),Ta=r._sqlite3changegroup_delete=e=>(Ta=r._sqlite3changegroup_delete=$.sqlite3changegroup_delete)(e),Ea=r._sqlite3changeset_concat=(e,t,n,i,a,o)=>(Ea=r._sqlite3changeset_concat=$.sqlite3changeset_concat)(e,t,n,i,a,o),Da=r._sqlite3changeset_concat_strm=(e,t,n,i,a,o)=>(Da=r._sqlite3changeset_concat_strm=$.sqlite3changeset_concat_strm)(e,t,n,i,a,o),Oa=r._sqlite3session_config=(e,t)=>(Oa=r._sqlite3session_config=$.sqlite3session_config)(e,t),ka=r._sqlite3_sourceid=()=>(ka=r._sqlite3_sourceid=$.sqlite3_sourceid)(),Aa=r._sqlite3__wasm_pstack_ptr=()=>(Aa=r._sqlite3__wasm_pstack_ptr=$.sqlite3__wasm_pstack_ptr)(),ja=r._sqlite3__wasm_pstack_restore=e=>(ja=r._sqlite3__wasm_pstack_restore=$.sqlite3__wasm_pstack_restore)(e),Ma=r._sqlite3__wasm_pstack_alloc=e=>(Ma=r._sqlite3__wasm_pstack_alloc=$.sqlite3__wasm_pstack_alloc)(e),Na=r._sqlite3__wasm_pstack_remaining=()=>(Na=r._sqlite3__wasm_pstack_remaining=$.sqlite3__wasm_pstack_remaining)(),Pa=r._sqlite3__wasm_pstack_quota=()=>(Pa=r._sqlite3__wasm_pstack_quota=$.sqlite3__wasm_pstack_quota)(),Fa=r._sqlite3__wasm_db_error=(e,t,n)=>(Fa=r._sqlite3__wasm_db_error=$.sqlite3__wasm_db_error)(e,t,n),Ia=r._sqlite3__wasm_test_struct=e=>(Ia=r._sqlite3__wasm_test_struct=$.sqlite3__wasm_test_struct)(e),La=r._sqlite3__wasm_enum_json=()=>(La=r._sqlite3__wasm_enum_json=$.sqlite3__wasm_enum_json)(),Ra=r._sqlite3__wasm_vfs_unlink=(e,t)=>(Ra=r._sqlite3__wasm_vfs_unlink=$.sqlite3__wasm_vfs_unlink)(e,t),za=r._sqlite3__wasm_db_vfs=(e,t)=>(za=r._sqlite3__wasm_db_vfs=$.sqlite3__wasm_db_vfs)(e,t),Ba=r._sqlite3__wasm_db_reset=e=>(Ba=r._sqlite3__wasm_db_reset=$.sqlite3__wasm_db_reset)(e),Va=r._sqlite3__wasm_db_export_chunked=(e,t)=>(Va=r._sqlite3__wasm_db_export_chunked=$.sqlite3__wasm_db_export_chunked)(e,t),Ha=r._sqlite3__wasm_db_serialize=(e,t,n,i,a)=>(Ha=r._sqlite3__wasm_db_serialize=$.sqlite3__wasm_db_serialize)(e,t,n,i,a),Ua=r._sqlite3__wasm_vfs_create_file=(e,t,n,i)=>(Ua=r._sqlite3__wasm_vfs_create_file=$.sqlite3__wasm_vfs_create_file)(e,t,n,i),Wa=r._sqlite3__wasm_posix_create_file=(e,t,n)=>(Wa=r._sqlite3__wasm_posix_create_file=$.sqlite3__wasm_posix_create_file)(e,t,n),Ga=r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(e,t)=>(Ga=r._sqlite3__wasm_kvvfsMakeKeyOnPstack=$.sqlite3__wasm_kvvfsMakeKeyOnPstack)(e,t),Ka=r._sqlite3__wasm_kvvfs_methods=()=>(Ka=r._sqlite3__wasm_kvvfs_methods=$.sqlite3__wasm_kvvfs_methods)(),qa=r._sqlite3__wasm_vtab_config=(e,t,n)=>(qa=r._sqlite3__wasm_vtab_config=$.sqlite3__wasm_vtab_config)(e,t,n),Ja=r._sqlite3__wasm_db_config_ip=(e,t,n,i)=>(Ja=r._sqlite3__wasm_db_config_ip=$.sqlite3__wasm_db_config_ip)(e,t,n,i),Ya=r._sqlite3__wasm_db_config_pii=(e,t,n,i,a)=>(Ya=r._sqlite3__wasm_db_config_pii=$.sqlite3__wasm_db_config_pii)(e,t,n,i,a),Xa=r._sqlite3__wasm_db_config_s=(e,t,n)=>(Xa=r._sqlite3__wasm_db_config_s=$.sqlite3__wasm_db_config_s)(e,t,n),Za=r._sqlite3__wasm_config_i=(e,t)=>(Za=r._sqlite3__wasm_config_i=$.sqlite3__wasm_config_i)(e,t),Qa=r._sqlite3__wasm_config_ii=(e,t,n)=>(Qa=r._sqlite3__wasm_config_ii=$.sqlite3__wasm_config_ii)(e,t,n),$a=r._sqlite3__wasm_config_j=(e,t)=>($a=r._sqlite3__wasm_config_j=$.sqlite3__wasm_config_j)(e,t),eo=r._sqlite3__wasm_qfmt_token=(e,t)=>(eo=r._sqlite3__wasm_qfmt_token=$.sqlite3__wasm_qfmt_token)(e,t),to=r._sqlite3__wasm_init_wasmfs=e=>(to=r._sqlite3__wasm_init_wasmfs=$.sqlite3__wasm_init_wasmfs)(e),no=r._sqlite3__wasm_test_intptr=e=>(no=r._sqlite3__wasm_test_intptr=$.sqlite3__wasm_test_intptr)(e),ro=r._sqlite3__wasm_test_voidptr=e=>(ro=r._sqlite3__wasm_test_voidptr=$.sqlite3__wasm_test_voidptr)(e),io=r._sqlite3__wasm_test_int64_max=()=>(io=r._sqlite3__wasm_test_int64_max=$.sqlite3__wasm_test_int64_max)(),ao=r._sqlite3__wasm_test_int64_min=()=>(ao=r._sqlite3__wasm_test_int64_min=$.sqlite3__wasm_test_int64_min)(),oo=r._sqlite3__wasm_test_int64_times2=e=>(oo=r._sqlite3__wasm_test_int64_times2=$.sqlite3__wasm_test_int64_times2)(e),so=r._sqlite3__wasm_test_int64_minmax=(e,t)=>(so=r._sqlite3__wasm_test_int64_minmax=$.sqlite3__wasm_test_int64_minmax)(e,t),co=r._sqlite3__wasm_test_int64ptr=e=>(co=r._sqlite3__wasm_test_int64ptr=$.sqlite3__wasm_test_int64ptr)(e),lo=r._sqlite3__wasm_test_stack_overflow=e=>(lo=r._sqlite3__wasm_test_stack_overflow=$.sqlite3__wasm_test_stack_overflow)(e),uo=r._sqlite3__wasm_test_str_hello=e=>(uo=r._sqlite3__wasm_test_str_hello=$.sqlite3__wasm_test_str_hello)(e),fo=r._sqlite3__wasm_SQLTester_strglob=(e,t)=>(fo=r._sqlite3__wasm_SQLTester_strglob=$.sqlite3__wasm_SQLTester_strglob)(e,t),po=r._malloc=e=>(po=r._malloc=$.malloc)(e),mo=r._free=e=>(mo=r._free=$.free)(e),ho=r._realloc=(e,t)=>(ho=r._realloc=$.realloc)(e,t),go=(e,t)=>(go=$.emscripten_builtin_memalign)(e,t),_o=e=>(_o=$._emscripten_stack_restore)(e),vo=e=>(vo=$._emscripten_stack_alloc)(e),yo=()=>(yo=$.emscripten_stack_get_current)();r.wasmMemory=x;var bo,xo;B=function e(){bo||So(),bo||(B=e)};function So(){if(R>0||!xo&&(xo=1,te(),R>0))return;function e(){bo||(bo=1,r.calledRun=1,!S&&(ne(),i(r),r.onRuntimeInitialized?.(),re()))}r.setStatus?(r.setStatus(`Running...`),setTimeout(()=>{setTimeout(()=>r.setStatus(``),1),e()},1)):e()}if(r.preInit)for(typeof r.preInit==`function`&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return So(),r.runSQLite3PostLoadInit=function(e){if(globalThis.sqlite3ApiBootstrap=function e(t=globalThis.sqlite3ApiConfig||e.defaultConfig){if(e.sqlite3)return(e.sqlite3.config||console).warn(`sqlite3ApiBootstrap() called multiple times.`,`Config and external initializers are ignored on calls after the first.`),e.sqlite3;let n=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>r!==void 0&&r.HEAPU64?!0:!!globalThis.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:`/opfs`,useStdAlloc:!1},t||{});Object.assign(n,{allocExportName:n.useStdAlloc?`malloc`:`sqlite3_malloc`,deallocExportName:n.useStdAlloc?`free`:`sqlite3_free`,reallocExportName:n.useStdAlloc?`realloc`:`sqlite3_realloc`},n),[`exports`,`memory`,`wasmfsOpfsDir`].forEach(e=>{typeof n[e]==`function`&&(n[e]=n[e]())}),delete globalThis.sqlite3ApiConfig,delete e.defaultConfig;let i=Object.create(null),a=Object.create(null),o=e=>i.sqlite3_js_rc_str&&i.sqlite3_js_rc_str(e)||`Unknown result code #`+e,s=e=>typeof e==`number`&&e===(e|0);class c extends Error{constructor(...e){let t;if(e.length)if(s(e[0]))if(t=e[0],e.length===1)super(o(e[0]));else{let n=o(t);typeof e[1]==`object`?super(n,e[1]):(e[0]=n+`:`,super(e.join(` `)))}else e.length===2&&typeof e[1]==`object`?super(...e):super(e.join(` `));this.resultCode=t||i.SQLITE_ERROR,this.name=`SQLite3Error`}}c.toss=(...e)=>{throw new c(...e)};let l=c.toss;n.wasmfsOpfsDir&&!/^\/[^/]+$/.test(n.wasmfsOpfsDir)&&l(`config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.`);let u=e=>typeof e!=`bigint`&&e===(e|0)&&e<=2147483647&&e>=-2147483648,d=function e(t){return e._max||(e._max=BigInt(`0x7fffffffffffffff`),e._min=~e._max),t>=e._min&&t<=e._max},f=e=>e>=-2147483647n-1n&&e<=2147483647n,p=function e(t){return e._min||(e._min=-(2**53-1),e._max=2**53-1),t>=e._min&&t<=e._max},m=e=>e&&e.constructor&&u(e.constructor.BYTES_PER_ELEMENT)?e:!1,h=typeof SharedArrayBuffer>`u`?function(){}:SharedArrayBuffer,g=e=>e.buffer instanceof h,_=(e,t,n)=>g(e)?e.slice(t,n):e.subarray(t,n),y=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer),b=e=>e&&(e instanceof Uint8Array||e instanceof Int8Array||e instanceof ArrayBuffer),x=e=>y(e)||l(`Value is not of a supported TypedArray type.`),S=new TextDecoder(`utf-8`),C=function(e,t,n){return S.decode(_(e,t,n))},w=function(e){return b(e)?C(e instanceof ArrayBuffer?new Uint8Array(e):e):Array.isArray(e)?e.join(``):(a.isPtr(e)&&(e=a.cstrToJs(e)),e)};class T extends Error{constructor(...e){e.length===2&&typeof e[1]==`object`?super(...e):e.length?super(e.join(` `)):super(`Allocation failed.`),this.resultCode=i.SQLITE_NOMEM,this.name=`WasmAllocError`}}T.toss=(...e)=>{throw new T(...e)},Object.assign(i,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(e,t,n,r,i,a,o,s,c)=>{},sqlite3_create_function:(e,t,n,r,i,a,o,s)=>{},sqlite3_create_window_function:(e,t,n,r,i,a,o,s,c,l)=>{},sqlite3_prepare_v3:(e,t,n,r,i,a)=>{},sqlite3_prepare_v2:(e,t,n,r,i)=>{},sqlite3_exec:(e,t,n,r,i)=>{},sqlite3_randomness:(e,t)=>{}});let E={affirmBindableTypedArray:x,flexibleString:w,bigIntFits32:f,bigIntFits64:d,bigIntFitsDouble:p,isBindableTypedArray:y,isInt32:u,isSQLableTypedArray:b,isTypedArray:m,typedArrayToString:C,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:g,toss:function(...e){throw Error(e.join(` `))},toss3:l,typedArrayPart:_,affirmDbHeader:function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e)),15>e.byteLength&&l(`Input does not contain an SQLite3 database header.`);for(let t=0;t<15;++t)`SQLite format 3`.charCodeAt(t)!==e[t]&&l(`Input does not contain an SQLite3 database header.`)},affirmIsDb:function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=e.byteLength;(t<512||t%512!=0)&&l(`Byte array size`,t,`is invalid for an SQLite3 db.`),E.affirmDbHeader(e)}};Object.assign(a,{ptrSizeof:n.wasmPtrSizeof||4,ptrIR:n.wasmPtrIR||`i32`,bigIntEnabled:!!n.bigIntEnabled,exports:n.exports||l(`Missing API config.exports (WASM module exports).`),memory:n.memory||n.exports.memory||l(`API config object requires a WebAssembly.Memory object`,`in either config.exports.memory (exported)`,`or config.memory (imported).`),alloc:void 0,realloc:void 0,dealloc:void 0}),a.allocFromTypedArray=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e)),x(e);let t=a.alloc(e.byteLength||1);return a.heapForSize(e.constructor).set(e.byteLength?e:[0],t),t};{let e=n.allocExportName,t=n.deallocExportName,r=n.reallocExportName;for(let n of[e,t,r]){let e=a.exports[n];e instanceof Function||l(`Missing required exports[`,n,`] function.`)}a.alloc=function e(t){return e.impl(t)||T.toss(`Failed to allocate`,t,` bytes.`)},a.alloc.impl=a.exports[e],a.realloc=function e(t,n){let r=e.impl(t,n);return n?r||T.toss(`Failed to reallocate`,n,` bytes.`):0},a.realloc.impl=a.exports[r],a.dealloc=a.exports[t]}a.compileOptionUsed=function e(t){if(arguments.length){if(Array.isArray(t)){let e={};return t.forEach(t=>{e[t]=i.sqlite3_compileoption_used(t)}),e}else if(typeof t==`object`)return Object.keys(t).forEach(e=>{t[e]=i.sqlite3_compileoption_used(e)}),t}else{if(e._result)return e._result;e._opt||=(e._rx=/^([^=]+)=(.+)/,e._rxInt=/^-?\d+$/,function(t,n){let r=e._rx.exec(t);n[0]=r?r[1]:t,n[1]=r?e._rxInt.test(r[2])?+r[2]:r[2]:!0});let t={},n=[0,0],r=0,a;for(;a=i.sqlite3_compileoption_get(r++);)e._opt(a,n),t[n[0]]=n[1];return e._result=t}return typeof t==`string`?!!i.sqlite3_compileoption_used(t):!1},a.pstack=Object.assign(Object.create(null),{restore:a.exports.sqlite3__wasm_pstack_restore,alloc:function(e){return typeof e==`string`&&!(e=a.sizeofIR(e))&&T.toss(`Invalid value for pstack.alloc(`,arguments[0],`)`),a.exports.sqlite3__wasm_pstack_alloc(e)||T.toss(`Could not allocate`,e,`bytes from the pstack.`)},allocChunks:function(e,t){typeof t==`string`&&!(t=a.sizeofIR(t))&&T.toss(`Invalid size value for allocChunks(`,arguments[1],`)`);let n=a.pstack.alloc(e*t),r=[],i=0,o=0;for(;i<e;++i,o+=t)r.push(n+o);return r},allocPtr:(e=1,t=!0)=>e===1?a.pstack.alloc(t?8:a.ptrSizeof):a.pstack.allocChunks(e,t?8:a.ptrSizeof),call:function(e){let t=a.pstack.pointer;try{return e(k)}finally{a.pstack.restore(t)}}}),Object.defineProperties(a.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3__wasm_pstack_remaining}}),i.sqlite3_randomness=(...e)=>{if(e.length===1&&E.isTypedArray(e[0])&&e[0].BYTES_PER_ELEMENT===1){let t=e[0];if(t.byteLength===0)return a.exports.sqlite3_randomness(0,0),t;let n=a.pstack.pointer;try{let e=t.byteLength,n=0,r=a.exports.sqlite3_randomness,i=a.heap8u(),o=e<512?e:512,s=a.pstack.alloc(o);do{let a=e>o?o:e;r(a,s),t.set(_(i,s,s+a),n),e-=a,n+=a}while(e>0)}catch(e){console.error(`Highly unexpected (and ignored!) exception in sqlite3_randomness():`,e)}finally{a.pstack.restore(n)}return t}a.exports.sqlite3_randomness(...e)};let D;if(i.sqlite3_wasmfs_opfs_dir=function(){if(D!==void 0)return D;let e=n.wasmfsOpfsDir;if(!e||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return D=``;try{return D=e&&a.xCallWrapped(`sqlite3__wasm_init_wasmfs`,`i32`,[`string`],e)===0?e:``}catch{return D=``}},i.sqlite3_wasmfs_filename_is_persistent=function(e){let t=i.sqlite3_wasmfs_opfs_dir();return t&&e?e.startsWith(t+`/`):!1},i.sqlite3_js_db_uses_vfs=function(e,t,n=0){try{let r=i.sqlite3_vfs_find(t);return r?e?r===i.sqlite3_js_db_vfs(e,n)?r:!1:r===i.sqlite3_vfs_find(0)?r:!1:!1}catch{return!1}},i.sqlite3_js_vfs_list=function(){let e=[],t=i.sqlite3_vfs_find(0);for(;t;){let n=new i.sqlite3_vfs(t);e.push(a.cstrToJs(n.$zName)),t=n.$pNext,n.dispose()}return e},i.sqlite3_js_db_export=function(e,t=0){e=a.xWrap.testConvertArg(`sqlite3*`,e),e||l(`Invalid sqlite3* argument.`),a.bigIntEnabled||l(`BigInt64 support is not enabled.`);let n=a.scopedAllocPush(),r;try{let n=a.scopedAlloc(8+a.ptrSizeof),i=n+8,o=t?a.isPtr(t)?t:a.scopedAllocCString(``+t):0,s=a.exports.sqlite3__wasm_db_serialize(e,o,i,n,0);s&&l(`Database serialization failed with code`,k.capi.sqlite3_js_rc_str(s)),r=a.peekPtr(i);let c=a.peek(n,`i64`);return s=c?a.heap8u().slice(r,r+Number(c)):new Uint8Array,s}finally{r&&a.exports.sqlite3_free(r),a.scopedAllocPop(n)}},i.sqlite3_js_db_vfs=(e,t=0)=>E.sqlite3__wasm_db_vfs(e,t),i.sqlite3_js_aggregate_context=(e,t)=>i.sqlite3_aggregate_context(e,t)||(t?T.toss(`Cannot allocate`,t,`bytes for sqlite3_aggregate_context()`):0),i.sqlite3_js_posix_create_file=function(e,t,n){let r;t&&a.isPtr(t)?r=t:t instanceof ArrayBuffer||t instanceof Uint8Array?(r=a.allocFromTypedArray(t),(arguments.length<3||!E.isInt32(n)||n<0)&&(n=t.byteLength)):c.toss(`Invalid 2nd argument for sqlite3_js_posix_create_file().`);try{(!E.isInt32(n)||n<0)&&c.toss(`Invalid 3rd argument for sqlite3_js_posix_create_file().`);let t=E.sqlite3__wasm_posix_create_file(e,r,n);t&&c.toss(`Creation of file failed with sqlite3 result code`,i.sqlite3_js_rc_str(t))}finally{a.dealloc(r)}},i.sqlite3_js_vfs_create_file=function(e,t,r,o){n.warn(`sqlite3_js_vfs_create_file() is deprecated and`,`should be avoided because it can lead to C-level crashes.`,`See its documentation for alternative options.`);let s;r?(a.isPtr(r)?s=r:r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array?(s=a.allocFromTypedArray(r),(arguments.length<4||!E.isInt32(o)||o<0)&&(o=r.byteLength)):c.toss(`Invalid 3rd argument type for sqlite3_js_vfs_create_file().`)):s=0,(!E.isInt32(o)||o<0)&&(a.dealloc(s),c.toss(`Invalid 4th argument for sqlite3_js_vfs_create_file().`));try{let n=E.sqlite3__wasm_vfs_create_file(e,t,s,o);n&&c.toss(`Creation of file failed with sqlite3 result code`,i.sqlite3_js_rc_str(n))}finally{a.dealloc(s)}},i.sqlite3_js_sql_to_string=e=>{if(typeof e==`string`)return e;let t=w(v);return t===v?void 0:t},E.isUIThread()){let e=function(e){let t=Object.create(null);return t.prefix=`kvvfs-`+e,t.stores=[],(e===`session`||e===``)&&t.stores.push(globalThis.sessionStorage),(e===`local`||e===``)&&t.stores.push(globalThis.localStorage),t};i.sqlite3_js_kvvfs_clear=function(t=``){let n=0,r=e(t);return r.stores.forEach(e=>{let t=[],i;for(i=0;i<e.length;++i){let n=e.key(i);n.startsWith(r.prefix)&&t.push(n)}t.forEach(t=>e.removeItem(t)),n+=t.length}),n},i.sqlite3_js_kvvfs_size=function(t=``){let n=0,r=e(t);return r.stores.forEach(e=>{let t;for(t=0;t<e.length;++t){let i=e.key(t);i.startsWith(r.prefix)&&(n+=i.length,n+=e.getItem(i).length)}}),n*2}}i.sqlite3_db_config=function(e,t,...n){switch(t){case i.SQLITE_DBCONFIG_ENABLE_FKEY:case i.SQLITE_DBCONFIG_ENABLE_TRIGGER:case i.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case i.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case i.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case i.SQLITE_DBCONFIG_ENABLE_QPSG:case i.SQLITE_DBCONFIG_TRIGGER_EQP:case i.SQLITE_DBCONFIG_RESET_DATABASE:case i.SQLITE_DBCONFIG_DEFENSIVE:case i.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case i.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case i.SQLITE_DBCONFIG_DQS_DML:case i.SQLITE_DBCONFIG_DQS_DDL:case i.SQLITE_DBCONFIG_ENABLE_VIEW:case i.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case i.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case i.SQLITE_DBCONFIG_STMT_SCANSTATUS:case i.SQLITE_DBCONFIG_REVERSE_SCANORDER:case i.SQLITE_DBCONFIG_ENABLE_ATTACH_CREATE:case i.SQLITE_DBCONFIG_ENABLE_ATTACH_WRITE:case i.SQLITE_DBCONFIG_ENABLE_COMMENTS:return this.ip||=a.xWrap(`sqlite3__wasm_db_config_ip`,`int`,[`sqlite3*`,`int`,`int`,`*`]),this.ip(e,t,n[0],n[1]||0);case i.SQLITE_DBCONFIG_LOOKASIDE:return this.pii||=a.xWrap(`sqlite3__wasm_db_config_pii`,`int`,[`sqlite3*`,`int`,`*`,`int`,`int`]),this.pii(e,t,n[0],n[1],n[2]);case i.SQLITE_DBCONFIG_MAINDBNAME:return this.s||=a.xWrap(`sqlite3__wasm_db_config_s`,`int`,[`sqlite3*`,`int`,`string:static`]),this.s(e,t,n[0]);default:return i.SQLITE_MISUSE}}.bind(Object.create(null)),i.sqlite3_value_to_js=function(e,t=!0){let n,r=i.sqlite3_value_type(e);switch(r){case i.SQLITE_INTEGER:a.bigIntEnabled?(n=i.sqlite3_value_int64(e),E.bigIntFitsDouble(n)&&(n=Number(n))):n=i.sqlite3_value_double(e);break;case i.SQLITE_FLOAT:n=i.sqlite3_value_double(e);break;case i.SQLITE_TEXT:n=i.sqlite3_value_text(e);break;case i.SQLITE_BLOB:{let t=i.sqlite3_value_bytes(e),r=i.sqlite3_value_blob(e);t&&!r&&k.WasmAllocError.toss(`Cannot allocate memory for blob argument of`,t,`byte(s)`),n=t?a.heap8u().slice(r,r+Number(t)):null;break}case i.SQLITE_NULL:n=null;break;default:t&&l(i.SQLITE_MISMATCH,`Unhandled sqlite3_value_type():`,r),n=void 0}return n},i.sqlite3_values_to_js=function(e,t,n=!0){let r,o=[];for(r=0;r<e;++r)o.push(i.sqlite3_value_to_js(a.peekPtr(t+a.ptrSizeof*r),n));return o},i.sqlite3_result_error_js=function(e,t){t instanceof T?i.sqlite3_result_error_nomem(e):i.sqlite3_result_error(e,``+t,-1)},i.sqlite3_result_js=function(e,t){if(t instanceof Error){i.sqlite3_result_error_js(e,t);return}try{switch(typeof t){case`undefined`:break;case`boolean`:i.sqlite3_result_int(e,t?1:0);break;case`bigint`:E.bigIntFits32(t)?i.sqlite3_result_int(e,Number(t)):E.bigIntFitsDouble(t)?i.sqlite3_result_double(e,Number(t)):a.bigIntEnabled?E.bigIntFits64(t)?i.sqlite3_result_int64(e,t):l(`BigInt value`,t.toString(),`is too BigInt for int64.`):l(`BigInt value`,t.toString(),`is too BigInt.`);break;case`number`:{let n;n=E.isInt32(t)?i.sqlite3_result_int:a.bigIntEnabled&&Number.isInteger(t)&&E.bigIntFits64(BigInt(t))?i.sqlite3_result_int64:i.sqlite3_result_double,n(e,t);break}case`string`:{let[n,r]=a.allocCString(t,!0);i.sqlite3_result_text(e,n,r,i.SQLITE_WASM_DEALLOC);break}case`object`:if(t===null){i.sqlite3_result_null(e);break}else if(E.isBindableTypedArray(t)){let n=a.allocFromTypedArray(t);i.sqlite3_result_blob(e,n,t.byteLength,i.SQLITE_WASM_DEALLOC);break}default:l(`Don't not how to handle this UDF result value:`,typeof t,t)}}catch(t){i.sqlite3_result_error_js(e,t)}},i.sqlite3_column_js=function(e,t,n=!0){let r=i.sqlite3_column_value(e,t);return r===0?void 0:i.sqlite3_value_to_js(r,n)};let O=function(e,t,n){n=i[n],this.ptr?a.pokePtr(this.ptr,0):this.ptr=a.allocPtr();let r=n(e,t,this.ptr);if(r)return c.toss(r,arguments[2]+`() failed with code `+r);let o=a.peekPtr(this.ptr);return o?i.sqlite3_value_to_js(o,!0):void 0}.bind(Object.create(null));i.sqlite3_preupdate_new_js=(e,t)=>O(e,t,`sqlite3_preupdate_new`),i.sqlite3_preupdate_old_js=(e,t)=>O(e,t,`sqlite3_preupdate_old`),i.sqlite3changeset_new_js=(e,t)=>O(e,t,`sqlite3changeset_new`),i.sqlite3changeset_old_js=(e,t)=>O(e,t,`sqlite3changeset_old`);let k={WasmAllocError:T,SQLite3Error:c,capi:i,util:E,wasm:a,config:n,version:Object.create(null),client:void 0,asyncPostInit:async function t(){if(t.isReady instanceof Promise)return t.isReady;let r=e.initializersAsync;delete e.initializersAsync;let i=async()=>(k.__isUnderTest||(delete k.util,delete k.StructBinder),k),a=e=>{throw n.error(`an async sqlite3 initializer failed:`,e),e};if(!r||!r.length)return t.isReady=i().catch(a);r=r.map(e=>e instanceof Function?async t=>e(k):e),r.push(i);let o=Promise.resolve(k);for(;r.length;)o=o.then(r.shift());return t.isReady=o.catch(a)},scriptInfo:void 0};try{e.initializers.forEach(e=>{e(k)})}catch(e){throw console.error(`sqlite3 bootstrap initializer threw:`,e),e}return delete e.initializers,e.sqlite3=k,k},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(e){e.bigIntEnabled===void 0&&(e.bigIntEnabled=!!globalThis.BigInt64Array);let t=(...e)=>{throw Error(e.join(` `))};e.exports||Object.defineProperty(e,`exports`,{enumerable:!0,configurable:!0,get:()=>e.instance&&e.instance.exports});let n=e.pointerIR||`i32`,r=e.ptrSizeof=n===`i32`?4:n===`i64`?8:t(`Unhandled ptrSizeof:`,n),i=Object.create(null);i.heapSize=0,i.memory=null,i.freeFuncIndexes=[],i.scopedAlloc=[],i.utf8Decoder=new TextDecoder,i.utf8Encoder=new TextEncoder(`utf-8`),e.sizeofIR=e=>{switch(e){case`i8`:return 1;case`i16`:return 2;case`i32`:case`f32`:case`float`:return 4;case`i64`:case`f64`:case`double`:return 8;case`*`:return r;default:return(``+e).endsWith(`*`)?r:void 0}};let a=function(){if(!i.memory)i.memory=e.memory instanceof WebAssembly.Memory?e.memory:e.exports.memory;else if(i.heapSize===i.memory.buffer.byteLength)return i;let t=i.memory.buffer;return i.HEAP8=new Int8Array(t),i.HEAP8U=new Uint8Array(t),i.HEAP16=new Int16Array(t),i.HEAP16U=new Uint16Array(t),i.HEAP32=new Int32Array(t),i.HEAP32U=new Uint32Array(t),e.bigIntEnabled&&(i.HEAP64=new BigInt64Array(t),i.HEAP64U=new BigUint64Array(t)),i.HEAP32F=new Float32Array(t),i.HEAP64F=new Float64Array(t),i.heapSize=t.byteLength,i};e.heap8=()=>a().HEAP8,e.heap8u=()=>a().HEAP8U,e.heap16=()=>a().HEAP16,e.heap16u=()=>a().HEAP16U,e.heap32=()=>a().HEAP32,e.heap32u=()=>a().HEAP32U,e.heapForSize=function(n,r=!0){let o=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:a();switch(n){case Int8Array:return o.HEAP8;case Uint8Array:return o.HEAP8U;case Int16Array:return o.HEAP16;case Uint16Array:return o.HEAP16U;case Int32Array:return o.HEAP32;case Uint32Array:return o.HEAP32U;case 8:return r?o.HEAP8U:o.HEAP8;case 16:return r?o.HEAP16U:o.HEAP16;case 32:return r?o.HEAP32U:o.HEAP32;case 64:if(o.HEAP64)return r?o.HEAP64U:o.HEAP64;break;default:if(e.bigIntEnabled){if(n===globalThis.BigUint64Array)return o.HEAP64U;if(n===globalThis.BigInt64Array)return o.HEAP64;break}}t(`Invalid heapForSize() size: expecting 8, 16, 32,`,`or (if BigInt is enabled) 64.`)},e.functionTable=function(){return e.exports.__indirect_function_table},e.functionEntry=function(t){let n=e.functionTable();return t<n.length?n.get(t):void 0},e.jsFuncToWasm=function e(n,r){if(e._||={sigTypes:Object.assign(Object.create(null),{i:`i32`,p:`i32`,P:`i32`,s:`i32`,j:`i64`,f:`f32`,d:`f64`}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(e,t,n){n<128?e[t](n):e[t](n%128|128,n>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(t){let n=e._.rxJSig.exec(t);return n?n[2]:t.substr(1)},letterType:n=>e._.sigTypes[n]||t(`Invalid signature letter:`,n),pushSigType:(t,n)=>t.push(e._.typeCodes[e._.letterType(n)])},typeof n==`string`){let e=r;r=n,n=e}let i=e._.sigParams(r),a=[1,96];e._.uleb128Encode(a,`push`,i.length);for(let t of i)e._.pushSigType(a,t);return r[0]===`v`?a.push(0):(a.push(1),e._.pushSigType(a,r[0])),e._.uleb128Encode(a,`unshift`,a.length),a.unshift(0,97,115,109,1,0,0,0,1),a.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(a)),{e:{f:n}}).exports.f};let o=function(n,r,a){if(a&&!i.scopedAlloc.length&&t(`No scopedAllocPush() scope is active.`),typeof n==`string`){let e=r;r=n,n=e}(typeof r!=`string`||!(n instanceof Function))&&t(`Invalid arguments: expecting (function,signature) or (signature,function).`);let o=e.functionTable(),s=o.length,c;for(;i.freeFuncIndexes.length&&(c=i.freeFuncIndexes.pop(),o.get(c));)c=null;c||(c=s,o.grow(1));try{return o.set(c,n),a&&i.scopedAlloc[i.scopedAlloc.length-1].push(c),c}catch(e){if(!(e instanceof TypeError))throw c===s&&i.freeFuncIndexes.push(s),e}try{let t=e.jsFuncToWasm(n,r);o.set(c,t),a&&i.scopedAlloc[i.scopedAlloc.length-1].push(c)}catch(e){throw c===s&&i.freeFuncIndexes.push(s),e}return c};e.installFunction=(e,t)=>o(e,t,!1),e.scopedInstallFunction=(e,t)=>o(e,t,!0),e.uninstallFunction=function(t){if(!t&&t!==0)return;let n=i.freeFuncIndexes,r=e.functionTable();n.push(t);let a=r.get(t);return r.set(t,null),a},e.peek=function(r,o=`i8`){o.endsWith(`*`)&&(o=n);let s=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:a(),c=Array.isArray(r)?[]:void 0,l;do{switch(c&&(r=arguments[0].shift()),o){case`i1`:case`i8`:l=s.HEAP8[r>>0];break;case`i16`:l=s.HEAP16[r>>1];break;case`i32`:l=s.HEAP32[r>>2];break;case`float`:case`f32`:l=s.HEAP32F[r>>2];break;case`double`:case`f64`:l=Number(s.HEAP64F[r>>3]);break;case`i64`:if(e.bigIntEnabled){l=BigInt(s.HEAP64[r>>3]);break}default:t(`Invalid type for peek():`,o)}c&&c.push(l)}while(c&&arguments[0].length);return c||l},e.poke=function(e,r,o=`i8`){o.endsWith(`*`)&&(o=n);let s=i.memory&&i.heapSize===i.memory.buffer.byteLength?i:a();for(let n of Array.isArray(e)?e:[e])switch(o){case`i1`:case`i8`:s.HEAP8[n>>0]=r;continue;case`i16`:s.HEAP16[n>>1]=r;continue;case`i32`:s.HEAP32[n>>2]=r;continue;case`float`:case`f32`:s.HEAP32F[n>>2]=r;continue;case`double`:case`f64`:s.HEAP64F[n>>3]=r;continue;case`i64`:if(s.HEAP64){s.HEAP64[n>>3]=BigInt(r);continue}default:t(`Invalid type for poke(): `+o)}return this},e.peekPtr=(...t)=>e.peek(t.length===1?t[0]:t,n),e.pokePtr=(t,r=0)=>e.poke(t,r,n),e.peek8=(...t)=>e.peek(t.length===1?t[0]:t,`i8`),e.poke8=(t,n)=>e.poke(t,n,`i8`),e.peek16=(...t)=>e.peek(t.length===1?t[0]:t,`i16`),e.poke16=(t,n)=>e.poke(t,n,`i16`),e.peek32=(...t)=>e.peek(t.length===1?t[0]:t,`i32`),e.poke32=(t,n)=>e.poke(t,n,`i32`),e.peek64=(...t)=>e.peek(t.length===1?t[0]:t,`i64`),e.poke64=(t,n)=>e.poke(t,n,`i64`),e.peek32f=(...t)=>e.peek(t.length===1?t[0]:t,`f32`),e.poke32f=(t,n)=>e.poke(t,n,`f32`),e.peek64f=(...t)=>e.peek(t.length===1?t[0]:t,`f64`),e.poke64f=(t,n)=>e.poke(t,n,`f64`),e.getMemValue=e.peek,e.getPtrValue=e.peekPtr,e.setMemValue=e.poke,e.setPtrValue=e.pokePtr,e.isPtr32=e=>typeof e==`number`&&e===(e|0)&&e>=0,e.isPtr=e.isPtr32,e.cstrlen=function(t){if(!t||!e.isPtr(t))return null;let n=a().HEAP8U,r=t;for(;n[r]!==0;++r);return r-t};let s=typeof SharedArrayBuffer>`u`?function(){}:SharedArrayBuffer,c=function(e,t,n){return i.utf8Decoder.decode(e.buffer instanceof s?e.slice(t,n):e.subarray(t,n))};e.cstrToJs=function(t){let n=e.cstrlen(t);return n?c(a().HEAP8U,t,t+n):n===null?n:``},e.jstrlen=function(e){if(typeof e!=`string`)return null;let t=e.length,n=0;for(let r=0;r<t;++r){let t=e.charCodeAt(r);t>=55296&&t<=57343&&(t=65536+((t&1023)<<10)|e.charCodeAt(++r)&1023),t<=127?++n:t<=2047?n+=2:t<=65535?n+=3:n+=4}return n},e.jstrcpy=function(e,n,r=0,i=-1,a=!0){if((!n||!(n instanceof Int8Array)&&!(n instanceof Uint8Array))&&t(`jstrcpy() target must be an Int8Array or Uint8Array.`),i<0&&(i=n.length-r),!(i>0)||!(r>=0))return 0;let o=0,s=e.length,c=r,l=r+i-(a?1:0);for(;o<s&&r<l;++o){let t=e.charCodeAt(o);if(t>=55296&&t<=57343&&(t=65536+((t&1023)<<10)|e.charCodeAt(++o)&1023),t<=127){if(r>=l)break;n[r++]=t}else if(t<=2047){if(r+1>=l)break;n[r++]=192|t>>6,n[r++]=128|t&63}else if(t<=65535){if(r+2>=l)break;n[r++]=224|t>>12,n[r++]=128|t>>6&63,n[r++]=128|t&63}else{if(r+3>=l)break;n[r++]=240|t>>18,n[r++]=128|t>>12&63,n[r++]=128|t>>6&63,n[r++]=128|t&63}}return a&&(n[r++]=0),r-c},e.cstrncpy=function(n,r,i){if((!n||!r)&&t(`cstrncpy() does not accept NULL strings.`),i<0)i=e.cstrlen(strPtr)+1;else if(!(i>0))return 0;let a=e.heap8u(),o=0,s;for(;o<i&&(s=a[r+o]);++o)a[n+o]=s;return o<i&&(a[n+ o++]=0),o},e.jstrToUintArray=(e,t=!1)=>i.utf8Encoder.encode(t?e+`\0`:e);let l=(e,n)=>{(!(e.alloc instanceof Function)||!(e.dealloc instanceof Function))&&t(`Object is missing alloc() and/or dealloc() function(s)`,`required by`,n+`().`)},u=function(t,n,r,o){if(l(e,o),typeof t!=`string`)return null;{let e=i.utf8Encoder.encode(t),o=r(e.length+1),s=a().HEAP8U;return s.set(e,o),s[o+e.length]=0,n?[o,e.length]:o}};e.allocCString=(t,n=!1)=>u(t,n,e.alloc,`allocCString()`),e.scopedAllocPush=function(){l(e,`scopedAllocPush`);let t=[];return i.scopedAlloc.push(t),t},e.scopedAllocPop=function(n){l(e,`scopedAllocPop`);let r=arguments.length?i.scopedAlloc.indexOf(n):i.scopedAlloc.length-1;r<0&&t(`Invalid state object for scopedAllocPop().`),arguments.length===0&&(n=i.scopedAlloc[r]),i.scopedAlloc.splice(r,1);for(let t;t=n.pop();)e.functionEntry(t)?e.uninstallFunction(t):e.dealloc(t)},e.scopedAlloc=function(n){i.scopedAlloc.length||t(`No scopedAllocPush() scope is active.`);let r=e.alloc(n);return i.scopedAlloc[i.scopedAlloc.length-1].push(r),r},Object.defineProperty(e.scopedAlloc,`level`,{configurable:!1,enumerable:!1,get:()=>i.scopedAlloc.length,set:()=>t(`The 'active' property is read-only.`)}),e.scopedAllocCString=(t,n=!1)=>u(t,n,e.scopedAlloc,`scopedAllocCString()`);let d=function(t,n){let r=e[t?`scopedAlloc`:`alloc`]((n.length+1)*e.ptrSizeof),i=0;return n.forEach(n=>{e.pokePtr(r+e.ptrSizeof*i++,e[t?`scopedAllocCString`:`allocCString`](``+n))}),e.pokePtr(r+e.ptrSizeof*i,0),r};e.scopedAllocMainArgv=e=>d(!0,e),e.allocMainArgv=e=>d(!1,e),e.cArgvToJs=(t,n)=>{let r=[];for(let i=0;i<t;++i){let t=e.peekPtr(n+e.ptrSizeof*i);r.push(t?e.cstrToJs(t):null)}return r},e.scopedAllocCall=function(t){e.scopedAllocPush();try{return t()}finally{e.scopedAllocPop()}};let f=function(t,i,a){l(e,a);let o=i?`i64`:n,s=e[a](t*(i?8:r));if(e.poke(s,0,o),t===1)return s;let c=[s];for(let n=1;n<t;++n)s+=i?8:r,c[n]=s,e.poke(s,0,o);return c};e.allocPtr=(e=1,t=!0)=>f(e,t,`alloc`),e.scopedAllocPtr=(e=1,t=!0)=>f(e,t,`scopedAlloc`),e.xGet=function(n){return e.exports[n]||t(`Cannot find exported symbol:`,n)};let p=(e,n)=>t(e+`() requires`,n,`argument(s).`);e.xCall=function(n,...r){let i=n instanceof Function?n:e.xGet(n);return i instanceof Function||t(`Exported symbol`,n,`is not a function.`),i.length!==r.length&&p(i===n?i.name:n,i.length),arguments.length===2&&Array.isArray(arguments[1])?i.apply(null,arguments[1]):i.apply(null,r)},i.xWrap=Object.create(null),i.xWrap.convert=Object.create(null),i.xWrap.convert.arg=new Map,i.xWrap.convert.result=new Map;let m=i.xWrap.convert.arg,h=i.xWrap.convert.result;e.bigIntEnabled&&m.set(`i64`,e=>BigInt(e));let g=n===`i32`?e=>e|0:e=>BigInt(e)|BigInt(0);m.set(`i32`,g).set(`i16`,e=>(e|0)&65535).set(`i8`,e=>(e|0)&255).set(`f32`,e=>Number(e).valueOf()).set(`float`,m.get(`f32`)).set(`f64`,m.get(`f32`)).set(`double`,m.get(`f64`)).set(`int`,m.get(`i32`)).set(`null`,e=>e).set(null,m.get(`null`)).set(`**`,g).set(`*`,g),h.set(`*`,g).set(`pointer`,g).set(`number`,e=>Number(e)).set(`void`,e=>void 0).set(`null`,e=>e).set(null,h.get(`null`));{let r=[`i8`,`i16`,`i32`,`int`,`f32`,`float`,`f64`,`double`];e.bigIntEnabled&&r.push(`i64`);let i=m.get(n);for(let e of r)m.set(e+`*`,i),h.set(e+`*`,i),h.set(e,m.get(e)||t(`Missing arg converter:`,e))}let _=function(t){return typeof t==`string`?e.scopedAllocCString(t):t?g(t):null};m.set(`string`,_).set(`utf8`,_).set(`pointer`,_),h.set(`string`,t=>e.cstrToJs(t)).set(`utf8`,h.get(`string`)).set(`string:dealloc`,t=>{try{return t?e.cstrToJs(t):null}finally{e.dealloc(t)}}).set(`utf8:dealloc`,h.get(`string:dealloc`)).set(`json`,t=>JSON.parse(e.cstrToJs(t))).set(`json:dealloc`,t=>{try{return t?JSON.parse(e.cstrToJs(t)):null}finally{e.dealloc(t)}});let y=class{constructor(e){this.name=e.name||`unnamed adapter`}convertArg(e,n,r){t(`AbstractArgAdapter must be subclassed.`)}};m.FuncPtrAdapter=class n extends y{constructor(e){super(e),m.FuncPtrAdapter.warnOnUse&&console.warn(`xArg.FuncPtrAdapter is an internal-only API`,`and is not intended to be invoked from`,`client-level code. Invoked with:`,e),this.name=e.name||`unnamed`,this.signature=e.signature,e.contextKey instanceof Function&&(this.contextKey=e.contextKey,e.bindScope||=`context`),this.bindScope=e.bindScope||t(`FuncPtrAdapter options requires a bindScope (explicit or implied).`),n.bindScopes.indexOf(e.bindScope)<0&&t(`Invalid options.bindScope (`+e.bindMod+`) for FuncPtrAdapter. Expecting one of: (`+n.bindScopes.join(`, `)+`)`),this.isTransient=this.bindScope===`transient`,this.isContext=this.bindScope===`context`,this.isPermanent=this.bindScope===`permanent`,this.singleton=this.bindScope===`singleton`?[]:void 0,this.callProxy=e.callProxy instanceof Function?e.callProxy:void 0}contextKey(e,t){return this}contextMap(e){let t=this.__cmap||=new Map,n=t.get(e);return n===void 0&&t.set(e,n=[]),n}convertArg(t,r,a){let s=this.singleton;if(!s&&this.isContext&&(s=this.contextMap(this.contextKey(r,a))),s&&s[0]===t)return s[1];if(t instanceof Function){this.callProxy&&(t=this.callProxy(t));let e=o(t,this.signature,this.isTransient);if(n.debugFuncInstall&&n.debugOut(`FuncPtrAdapter installed`,this,this.contextKey(r,a),`@`+e,t),s){if(s[1]){n.debugFuncInstall&&n.debugOut(`FuncPtrAdapter uninstalling`,this,this.contextKey(r,a),`@`+s[1],t);try{i.scopedAlloc[i.scopedAlloc.length-1].push(s[1])}catch{}}s[0]=t,s[1]=e}return e}else if(e.isPtr(t)||t==null){if(s&&s[1]&&s[1]!==t){n.debugFuncInstall&&n.debugOut(`FuncPtrAdapter uninstalling`,this,this.contextKey(r,a),`@`+s[1],t);try{i.scopedAlloc[i.scopedAlloc.length-1].push(s[1])}catch{}s[0]=s[1]=t|0}return t||0}else throw TypeError(`Invalid FuncPtrAdapter argument type. Expecting a function pointer or a `+(this.name?this.name+` `:``)+`function matching signature `+this.signature+`.`)}},m.FuncPtrAdapter.warnOnUse=!1,m.FuncPtrAdapter.debugFuncInstall=!1,m.FuncPtrAdapter.debugOut=console.debug.bind(console),m.FuncPtrAdapter.bindScopes=[`transient`,`context`,`singleton`,`permanent`];let b=e=>m.get(e)||t(`Argument adapter not found:`,e),x=e=>h.get(e)||t(`Result adapter not found:`,e);i.xWrap.convertArg=(e,...t)=>b(e)(...t),i.xWrap.convertArgNoCheck=(e,...t)=>m.get(e)(...t),i.xWrap.convertResult=(e,t)=>e===null?t:e?x(e)(t):void 0,i.xWrap.convertResultNoCheck=(e,t)=>e===null?t:e?h.get(e)(t):void 0,e.xWrap=function(n,r,...a){arguments.length===3&&Array.isArray(arguments[2])&&(a=arguments[2]),e.isPtr(n)&&(n=e.functionEntry(n)||t(`Function pointer not found in WASM function table.`));let o=n instanceof Function,s=o?n:e.xGet(n);if(o&&(n=s.name||`unnamed function`),a.length!==s.length&&p(n,s.length),r===null&&s.length===0)return s;r!=null&&x(r);for(let e of a)e instanceof y?m.set(e,(...t)=>e.convertArg(...t)):b(e);let c=i.xWrap;return s.length===0?(...e)=>e.length?p(n,s.length):c.convertResult(r,s.call(null)):function(...t){t.length!==s.length&&p(n,s.length);let i=e.scopedAllocPush();try{let e=0;for(;e<t.length;++e)t[e]=c.convertArgNoCheck(a[e],t[e],t,e);return c.convertResultNoCheck(r,s.apply(null,t))}finally{e.scopedAllocPop(i)}}};let S=function(e,n,r,i,a,o){if(typeof r==`string`){if(n===1)return o.get(r);if(n===2){if(i)i instanceof Function||t(a,`requires a function argument.`);else return o.delete(r),e;return o.set(r,i),e}}t(`Invalid arguments to`,a)};return e.xWrap.resultAdapter=function e(t,n){return S(e,arguments.length,t,n,`resultAdapter()`,h)},e.xWrap.argAdapter=function e(t,n){return S(e,arguments.length,t,n,`argAdapter()`,m)},e.xWrap.FuncPtrAdapter=m.FuncPtrAdapter,e.xCallWrapped=function(t,n,r,...i){return Array.isArray(arguments[3])&&(i=arguments[3]),e.xWrap(t,n,r||[]).apply(null,i||[])},e.xWrap.testConvertArg=i.xWrap.convertArg,e.xWrap.testConvertResult=i.xWrap.convertResult,e},globalThis.WhWasmUtilInstaller.yawl=function(e){let t=()=>fetch(e.uri,{credentials:`same-origin`}),n=this,r=function(t){if(e.wasmUtilTarget){let r=(...e)=>{throw Error(e.join(` `))},i=e.wasmUtilTarget;if(i.module=t.module,i.instance=t.instance,i.instance.exports.memory||(i.memory=e.imports&&e.imports.env&&e.imports.env.memory||r(`Missing 'memory' object!`)),!i.alloc&&t.instance.exports.malloc){let e=t.instance.exports;i.alloc=function(t){return e.malloc(t)||r(`Allocation of`,t,`bytes failed.`)},i.dealloc=function(t){e.free(t)}}n(i)}return e.onload&&e.onload(t,e),t},i=WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(t(),e.imports||{}).then(r)}:function(){return t().then(e=>e.arrayBuffer()).then(t=>WebAssembly.instantiate(t,e.imports||{})).then(r)};return i}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function e(t){let n=(...e)=>{throw Error(e.join(` `))};!(t.heap instanceof WebAssembly.Memory)&&!(t.heap instanceof Function)&&n(`config.heap must be WebAssembly.Memory instance or a function.`),[`alloc`,`dealloc`].forEach(function(e){t[e]instanceof Function||n(`Config option '`+e+`' must be a function.`)});let r=e,i=t.heap instanceof Function?t.heap:()=>new Uint8Array(t.heap.buffer),a=t.alloc,o=t.dealloc,s=t.log||console.log.bind(console),c=t.memberPrefix||``,l=t.memberSuffix||``,u=t.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!t.bigIntEnabled,d=globalThis.BigInt,f=globalThis.BigInt64Array,p=t.ptrSizeof||4,m=t.ptrIR||`i32`;r.debugFlags||=(r.__makeDebugFlags=function(e=null){e&&e.__flags&&(e=e.__flags);let t=function e(t){return arguments.length===0?e.__flags:(t<0?(delete e.__flags.getter,delete e.__flags.setter,delete e.__flags.alloc,delete e.__flags.dealloc):(e.__flags.getter=(1&t)!=0,e.__flags.setter=(2&t)!=0,e.__flags.alloc=(4&t)!=0,e.__flags.dealloc=(8&t)!=0),e._flags)};return Object.defineProperty(t,`__flags`,{iterable:!1,writable:!1,value:Object.create(e)}),e||t(0),t},r.__makeDebugFlags());let h=(function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),g=e=>e[1]===`(`,_=e=>e===`P`,y=e=>g(e)?`p`:e[0],b=function(e){switch(y(e)){case`c`:case`C`:return`i8`;case`i`:return`i32`;case`p`:case`P`:case`s`:return m;case`j`:return`i64`;case`f`:return`float`;case`d`:return`double`}n(`Unhandled signature IR:`,e)},x=f?()=>!0:()=>n(`BigInt64Array is not available.`),S=function(e){switch(y(e)){case`p`:case`P`:case`s`:switch(p){case 4:return`getInt32`;case 8:return x()&&`getBigInt64`}break;case`i`:return`getInt32`;case`c`:return`getInt8`;case`C`:return`getUint8`;case`j`:return x()&&`getBigInt64`;case`f`:return`getFloat32`;case`d`:return`getFloat64`}n(`Unhandled DataView getter for signature:`,e)},C=function(e){switch(y(e)){case`p`:case`P`:case`s`:switch(p){case 4:return`setInt32`;case 8:return x()&&`setBigInt64`}break;case`i`:return`setInt32`;case`c`:return`setInt8`;case`C`:return`setUint8`;case`j`:return x()&&`setBigInt64`;case`f`:return`setFloat32`;case`d`:return`setFloat64`}n(`Unhandled DataView setter for signature:`,e)},w=function(e){switch(y(e)){case`i`:case`f`:case`c`:case`C`:case`d`:return Number;case`j`:return x()&&d;case`p`:case`P`:case`s`:switch(p){case 4:return Number;case 8:return x()&&d}break}n(`Unhandled DataView set wrapper for signature:`,e)},T=(e,t)=>e+`::`+t,E=function(e,t){return()=>n(T(e,t),`is read-only.`)},D=new WeakMap,O=`(pointer-is-external)`,k=function(e,t,n){if(n||=D.get(t),n){if(D.delete(t),Array.isArray(t.ondispose)){let r;for(;r=t.ondispose.shift();)try{r instanceof Function?r.call(t):r instanceof V?r.dispose():typeof r==`number`&&o(r)}catch(t){console.warn(`ondispose() for`,e.structName,`@`,n,`threw. NOT propagating it.`,t)}}else if(t.ondispose instanceof Function)try{t.ondispose()}catch(t){console.warn(`ondispose() for`,e.structName,`@`,n,`threw. NOT propagating it.`,t)}delete t.ondispose,e.debugFlags.__flags.dealloc&&s(`debug.dealloc:`,t[O]?`EXTERNAL`:``,e.structName,`instance:`,e.structInfo.sizeof,`bytes @`+n),t[O]||o(n)}},A=e=>({configurable:!1,writable:!1,iterable:!1,value:e}),j=function(e,t,r){let o=!r;r?Object.defineProperty(t,O,A(r)):(r=a(e.structInfo.sizeof),r||n(`Allocation of`,e.structName,`structure failed.`));try{e.debugFlags.__flags.alloc&&s(`debug.alloc:`,o?``:`EXTERNAL`,e.structName,`instance:`,e.structInfo.sizeof,`bytes @`+r),o&&i().fill(0,r,r+e.structInfo.sizeof),D.set(t,r)}catch(n){throw k(e,t,r),n}},M=function(){let e=this.pointer;return e?new Uint8Array(i().slice(e,e+this.structInfo.sizeof)):null},N=e=>c+e+l,P=A(N),F=function(e,t,r=!0){let i=e.members[t];if(!i&&(c||l)){for(let n of Object.values(e.members))if(n.key===t){i=n;break}!i&&r&&n(T(e.name,t),`is not a mapped struct member.`)}return i},I=function e(t,n,r=!1){e._||=e=>e.replace(/[^vipPsjrdcC]/g,``).replace(/[pPscC]/g,`i`);let i=F(t.structInfo,n,!0);return r?e._(i.signature):i.signature},L={configurable:!1,enumerable:!1,get:function(){return D.get(this)},set:()=>n(`Cannot assign the 'pointer' property of a struct.`)},ee=A(function(){let e=[];for(let t of Object.keys(this.structInfo.members))e.push(this.memberKey(t));return e}),te=new TextDecoder(`utf-8`),ne=new TextEncoder,re=typeof SharedArrayBuffer>`u`?function(){}:SharedArrayBuffer,ie=function(e,t,n){return te.decode(e.buffer instanceof re?e.slice(t,n):e.subarray(t,n))},ae=function(e,t,n=!1){let r=F(e.structInfo,t,n);return r&&r.signature.length===1&&r.signature[0]===`s`?r:!1},oe=function(e){e.signature!==`s`&&n(`Invalid member type signature for C-string value:`,JSON.stringify(e))},R=function(e,t){let n=F(e.structInfo,t,!0);oe(n);let r=e[n.key];if(!r)return null;let a=r,o=i();for(;o[a]!==0;++a);return r===a?``:ie(o,r,a)},z=function(e,...t){e.ondispose?Array.isArray(e.ondispose)||(e.ondispose=[e.ondispose]):e.ondispose=[],e.ondispose.push(...t)},B=function(e){let t=ne.encode(e),r=a(t.length+1);r||n(`Allocation error while duplicating string:`,e);let o=i();return o.set(t,r),o[r+t.length]=0,r},se=function(e,t,n){let r=F(e.structInfo,t,!0);oe(r);let i=B(n);return e[r.key]=i,z(e,i),e},V=function(e,t){arguments[2]!==A&&n(`Do not call the StructType constructor`,`from client-level code.`),Object.defineProperties(this,{structName:A(e),structInfo:A(t)})};V.prototype=Object.create(null,{dispose:A(function(){k(this.constructor,this)}),lookupMember:A(function(e,t=!0){return F(this.structInfo,e,t)}),memberToJsString:A(function(e){return R(this,e)}),memberIsString:A(function(e,t=!0){return ae(this,e,t)}),memberKey:P,memberKeys:ee,memberSignature:A(function(e,t=!1){return I(this,e,t)}),memoryDump:A(M),pointer:L,setMemberCString:A(function(e,t){return se(this,e,t)})}),Object.assign(V.prototype,{addOnDispose:function(...e){return z(this,...e),this}}),Object.defineProperties(V,{allocCString:A(B),isA:A(e=>e instanceof V),hasExternalPointer:A(e=>e instanceof V&&!!e[O]),memberKey:P});let ce=e=>Number.isFinite(e)||e instanceof(d||Number),le=function e(t,r,a){if(!e._){e._={getters:{},setters:{},sw:{}};let t=[`i`,`c`,`C`,`p`,`P`,`s`,`f`,`d`,`v()`];u&&t.push(`j`),t.forEach(function(t){e._.getters[t]=S(t),e._.setters[t]=C(t),e._.sw[t]=w(t)});let r=/^[ipPsjfdcC]$/,i=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;e.sigCheck=function(e,t,a,o){Object.prototype.hasOwnProperty.call(e,a)&&n(e.structName,`already has a property named`,a+`.`),r.test(o)||i.test(o)||n(`Malformed signature for`,T(e.structName,t)+`:`,o)}}let o=t.memberKey(r);e.sigCheck(t.prototype,r,o,a.signature),a.key=o,a.name=r;let c=y(a.signature),l=T(t.prototype.structName,o),d=t.prototype.debugFlags.__flags,f=Object.create(null);f.configurable=!1,f.enumerable=!1,f.get=function(){d.getter&&s(`debug.getter:`,e._.getters[c],`for`,b(c),l,`@`,this.pointer,`+`,a.offset,`sz`,a.sizeof);let t=new DataView(i().buffer,this.pointer+a.offset,a.sizeof)[e._.getters[c]](0,h);return d.getter&&s(`debug.getter:`,l,`result =`,t),t},a.readOnly?f.set=E(t.prototype.structName,o):f.set=function(t){if(d.setter&&s(`debug.setter:`,e._.setters[c],`for`,b(c),l,`@`,this.pointer,`+`,a.offset,`sz`,a.sizeof,t),this.pointer||n(`Cannot set struct property on disposed instance.`),t===null)t=0;else for(;!ce(t);){if(_(a.signature)&&t instanceof V){t=t.pointer||0,d.setter&&s(`debug.setter:`,l,`resolved to`,t);break}n(`Invalid value for pointer-type`,l+`.`)}new DataView(i().buffer,this.pointer+a.offset,a.sizeof)[e._.setters[c]](0,e._.sw[c](t),h)},Object.defineProperty(t.prototype,o,f)},H=function e(t,i){arguments.length===1?(i=t,t=i.name):i.name||=t,t||n(`Struct name is required.`);let a=!1;Object.keys(i.members).forEach(e=>{let r=i.members[e];r.sizeof?r.sizeof===1?r.signature===`c`||r.signature===`C`||n(`Unexpected sizeof==1 member`,T(i.name,e),`with signature`,r.signature):(r.sizeof%4!=0&&(console.warn(`Invalid struct member description =`,r,`from`,i),n(t,`member`,e,`sizeof is not aligned. sizeof=`+r.sizeof)),r.offset%4!=0&&(console.warn(`Invalid struct member description =`,r,`from`,i),n(t,`member`,e,`offset is not aligned. offset=`+r.offset))):n(t,`member`,e,`is missing sizeof.`),(!a||a.offset<r.offset)&&(a=r)}),a?i.sizeof<a.offset+a.sizeof&&n(`Invalid struct config:`,t,`max member offset (`+a.offset+`) `,`extends past end of struct (sizeof=`+i.sizeof+`).`):n(`No member property descriptions found.`);let o=A(r.__makeDebugFlags(e.debugFlags)),s=function e(r){this instanceof e?arguments.length?((r!==(r|0)||r<=0)&&n(`Invalid pointer value for`,t,`constructor.`),j(e,this,r)):j(e,this):n(`The`,t,`constructor may only be called via 'new'.`)};return Object.defineProperties(s,{debugFlags:o,isA:A(e=>e instanceof s),memberKey:P,memberKeys:ee,methodInfoForKey:A(function(e){}),structInfo:A(i),structName:A(t)}),s.prototype=new V(t,i,A),Object.defineProperties(s.prototype,{debugFlags:o,constructor:A(s)}),Object.keys(i.members).forEach(e=>le(s,e,i.members[e])),s};return H.StructType=V,H.config=t,H.allocCString=B,H.debugFlags||=r.__makeDebugFlags(r.debugFlags),H},globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let t=(...e)=>{throw Error(e.join(` `))};e.SQLite3Error.toss;let n=e.capi,r=e.wasm,i=e.util;if(globalThis.WhWasmUtilInstaller(r),delete globalThis.WhWasmUtilInstaller,r.bindingSignatures=[[`sqlite3_aggregate_context`,`void*`,`sqlite3_context*`,`int`],[`sqlite3_bind_double`,`int`,`sqlite3_stmt*`,`int`,`f64`],[`sqlite3_bind_int`,`int`,`sqlite3_stmt*`,`int`,`int`],[`sqlite3_bind_null`,void 0,`sqlite3_stmt*`,`int`],[`sqlite3_bind_parameter_count`,`int`,`sqlite3_stmt*`],[`sqlite3_bind_parameter_index`,`int`,`sqlite3_stmt*`,`string`],[`sqlite3_bind_parameter_name`,`string`,`sqlite3_stmt*`,`int`],[`sqlite3_bind_pointer`,`int`,`sqlite3_stmt*`,`int`,`*`,`string:static`,`*`],[`sqlite3_busy_handler`,`int`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({signature:`i(pi)`,contextKey:(e,t)=>e[0]}),`*`]],[`sqlite3_busy_timeout`,`int`,`sqlite3*`,`int`],[`sqlite3_changes`,`int`,`sqlite3*`],[`sqlite3_clear_bindings`,`int`,`sqlite3_stmt*`],[`sqlite3_collation_needed`,`int`,`sqlite3*`,`*`,`*`],[`sqlite3_column_blob`,`*`,`sqlite3_stmt*`,`int`],[`sqlite3_column_bytes`,`int`,`sqlite3_stmt*`,`int`],[`sqlite3_column_count`,`int`,`sqlite3_stmt*`],[`sqlite3_column_decltype`,`string`,`sqlite3_stmt*`,`int`],[`sqlite3_column_double`,`f64`,`sqlite3_stmt*`,`int`],[`sqlite3_column_int`,`int`,`sqlite3_stmt*`,`int`],[`sqlite3_column_name`,`string`,`sqlite3_stmt*`,`int`],[`sqlite3_column_text`,`string`,`sqlite3_stmt*`,`int`],[`sqlite3_column_type`,`int`,`sqlite3_stmt*`,`int`],[`sqlite3_column_value`,`sqlite3_value*`,`sqlite3_stmt*`,`int`],[`sqlite3_commit_hook`,`void*`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`sqlite3_commit_hook`,signature:`i(p)`,contextKey:e=>e[0]}),`*`]],[`sqlite3_compileoption_get`,`string`,`int`],[`sqlite3_compileoption_used`,`int`,`string`],[`sqlite3_complete`,`int`,`string:flexible`],[`sqlite3_context_db_handle`,`sqlite3*`,`sqlite3_context*`],[`sqlite3_data_count`,`int`,`sqlite3_stmt*`],[`sqlite3_db_filename`,`string`,`sqlite3*`,`string`],[`sqlite3_db_handle`,`sqlite3*`,`sqlite3_stmt*`],[`sqlite3_db_name`,`string`,`sqlite3*`,`int`],[`sqlite3_db_readonly`,`int`,`sqlite3*`,`string`],[`sqlite3_db_status`,`int`,`sqlite3*`,`int`,`*`,`*`,`int`],[`sqlite3_errcode`,`int`,`sqlite3*`],[`sqlite3_errmsg`,`string`,`sqlite3*`],[`sqlite3_error_offset`,`int`,`sqlite3*`],[`sqlite3_errstr`,`string`,`int`],[`sqlite3_exec`,`int`,[`sqlite3*`,`string:flexible`,new r.xWrap.FuncPtrAdapter({signature:`i(pipp)`,bindScope:`transient`,callProxy:e=>{let t;return(i,a,o,s)=>{try{let n=r.cArgvToJs(a,o);return t||=r.cArgvToJs(a,s),e(n,t)|0}catch(e){return e.resultCode||n.SQLITE_ERROR}}}}),`*`,`**`]],[`sqlite3_expanded_sql`,`string`,`sqlite3_stmt*`],[`sqlite3_extended_errcode`,`int`,`sqlite3*`],[`sqlite3_extended_result_codes`,`int`,`sqlite3*`,`int`],[`sqlite3_file_control`,`int`,`sqlite3*`,`string`,`int`,`*`],[`sqlite3_finalize`,`int`,`sqlite3_stmt*`],[`sqlite3_free`,void 0,`*`],[`sqlite3_get_autocommit`,`int`,`sqlite3*`],[`sqlite3_get_auxdata`,`*`,`sqlite3_context*`,`int`],[`sqlite3_initialize`,void 0],[`sqlite3_interrupt`,void 0,`sqlite3*`],[`sqlite3_is_interrupted`,`int`,`sqlite3*`],[`sqlite3_keyword_count`,`int`],[`sqlite3_keyword_name`,`int`,[`int`,`**`,`*`]],[`sqlite3_keyword_check`,`int`,[`string`,`int`]],[`sqlite3_libversion`,`string`],[`sqlite3_libversion_number`,`int`],[`sqlite3_limit`,`int`,[`sqlite3*`,`int`,`int`]],[`sqlite3_malloc`,`*`,`int`],[`sqlite3_open`,`int`,`string`,`*`],[`sqlite3_open_v2`,`int`,`string`,`*`,`int`,`string`],[`sqlite3_realloc`,`*`,`*`,`int`],[`sqlite3_reset`,`int`,`sqlite3_stmt*`],[`sqlite3_result_blob`,void 0,`sqlite3_context*`,`*`,`int`,`*`],[`sqlite3_result_double`,void 0,`sqlite3_context*`,`f64`],[`sqlite3_result_error`,void 0,`sqlite3_context*`,`string`,`int`],[`sqlite3_result_error_code`,void 0,`sqlite3_context*`,`int`],[`sqlite3_result_error_nomem`,void 0,`sqlite3_context*`],[`sqlite3_result_error_toobig`,void 0,`sqlite3_context*`],[`sqlite3_result_int`,void 0,`sqlite3_context*`,`int`],[`sqlite3_result_null`,void 0,`sqlite3_context*`],[`sqlite3_result_pointer`,void 0,`sqlite3_context*`,`*`,`string:static`,`*`],[`sqlite3_result_subtype`,void 0,`sqlite3_value*`,`int`],[`sqlite3_result_text`,void 0,`sqlite3_context*`,`string`,`int`,`*`],[`sqlite3_result_zeroblob`,void 0,`sqlite3_context*`,`int`],[`sqlite3_rollback_hook`,`void*`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`sqlite3_rollback_hook`,signature:`v(p)`,contextKey:e=>e[0]}),`*`]],[`sqlite3_set_auxdata`,void 0,[`sqlite3_context*`,`int`,`*`,`*`]],[`sqlite3_shutdown`,void 0],[`sqlite3_sourceid`,`string`],[`sqlite3_sql`,`string`,`sqlite3_stmt*`],[`sqlite3_status`,`int`,`int`,`*`,`*`,`int`],[`sqlite3_step`,`int`,`sqlite3_stmt*`],[`sqlite3_stmt_busy`,`int`,`sqlite3_stmt*`],[`sqlite3_stmt_readonly`,`int`,`sqlite3_stmt*`],[`sqlite3_stmt_status`,`int`,`sqlite3_stmt*`,`int`,`int`],[`sqlite3_strglob`,`int`,`string`,`string`],[`sqlite3_stricmp`,`int`,`string`,`string`],[`sqlite3_strlike`,`int`,`string`,`string`,`int`],[`sqlite3_strnicmp`,`int`,`string`,`string`,`int`],[`sqlite3_table_column_metadata`,`int`,`sqlite3*`,`string`,`string`,`string`,`**`,`**`,`*`,`*`,`*`],[`sqlite3_total_changes`,`int`,`sqlite3*`],[`sqlite3_trace_v2`,`int`,[`sqlite3*`,`int`,new r.xWrap.FuncPtrAdapter({name:`sqlite3_trace_v2::callback`,signature:`i(ippp)`,contextKey:(e,t)=>e[0]}),`*`]],[`sqlite3_txn_state`,`int`,[`sqlite3*`,`string`]],[`sqlite3_uri_boolean`,`int`,`sqlite3_filename`,`string`,`int`],[`sqlite3_uri_key`,`string`,`sqlite3_filename`,`int`],[`sqlite3_uri_parameter`,`string`,`sqlite3_filename`,`string`],[`sqlite3_user_data`,`void*`,`sqlite3_context*`],[`sqlite3_value_blob`,`*`,`sqlite3_value*`],[`sqlite3_value_bytes`,`int`,`sqlite3_value*`],[`sqlite3_value_double`,`f64`,`sqlite3_value*`],[`sqlite3_value_dup`,`sqlite3_value*`,`sqlite3_value*`],[`sqlite3_value_free`,void 0,`sqlite3_value*`],[`sqlite3_value_frombind`,`int`,`sqlite3_value*`],[`sqlite3_value_int`,`int`,`sqlite3_value*`],[`sqlite3_value_nochange`,`int`,`sqlite3_value*`],[`sqlite3_value_numeric_type`,`int`,`sqlite3_value*`],[`sqlite3_value_pointer`,`*`,`sqlite3_value*`,`string:static`],[`sqlite3_value_subtype`,`int`,`sqlite3_value*`],[`sqlite3_value_text`,`string`,`sqlite3_value*`],[`sqlite3_value_type`,`int`,`sqlite3_value*`],[`sqlite3_vfs_find`,`*`,`string`],[`sqlite3_vfs_register`,`int`,`sqlite3_vfs*`,`int`],[`sqlite3_vfs_unregister`,`int`,`sqlite3_vfs*`]],r.exports.sqlite3_progress_handler&&r.bindingSignatures.push([`sqlite3_progress_handler`,void 0,[`sqlite3*`,`int`,new r.xWrap.FuncPtrAdapter({name:`xProgressHandler`,signature:`i(p)`,bindScope:`context`,contextKey:(e,t)=>e[0]}),`*`]]),r.exports.sqlite3_stmt_explain&&r.bindingSignatures.push([`sqlite3_stmt_explain`,`int`,`sqlite3_stmt*`,`int`],[`sqlite3_stmt_isexplain`,`int`,`sqlite3_stmt*`]),r.exports.sqlite3_set_authorizer&&r.bindingSignatures.push([`sqlite3_set_authorizer`,`int`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`sqlite3_set_authorizer::xAuth`,signature:`i(pissss)`,contextKey:(e,t)=>e[0],callProxy:e=>(t,i,a,o,s,c)=>{try{return a&&=r.cstrToJs(a),o&&=r.cstrToJs(o),s&&=r.cstrToJs(s),c&&=r.cstrToJs(c),e(t,i,a,o,s,c)||0}catch(e){return e.resultCode||n.SQLITE_ERROR}}}),`*`]]),r.bindingSignatures.int64=[[`sqlite3_bind_int64`,`int`,[`sqlite3_stmt*`,`int`,`i64`]],[`sqlite3_changes64`,`i64`,[`sqlite3*`]],[`sqlite3_column_int64`,`i64`,[`sqlite3_stmt*`,`int`]],[`sqlite3_deserialize`,`int`,`sqlite3*`,`string`,`*`,`i64`,`i64`,`int`],[`sqlite3_last_insert_rowid`,`i64`,[`sqlite3*`]],[`sqlite3_malloc64`,`*`,`i64`],[`sqlite3_msize`,`i64`,`*`],[`sqlite3_overload_function`,`int`,[`sqlite3*`,`string`,`int`]],[`sqlite3_realloc64`,`*`,`*`,`i64`],[`sqlite3_result_int64`,void 0,`*`,`i64`],[`sqlite3_result_zeroblob64`,`int`,`*`,`i64`],[`sqlite3_serialize`,`*`,`sqlite3*`,`string`,`*`,`int`],[`sqlite3_set_last_insert_rowid`,void 0,[`sqlite3*`,`i64`]],[`sqlite3_status64`,`int`,`int`,`*`,`*`,`int`],[`sqlite3_total_changes64`,`i64`,[`sqlite3*`]],[`sqlite3_update_hook`,`*`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`sqlite3_update_hook`,signature:`v(iippj)`,contextKey:e=>e[0],callProxy:e=>(t,n,i,a,o)=>{e(t,n,r.cstrToJs(i),r.cstrToJs(a),o)}}),`*`]],[`sqlite3_uri_int64`,`i64`,[`sqlite3_filename`,`string`,`i64`]],[`sqlite3_value_int64`,`i64`,`sqlite3_value*`]],r.bigIntEnabled&&r.exports.sqlite3_declare_vtab&&r.bindingSignatures.int64.push([`sqlite3_create_module`,`int`,[`sqlite3*`,`string`,`sqlite3_module*`,`*`]],[`sqlite3_create_module_v2`,`int`,[`sqlite3*`,`string`,`sqlite3_module*`,`*`,`*`]],[`sqlite3_declare_vtab`,`int`,[`sqlite3*`,`string:flexible`]],[`sqlite3_drop_modules`,`int`,[`sqlite3*`,`**`]],[`sqlite3_vtab_collation`,`string`,`sqlite3_index_info*`,`int`],[`sqlite3_vtab_distinct`,`int`,`sqlite3_index_info*`],[`sqlite3_vtab_in`,`int`,`sqlite3_index_info*`,`int`,`int`],[`sqlite3_vtab_in_first`,`int`,`sqlite3_value*`,`**`],[`sqlite3_vtab_in_next`,`int`,`sqlite3_value*`,`**`],[`sqlite3_vtab_nochange`,`int`,`sqlite3_context*`],[`sqlite3_vtab_on_conflict`,`int`,`sqlite3*`],[`sqlite3_vtab_rhs_value`,`int`,`sqlite3_index_info*`,`int`,`**`]),r.bigIntEnabled&&r.exports.sqlite3_preupdate_hook&&r.bindingSignatures.int64.push([`sqlite3_preupdate_blobwrite`,`int`,`sqlite3*`],[`sqlite3_preupdate_count`,`int`,`sqlite3*`],[`sqlite3_preupdate_depth`,`int`,`sqlite3*`],[`sqlite3_preupdate_hook`,`*`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`sqlite3_preupdate_hook`,signature:`v(ppippjj)`,contextKey:e=>e[0],callProxy:e=>(t,n,i,a,o,s,c)=>{e(t,n,i,r.cstrToJs(a),r.cstrToJs(o),s,c)}}),`*`]],[`sqlite3_preupdate_new`,`int`,[`sqlite3*`,`int`,`**`]],[`sqlite3_preupdate_old`,`int`,[`sqlite3*`,`int`,`**`]]),r.bigIntEnabled&&r.exports.sqlite3changegroup_add&&r.exports.sqlite3session_create&&r.exports.sqlite3_preupdate_hook){let e={signature:`i(ps)`,callProxy:e=>(t,i)=>{try{return e(t,r.cstrToJs(i))|0}catch(e){return e.resultCode||n.SQLITE_ERROR}}};r.bindingSignatures.int64.push([`sqlite3changegroup_add`,`int`,[`sqlite3_changegroup*`,`int`,`void*`]],[`sqlite3changegroup_add_strm`,`int`,[`sqlite3_changegroup*`,new r.xWrap.FuncPtrAdapter({name:`xInput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`]],[`sqlite3changegroup_delete`,void 0,[`sqlite3_changegroup*`]],[`sqlite3changegroup_new`,`int`,[`**`]],[`sqlite3changegroup_output`,`int`,[`sqlite3_changegroup*`,`int*`,`**`]],[`sqlite3changegroup_output_strm`,`int`,[`sqlite3_changegroup*`,new r.xWrap.FuncPtrAdapter({name:`xOutput`,signature:`i(ppi)`,bindScope:`transient`}),`void*`]],[`sqlite3changeset_apply`,`int`,[`sqlite3*`,`int`,`void*`,new r.xWrap.FuncPtrAdapter({name:`xFilter`,bindScope:`transient`,...e}),new r.xWrap.FuncPtrAdapter({name:`xConflict`,signature:`i(pip)`,bindScope:`transient`}),`void*`]],[`sqlite3changeset_apply_strm`,`int`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`xInput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`,new r.xWrap.FuncPtrAdapter({name:`xFilter`,bindScope:`transient`,...e}),new r.xWrap.FuncPtrAdapter({name:`xConflict`,signature:`i(pip)`,bindScope:`transient`}),`void*`]],[`sqlite3changeset_apply_v2`,`int`,[`sqlite3*`,`int`,`void*`,new r.xWrap.FuncPtrAdapter({name:`xFilter`,bindScope:`transient`,...e}),new r.xWrap.FuncPtrAdapter({name:`xConflict`,signature:`i(pip)`,bindScope:`transient`}),`void*`,`**`,`int*`,`int`]],[`sqlite3changeset_apply_v2_strm`,`int`,[`sqlite3*`,new r.xWrap.FuncPtrAdapter({name:`xInput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`,new r.xWrap.FuncPtrAdapter({name:`xFilter`,bindScope:`transient`,...e}),new r.xWrap.FuncPtrAdapter({name:`xConflict`,signature:`i(pip)`,bindScope:`transient`}),`void*`,`**`,`int*`,`int`]],[`sqlite3changeset_concat`,`int`,[`int`,`void*`,`int`,`void*`,`int*`,`**`]],[`sqlite3changeset_concat_strm`,`int`,[new r.xWrap.FuncPtrAdapter({name:`xInputA`,signature:`i(ppp)`,bindScope:`transient`}),`void*`,new r.xWrap.FuncPtrAdapter({name:`xInputB`,signature:`i(ppp)`,bindScope:`transient`}),`void*`,new r.xWrap.FuncPtrAdapter({name:`xOutput`,signature:`i(ppi)`,bindScope:`transient`}),`void*`]],[`sqlite3changeset_conflict`,`int`,[`sqlite3_changeset_iter*`,`int`,`**`]],[`sqlite3changeset_finalize`,`int`,[`sqlite3_changeset_iter*`]],[`sqlite3changeset_fk_conflicts`,`int`,[`sqlite3_changeset_iter*`,`int*`]],[`sqlite3changeset_invert`,`int`,[`int`,`void*`,`int*`,`**`]],[`sqlite3changeset_invert_strm`,`int`,[new r.xWrap.FuncPtrAdapter({name:`xInput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`,new r.xWrap.FuncPtrAdapter({name:`xOutput`,signature:`i(ppi)`,bindScope:`transient`}),`void*`]],[`sqlite3changeset_new`,`int`,[`sqlite3_changeset_iter*`,`int`,`**`]],[`sqlite3changeset_next`,`int`,[`sqlite3_changeset_iter*`]],[`sqlite3changeset_old`,`int`,[`sqlite3_changeset_iter*`,`int`,`**`]],[`sqlite3changeset_op`,`int`,[`sqlite3_changeset_iter*`,`**`,`int*`,`int*`,`int*`]],[`sqlite3changeset_pk`,`int`,[`sqlite3_changeset_iter*`,`**`,`int*`]],[`sqlite3changeset_start`,`int`,[`**`,`int`,`*`]],[`sqlite3changeset_start_strm`,`int`,[`**`,new r.xWrap.FuncPtrAdapter({name:`xInput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`]],[`sqlite3changeset_start_v2`,`int`,[`**`,`int`,`*`,`int`]],[`sqlite3changeset_start_v2_strm`,`int`,[`**`,new r.xWrap.FuncPtrAdapter({name:`xInput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`,`int`]],[`sqlite3session_attach`,`int`,[`sqlite3_session*`,`string`]],[`sqlite3session_changeset`,`int`,[`sqlite3_session*`,`int*`,`**`]],[`sqlite3session_changeset_size`,`i64`,[`sqlite3_session*`]],[`sqlite3session_changeset_strm`,`int`,[`sqlite3_session*`,new r.xWrap.FuncPtrAdapter({name:`xOutput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`]],[`sqlite3session_config`,`int`,[`int`,`void*`]],[`sqlite3session_create`,`int`,[`sqlite3*`,`string`,`**`]],[`sqlite3session_diff`,`int`,[`sqlite3_session*`,`string`,`string`,`**`]],[`sqlite3session_enable`,`int`,[`sqlite3_session*`,`int`]],[`sqlite3session_indirect`,`int`,[`sqlite3_session*`,`int`]],[`sqlite3session_isempty`,`int`,[`sqlite3_session*`]],[`sqlite3session_memory_used`,`i64`,[`sqlite3_session*`]],[`sqlite3session_object_config`,`int`,[`sqlite3_session*`,`int`,`void*`]],[`sqlite3session_patchset`,`int`,[`sqlite3_session*`,`*`,`**`]],[`sqlite3session_patchset_strm`,`int`,[`sqlite3_session*`,new r.xWrap.FuncPtrAdapter({name:`xOutput`,signature:`i(ppp)`,bindScope:`transient`}),`void*`]],[`sqlite3session_table_filter`,void 0,[`sqlite3_session*`,new r.xWrap.FuncPtrAdapter({name:`xFilter`,...e,contextKey:(e,t)=>e[0]}),`*`]])}r.bindingSignatures.wasmInternal=[[`sqlite3__wasm_db_reset`,`int`,`sqlite3*`],[`sqlite3__wasm_db_vfs`,`sqlite3_vfs*`,`sqlite3*`,`string`],[`sqlite3__wasm_vfs_create_file`,`int`,`sqlite3_vfs*`,`string`,`*`,`int`],[`sqlite3__wasm_posix_create_file`,`int`,`string`,`*`,`int`],[`sqlite3__wasm_vfs_unlink`,`int`,`sqlite3_vfs*`,`string`],[`sqlite3__wasm_qfmt_token`,`string:dealloc`,`string`,`int`]],e.StructBinder=globalThis.Jaccwabyt({heap:r.heap8u,alloc:r.alloc,dealloc:r.dealloc,bigIntEnabled:r.bigIntEnabled,memberPrefix:`$`}),delete globalThis.Jaccwabyt;{let a=r.xWrap.argAdapter(`string`);r.xWrap.argAdapter(`string:flexible`,e=>a(i.flexibleString(e))),r.xWrap.argAdapter(`string:static`,function(e){if(r.isPtr(e))return e;e=``+e;let t=this[e];return t||(this[e]=r.allocCString(e))}.bind(Object.create(null)));let o=r.xWrap.argAdapter(`*`),s=function(){};r.xWrap.argAdapter(`sqlite3_filename`,o)(`sqlite3_context*`,o)(`sqlite3_value*`,o)(`void*`,o)(`sqlite3_changegroup*`,o)(`sqlite3_changeset_iter*`,o)(`sqlite3_session*`,o)(`sqlite3_stmt*`,t=>o(t instanceof(e?.oo1?.Stmt||s)?t.pointer:t))(`sqlite3*`,t=>o(t instanceof(e?.oo1?.DB||s)?t.pointer:t))(`sqlite3_vfs*`,t=>typeof t==`string`?n.sqlite3_vfs_find(t)||e.SQLite3Error.toss(n.SQLITE_NOTFOUND,`Unknown sqlite3_vfs name:`,t):o(t instanceof(n.sqlite3_vfs||s)?t.pointer:t)),r.exports.sqlite3_declare_vtab&&r.xWrap.argAdapter(`sqlite3_index_info*`,e=>o(e instanceof(n.sqlite3_index_info||s)?e.pointer:e))(`sqlite3_module*`,e=>o(e instanceof(n.sqlite3_module||s)?e.pointer:e));let c=r.xWrap.resultAdapter(`*`);r.xWrap.resultAdapter(`sqlite3*`,c)(`sqlite3_context*`,c)(`sqlite3_stmt*`,c)(`sqlite3_value*`,c)(`sqlite3_vfs*`,c)(`void*`,c),r.exports.sqlite3_step.length===0&&(r.xWrap.doArgcCheck=!1,e.config.warn(`Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks.`));for(let e of r.bindingSignatures)n[e[0]]=r.xWrap.apply(null,e);for(let e of r.bindingSignatures.wasmInternal)i[e[0]]=r.xWrap.apply(null,e);let l=function(e){return()=>t(e+`() is unavailable due to lack`,`of BigInt support in this build.`)};for(let e of r.bindingSignatures.int64)n[e[0]]=r.bigIntEnabled?r.xWrap.apply(null,e):l(e[0]);if(delete r.bindingSignatures,r.exports.sqlite3__wasm_db_error){let t=r.xWrap(`sqlite3__wasm_db_error`,`int`,`sqlite3*`,`int`,`string`);i.sqlite3__wasm_db_error=function(r,i,a){return i instanceof e.WasmAllocError?(i=n.SQLITE_NOMEM,a=0):i instanceof Error&&(a||=``+i,i=i.resultCode||n.SQLITE_ERROR),r?t(r,i,a):i}}else i.sqlite3__wasm_db_error=function(e,t,n){return console.warn(`sqlite3__wasm_db_error() is not exported.`,arguments),t}}{let a=r.xCall(`sqlite3__wasm_enum_json`);a||t(`Maintenance required: increase sqlite3__wasm_enum_json()'s`,`static buffer size!`),r.ctype=JSON.parse(r.cstrToJs(a));let o=[`access`,`authorizer`,`blobFinalizers`,`changeset`,`config`,`dataTypes`,`dbConfig`,`dbStatus`,`encodings`,`fcntl`,`flock`,`ioCap`,`limits`,`openFlags`,`prepareFlags`,`resultCodes`,`sqlite3Status`,`stmtStatus`,`syncFlags`,`trace`,`txnState`,`udfFlags`,`version`];r.bigIntEnabled&&o.push(`serialize`,`session`,`vtab`);for(let e of o)for(let t of Object.entries(r.ctype[e]))n[t[0]]=t[1];r.functionEntry(n.SQLITE_WASM_DEALLOC)||t(`Internal error: cannot resolve exported function`,`entry SQLITE_WASM_DEALLOC (==`+n.SQLITE_WASM_DEALLOC+`).`);let s=Object.create(null);for(let e of[`resultCodes`])for(let t of Object.entries(r.ctype[e]))s[t[1]]=t[0];n.sqlite3_js_rc_str=e=>s[e];let c=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!i.isUIThread(),sqlite3_index_info:!r.bigIntEnabled,sqlite3_index_constraint:!r.bigIntEnabled,sqlite3_index_orderby:!r.bigIntEnabled,sqlite3_index_constraint_usage:!r.bigIntEnabled});for(let t of r.ctype.structs)c[t.name]||(n[t.name]=e.StructBinder(t));if(n.sqlite3_index_info){for(let e of[`sqlite3_index_constraint`,`sqlite3_index_orderby`,`sqlite3_index_constraint_usage`])n.sqlite3_index_info[e]=n[e],delete n[e];n.sqlite3_vtab_config=r.xWrap(`sqlite3__wasm_vtab_config`,`int`,[`sqlite3*`,`int`,`int`])}}let a=(e,t,r)=>i.sqlite3__wasm_db_error(e,n.SQLITE_MISUSE,t+`() requires `+r+` argument`+(r===1?``:`s`)+`.`),o=e=>i.sqlite3__wasm_db_error(e,n.SQLITE_FORMAT,`SQLITE_UTF8 is the only supported encoding.`),s=e=>r.xWrap.argAdapter(`sqlite3*`)(e),c=e=>r.isPtr(e)?r.cstrToJs(e):e,l=function(e,t){e=s(e);let n=this.dbMap.get(e);if(t)!n&&t>0&&this.dbMap.set(e,n=Object.create(null));else return this.dbMap.delete(e),n;return n}.bind(Object.assign(Object.create(null),{dbMap:new Map}));l.addCollation=function(e,t){let n=l(e,1);n.collation||=new Set,n.collation.add(c(t).toLowerCase())},l._addUDF=function(e,t,n,r){t=c(t).toLowerCase();let i=r.get(t);i||r.set(t,i=new Set),i.add(n<0?-1:n)},l.addFunction=function(e,t,n){let r=l(e,1);r.udf||=new Map,this._addUDF(e,t,n,r.udf)},r.exports.sqlite3_create_window_function&&(l.addWindowFunc=function(e,t,n){let r=l(e,1);r.wudf||=new Map,this._addUDF(e,t,n,r.wudf)}),l.cleanup=function(t){t=s(t);let i=[t];for(let t of[`sqlite3_busy_handler`,`sqlite3_commit_hook`,`sqlite3_preupdate_hook`,`sqlite3_progress_handler`,`sqlite3_rollback_hook`,`sqlite3_set_authorizer`,`sqlite3_trace_v2`,`sqlite3_update_hook`]){let a=r.exports[t];if(!a)continue;i.length=a.length;try{n[t](...i)}catch(n){e.config.warn(`close-time call of`,t+`(`,i,`) threw:`,n)}}let a=l(t,0);if(!a)return;if(a.collation){for(let e of a.collation)try{n.sqlite3_create_collation_v2(t,e,n.SQLITE_UTF8,0,0,0)}catch{}delete a.collation}let o;for(o=0;o<2;++o){let e=o?a.wudf:a.udf;if(!e)continue;let r=o?n.sqlite3_create_window_function:n.sqlite3_create_function_v2;for(let i of e){let e=i[0],a=i[1],s=[t,e,0,n.SQLITE_UTF8,0,0,0,0,0];o&&s.push(0);for(let e of a)try{s[2]=e,r.apply(null,s)}catch{}a.clear()}e.clear()}delete a.udf,delete a.wudf};{let e=r.xWrap(`sqlite3_close_v2`,`int`,`sqlite3*`);n.sqlite3_close_v2=function(t){if(arguments.length!==1)return a(t,`sqlite3_close_v2`,1);if(t)try{l.cleanup(t)}catch{}return e(t)}}if(n.sqlite3session_create){let e=r.xWrap(`sqlite3session_delete`,void 0,[`sqlite3_session*`]);n.sqlite3session_delete=function(t){if(arguments.length!==1)return a(pDb,`sqlite3session_delete`,1);t&&n.sqlite3session_table_filter(t,0,0),e(t)}}{let e=(e,t)=>`argv[`+t+`]:`+e[0]+`:`+r.cstrToJs(e[1]).toLowerCase(),t=r.xWrap(`sqlite3_create_collation_v2`,`int`,[`sqlite3*`,`string`,`int`,`*`,new r.xWrap.FuncPtrAdapter({name:`xCompare`,signature:`i(pipip)`,contextKey:e}),new r.xWrap.FuncPtrAdapter({name:`xDestroy`,signature:`v(p)`,contextKey:e})]);n.sqlite3_create_collation_v2=function(e,r,s,c,u,d){if(arguments.length!==6)return a(e,`sqlite3_create_collation_v2`,6);if(!(s&15))s|=n.SQLITE_UTF8;else if(n.SQLITE_UTF8!==(s&15))return o(e);try{let n=t(e,r,s,c,u,d);return n===0&&u instanceof Function&&l.addCollation(e,r),n}catch(t){return i.sqlite3__wasm_db_error(e,t)}},n.sqlite3_create_collation=(e,t,r,i,o)=>arguments.length===5?n.sqlite3_create_collation_v2(e,t,r,i,o,0):a(e,`sqlite3_create_collation`,5)}{let e=function(e,t){return e[0]+`:`+(e[2]<0?-1:e[2])+`:`+t+`:`+r.cstrToJs(e[1]).toLowerCase()},t=Object.assign(Object.create(null),{xInverseAndStep:{signature:`v(pip)`,contextKey:e,callProxy:e=>(t,r,i)=>{try{e(t,...n.sqlite3_values_to_js(r,i))}catch(e){n.sqlite3_result_error_js(t,e)}}},xFinalAndValue:{signature:`v(p)`,contextKey:e,callProxy:e=>t=>{try{n.sqlite3_result_js(t,e(t))}catch(e){n.sqlite3_result_error_js(t,e)}}},xFunc:{signature:`v(pip)`,contextKey:e,callProxy:e=>(t,r,i)=>{try{n.sqlite3_result_js(t,e(t,...n.sqlite3_values_to_js(r,i)))}catch(e){n.sqlite3_result_error_js(t,e)}}},xDestroy:{signature:`v(p)`,contextKey:e,callProxy:e=>t=>{try{e(t)}catch(e){console.error(`UDF xDestroy method threw:`,e)}}}}),s=r.xWrap(`sqlite3_create_function_v2`,`int`,[`sqlite3*`,`string`,`int`,`int`,`*`,new r.xWrap.FuncPtrAdapter({name:`xFunc`,...t.xFunc}),new r.xWrap.FuncPtrAdapter({name:`xStep`,...t.xInverseAndStep}),new r.xWrap.FuncPtrAdapter({name:`xFinal`,...t.xFinalAndValue}),new r.xWrap.FuncPtrAdapter({name:`xDestroy`,...t.xDestroy})]),c=r.exports.sqlite3_create_window_function?r.xWrap(`sqlite3_create_window_function`,`int`,[`sqlite3*`,`string`,`int`,`int`,`*`,new r.xWrap.FuncPtrAdapter({name:`xStep`,...t.xInverseAndStep}),new r.xWrap.FuncPtrAdapter({name:`xFinal`,...t.xFinalAndValue}),new r.xWrap.FuncPtrAdapter({name:`xValue`,...t.xFinalAndValue}),new r.xWrap.FuncPtrAdapter({name:`xInverse`,...t.xInverseAndStep}),new r.xWrap.FuncPtrAdapter({name:`xDestroy`,...t.xDestroy})]):void 0;n.sqlite3_create_function_v2=function e(t,r,c,u,d,f,p,m,h){if(e.length!==arguments.length)return a(t,`sqlite3_create_function_v2`,e.length);if(!(u&15))u|=n.SQLITE_UTF8;else if(n.SQLITE_UTF8!==(u&15))return o(t);try{let e=s(t,r,c,u,d,f,p,m,h);return e===0&&(f instanceof Function||p instanceof Function||m instanceof Function||h instanceof Function)&&l.addFunction(t,r,c),e}catch(e){return console.error(`sqlite3_create_function_v2() setup threw:`,e),i.sqlite3__wasm_db_error(t,e,`Creation of UDF threw: `+e)}},n.sqlite3_create_function=function e(t,r,i,o,s,c,l,u){return e.length===arguments.length?n.sqlite3_create_function_v2(t,r,i,o,s,c,l,u,0):a(t,`sqlite3_create_function`,e.length)},c?n.sqlite3_create_window_function=function e(t,r,s,u,d,f,p,m,h,g){if(e.length!==arguments.length)return a(t,`sqlite3_create_window_function`,e.length);if(!(u&15))u|=n.SQLITE_UTF8;else if(n.SQLITE_UTF8!==(u&15))return o(t);try{let e=c(t,r,s,u,d,f,p,m,h,g);return e===0&&(f instanceof Function||p instanceof Function||m instanceof Function||h instanceof Function||g instanceof Function)&&l.addWindowFunc(t,r,s),e}catch(e){return console.error(`sqlite3_create_window_function() setup threw:`,e),i.sqlite3__wasm_db_error(t,e,`Creation of UDF threw: `+e)}}:delete n.sqlite3_create_window_function,n.sqlite3_create_function_v2.udfSetResult=n.sqlite3_create_function.udfSetResult=n.sqlite3_result_js,n.sqlite3_create_window_function&&(n.sqlite3_create_window_function.udfSetResult=n.sqlite3_result_js),n.sqlite3_create_function_v2.udfConvertArgs=n.sqlite3_create_function.udfConvertArgs=n.sqlite3_values_to_js,n.sqlite3_create_window_function&&(n.sqlite3_create_window_function.udfConvertArgs=n.sqlite3_values_to_js),n.sqlite3_create_function_v2.udfSetError=n.sqlite3_create_function.udfSetError=n.sqlite3_result_error_js,n.sqlite3_create_window_function&&(n.sqlite3_create_window_function.udfSetError=n.sqlite3_result_error_js)}{let e=(e,t)=>(typeof e==`string`?t=-1:i.isSQLableTypedArray(e)?(t=e.byteLength,e=i.typedArrayToString(e instanceof ArrayBuffer?new Uint8Array(e):e)):Array.isArray(e)&&(e=e.join(``),t=-1),[e,t]),t={basic:r.xWrap(`sqlite3_prepare_v3`,`int`,[`sqlite3*`,`string`,`int`,`int`,`**`,`**`]),full:r.xWrap(`sqlite3_prepare_v3`,`int`,[`sqlite3*`,`*`,`int`,`int`,`**`,`**`])};n.sqlite3_prepare_v3=function r(o,s,c,l,u,d){if(r.length!==arguments.length)return a(o,`sqlite3_prepare_v3`,r.length);let[f,p]=e(s,c);switch(typeof f){case`string`:return t.basic(o,f,p,l,u,null);case`number`:return t.full(o,f,p,l,u,d);default:return i.sqlite3__wasm_db_error(o,n.SQLITE_MISUSE,`Invalid SQL argument type for sqlite3_prepare_v2/v3().`)}},n.sqlite3_prepare_v2=function e(t,r,i,o,s){return e.length===arguments.length?n.sqlite3_prepare_v3(t,r,i,0,o,s):a(t,`sqlite3_prepare_v2`,e.length)}}{let e=r.xWrap(`sqlite3_bind_text`,`int`,[`sqlite3_stmt*`,`int`,`string`,`int`,`*`]),t=r.xWrap(`sqlite3_bind_blob`,`int`,[`sqlite3_stmt*`,`int`,`*`,`int`,`*`]);n.sqlite3_bind_text=function t(o,s,c,l,u){if(t.length!==arguments.length)return a(n.sqlite3_db_handle(o),`sqlite3_bind_text`,t.length);if(r.isPtr(c)||c===null)return e(o,s,c,l,u);c instanceof ArrayBuffer?c=new Uint8Array(c):Array.isArray(pMem)&&(c=pMem.join(``));let d,f;try{if(i.isSQLableTypedArray(c))d=r.allocFromTypedArray(c),f=c.byteLength;else if(typeof c==`string`)[d,f]=r.allocCString(c);else return i.sqlite3__wasm_db_error(n.sqlite3_db_handle(o),n.SQLITE_MISUSE,`Invalid 3rd argument type for sqlite3_bind_text().`);return e(o,s,d,f,n.SQLITE_WASM_DEALLOC)}catch(e){return r.dealloc(d),i.sqlite3__wasm_db_error(n.sqlite3_db_handle(o),e)}},n.sqlite3_bind_blob=function e(o,s,c,l,u){if(e.length!==arguments.length)return a(n.sqlite3_db_handle(o),`sqlite3_bind_blob`,e.length);if(r.isPtr(c)||c===null)return t(o,s,c,l,u);c instanceof ArrayBuffer?c=new Uint8Array(c):Array.isArray(c)&&(c=c.join(``));let d,f;try{if(i.isBindableTypedArray(c))d=r.allocFromTypedArray(c),f=l>=0?l:c.byteLength;else if(typeof c==`string`)[d,f]=r.allocCString(c);else return i.sqlite3__wasm_db_error(n.sqlite3_db_handle(o),n.SQLITE_MISUSE,`Invalid 3rd argument type for sqlite3_bind_blob().`);return t(o,s,d,f,n.SQLITE_WASM_DEALLOC)}catch(e){return r.dealloc(d),i.sqlite3__wasm_db_error(n.sqlite3_db_handle(o),e)}}}n.sqlite3_config=function(e,...t){if(arguments.length<2)return n.SQLITE_MISUSE;switch(e){case n.SQLITE_CONFIG_COVERING_INDEX_SCAN:case n.SQLITE_CONFIG_MEMSTATUS:case n.SQLITE_CONFIG_SMALL_MALLOC:case n.SQLITE_CONFIG_SORTERREF_SIZE:case n.SQLITE_CONFIG_STMTJRNL_SPILL:case n.SQLITE_CONFIG_URI:return r.exports.sqlite3__wasm_config_i(e,t[0]);case n.SQLITE_CONFIG_LOOKASIDE:return r.exports.sqlite3__wasm_config_ii(e,t[0],t[1]);case n.SQLITE_CONFIG_MEMDB_MAXSIZE:return r.exports.sqlite3__wasm_config_j(e,t[0]);case n.SQLITE_CONFIG_GETMALLOC:case n.SQLITE_CONFIG_GETMUTEX:case n.SQLITE_CONFIG_GETPCACHE2:case n.SQLITE_CONFIG_GETPCACHE:case n.SQLITE_CONFIG_HEAP:case n.SQLITE_CONFIG_LOG:case n.SQLITE_CONFIG_MALLOC:case n.SQLITE_CONFIG_MMAP_SIZE:case n.SQLITE_CONFIG_MULTITHREAD:case n.SQLITE_CONFIG_MUTEX:case n.SQLITE_CONFIG_PAGECACHE:case n.SQLITE_CONFIG_PCACHE2:case n.SQLITE_CONFIG_PCACHE:case n.SQLITE_CONFIG_PCACHE_HDRSZ:case n.SQLITE_CONFIG_PMASZ:case n.SQLITE_CONFIG_SERIALIZED:case n.SQLITE_CONFIG_SINGLETHREAD:case n.SQLITE_CONFIG_SQLLOG:case n.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return n.SQLITE_NOTFOUND}};{let e=new Set;n.sqlite3_auto_extension=function(t){if(t instanceof Function)t=r.installFunction(`i(ppp)`,t);else if(arguments.length!==1||!r.isPtr(t))return n.SQLITE_MISUSE;let i=r.exports.sqlite3_auto_extension(t);return t!==arguments[0]&&(i===0?e.add(t):r.uninstallFunction(t)),i},n.sqlite3_cancel_auto_extension=function(e){return!e||arguments.length!==1||!r.isPtr(e)?0:r.exports.sqlite3_cancel_auto_extension(e)},n.sqlite3_reset_auto_extension=function(){r.exports.sqlite3_reset_auto_extension();for(let t of e)r.uninstallFunction(t);e.clear()}}let u=n.sqlite3_vfs_find(`kvvfs`);if(u)if(i.isUIThread()){let e=new n.sqlite3_kvvfs_methods(r.exports.sqlite3__wasm_kvvfs_methods());delete n.sqlite3_kvvfs_methods;let t=r.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,i=r.pstack,a=e=>r.peek(e)===115?sessionStorage:localStorage,o={xRead:(e,n,o,s)=>{let c=i.pointer,l=r.scopedAllocPush();try{let i=t(e,n);if(!i)return-3;let c=r.cstrToJs(i),l=a(e).getItem(c);if(!l)return-1;let u=l.length;if(s<=0)return u;if(s===1)return r.poke(o,0),u;let d=r.scopedAllocCString(l);return s>u+1&&(s=u+1),r.heap8u().copyWithin(o,d,d+s-1),r.poke(o+s-1,0),s-1}catch(e){return console.error(`kvstorageRead()`,e),-2}finally{i.restore(c),r.scopedAllocPop(l)}},xWrite:(e,o,s)=>{let c=i.pointer;try{let n=t(e,o);if(!n)return 1;let i=r.cstrToJs(n);return a(e).setItem(i,r.cstrToJs(s)),0}catch(e){return console.error(`kvstorageWrite()`,e),n.SQLITE_IOERR}finally{i.restore(c)}},xDelete:(e,o)=>{let s=i.pointer;try{let n=t(e,o);return n?(a(e).removeItem(r.cstrToJs(n)),0):1}catch(e){return console.error(`kvstorageDelete()`,e),n.SQLITE_IOERR}finally{i.restore(s)}}};for(let t of Object.keys(o))e[e.memberKey(t)]=r.installFunction(e.memberSignature(t),o[t])}else n.sqlite3_vfs_unregister(u);r.xWrap.FuncPtrAdapter.warnOnUse=!0;let d=e.StructBinder,f=function e(n,i,a,o=e.installMethodArgcCheck){if(n instanceof d.StructType?!(a instanceof Function)&&!r.isPtr(a)&&t(`Usage error: expecting a Function or WASM pointer to one.`):t(`Usage error: target object is-not-a StructType.`),arguments.length===1)return(t,r)=>e(n,t,r,o);e.argcProxy||(e.argcProxy=function(e,n,r,i){return function(...a){return r.length!==arguments.length&&t(`Argument mismatch for`,e.structInfo.name+`::`+n+`: Native signature is:`,i),r.apply(this,a)}},e.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((e,t)=>{if(typeof e==`number`)try{r.uninstallFunction(e)}catch{}}),delete this.ondispose.__removeFuncList)});let s=n.memberSignature(i);s.length<2&&t(`Member`,i,`does not have a function pointer signature:`,s);let c=n.memberKey(i),l=o&&!r.isPtr(a)?e.argcProxy(n,c,a,s):a;if(r.isPtr(l))l&&!r.functionEntry(l)&&t(`Pointer`,l,`is not a WASM function table entry.`),n[c]=l;else{let t=r.installFunction(l,n.memberSignature(i,!0));n[c]=t,(!n.ondispose||!n.ondispose.__removeFuncList)&&(n.addOnDispose(`ondispose.__removeFuncList handler`,e.removeFuncList),n.ondispose.__removeFuncList=[]),n.ondispose.__removeFuncList.push(c,t)}return(t,r)=>e(n,t,r,o)};f.installMethodArgcCheck=!1;let p=function(e,t,n=f.installMethodArgcCheck){let r=new Map;for(let i of Object.keys(t)){let a=t[i],o=r.get(a);if(o){let t=e.memberKey(i);e[t]=e[e.memberKey(o)]}else f(e,i,a,n),r.set(a,i)}return e};d.StructType.prototype.installMethod=function(e,t,n=f.installMethodArgcCheck){return arguments.length<3&&e&&typeof e==`object`?p(this,...arguments):f(this,...arguments)},d.StructType.prototype.installMethods=function(e,t=f.installMethodArgcCheck){return p(this,e,t)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){e.version={libVersion:`3.50.1`,libVersionNumber:3050001,sourceId:`2025-06-06 14:52:32 b77dc5e0f596d2140d9ac682b2893ff65d3a4140aa86067a3efebe29dc914c95`,downloadVersion:3500100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let t=(...t)=>{throw new e.SQLite3Error(...t)},n=e.capi,r=e.wasm,i=e.util,a=new WeakMap,o=new WeakMap,s=(e,t,n)=>{let r=Object.getOwnPropertyDescriptor(e,t);return r?r.value:n},c=function(e,r){return r&&(e instanceof f&&(e=e.pointer),t(r,`sqlite3 result code`,r+`:`,e?n.sqlite3_errmsg(e):n.sqlite3_errstr(r))),arguments[0]},l=r.installFunction(`i(ippp)`,function(e,t,i,a){n.SQLITE_TRACE_STMT===e&&console.log(`SQL TRACE #`+ ++this.counter+` via sqlite3@`+t+`:`,r.cstrToJs(a))}.bind({counter:0})),u=Object.create(null),d=function i(...s){if(!i._name2vfs){i._name2vfs=Object.create(null);let e=typeof importScripts==`function`?e=>t(`The VFS for`,e,`is only available in the main window thread.`):!1;i._name2vfs[`:localStorage:`]={vfs:`kvvfs`,filename:e||(()=>`local`)},i._name2vfs[`:sessionStorage:`]={vfs:`kvvfs`,filename:e||(()=>`session`)}}let d=i.normalizeArgs(...s),f=d.filename,p=d.vfs,m=d.flags;(typeof f!=`string`&&typeof f!=`number`||typeof m!=`string`||p&&typeof p!=`string`&&typeof p!=`number`)&&(e.config.error(`Invalid DB ctor args`,d,arguments),t(`Invalid arguments for DB constructor.`));let h=typeof f==`number`?r.cstrToJs(f):f,g=i._name2vfs[h];g&&(p=g.vfs,f=h=g.filename(h));let _,y=0;m.indexOf(`c`)>=0&&(y|=n.SQLITE_OPEN_CREATE|n.SQLITE_OPEN_READWRITE),m.indexOf(`w`)>=0&&(y|=n.SQLITE_OPEN_READWRITE),y===0&&(y|=n.SQLITE_OPEN_READONLY),y|=n.SQLITE_OPEN_EXRESCODE;let b=r.pstack.pointer;try{let e=r.pstack.allocPtr(),t=n.sqlite3_open_v2(f,e,y,p||0);_=r.peekPtr(e),c(_,t),n.sqlite3_extended_result_codes(_,1),m.indexOf(`t`)>=0&&n.sqlite3_trace_v2(_,n.SQLITE_TRACE_STMT,l,_)}catch(e){throw _&&n.sqlite3_close_v2(_),e}finally{r.pstack.restore(b)}this.filename=h,a.set(this,_),o.set(this,Object.create(null));try{let r=n.sqlite3_js_db_vfs(_)||t(`Internal error: cannot get VFS for new db handle.`),i=u[r];i&&(i instanceof Function?i(this,e):c(_,n.sqlite3_exec(_,i,0,0,0)))}catch(e){throw this.close(),e}};d.setVfsPostOpenCallback=function(e,n){n instanceof Function||t(`dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.`,arguments),u[e]=n},d.normalizeArgs=function(e=`:memory:`,t=`c`,n=null){let r={};return arguments.length===1&&arguments[0]&&typeof arguments[0]==`object`?(Object.assign(r,arguments[0]),r.flags===void 0&&(r.flags=`c`),r.vfs===void 0&&(r.vfs=null),r.filename===void 0&&(r.filename=`:memory:`)):(r.filename=e,r.flags=t,r.vfs=n),r};let f=function(...e){d.apply(this,e)};f.dbCtorHelper=d;let p={null:1,number:2,string:3,boolean:4,blob:5};p.undefined,p.null,r.bigIntEnabled&&(p.bigint=p.number);let m=function(){p!==arguments[2]&&t(n.SQLITE_MISUSE,`Do not call the Stmt constructor directly. Use DB.prepare().`),this.db=arguments[0],a.set(this,arguments[1]),this.parameterCount=n.sqlite3_bind_parameter_count(this.pointer)},h=function(e){return e.pointer||t(`DB has been closed.`),e},g=function(e,n){return(n!==(n|0)||n<0||n>=e.columnCount)&&t(`Column index`,n,`is out of range.`),e},_=function(e,r){let a=Object.create(null);switch(a.opt=Object.create(null),r.length){case 1:typeof r[0]==`string`||i.isSQLableTypedArray(r[0])||Array.isArray(r[0])?a.sql=r[0]:r[0]&&typeof r[0]==`object`&&(a.opt=r[0],a.sql=a.opt.sql);break;case 2:a.sql=r[0],a.opt=r[1];break;default:t(`Invalid argument count for exec().`)}a.sql=i.flexibleString(a.sql),typeof a.sql!=`string`&&t(`Missing SQL argument or unsupported SQL value type.`);let o=a.opt;switch(o.returnValue){case`resultRows`:o.resultRows||=[],a.returnVal=()=>o.resultRows;break;case`saveSql`:o.saveSql||=[],a.returnVal=()=>o.saveSql;break;case void 0:case`this`:a.returnVal=()=>e;break;default:t(`Invalid returnValue value:`,o.returnValue)}if(!o.callback&&!o.returnValue&&o.rowMode!==void 0&&(o.resultRows||=[],a.returnVal=()=>o.resultRows),o.callback||o.resultRows)switch(o.rowMode===void 0?`array`:o.rowMode){case`object`:a.cbArg=(e,t)=>{t.columnNames||=e.getColumnNames([]);let n=e.get([]),r=Object.create(null);for(let e in t.columnNames)r[t.columnNames[e]]=n[e];return r};break;case`array`:a.cbArg=e=>e.get([]);break;case`stmt`:Array.isArray(o.resultRows)&&t(`exec(): invalid rowMode for a resultRows array: must`,`be one of 'array', 'object',`,`a result column number, or column name reference.`),a.cbArg=e=>e;break;default:if(i.isInt32(o.rowMode)){a.cbArg=e=>e.get(o.rowMode);break}else if(typeof o.rowMode==`string`&&o.rowMode.length>1&&o.rowMode[0]===`$`){let e=o.rowMode.substr(1);a.cbArg=r=>{let i=r.get(Object.create(null))[e];return i===void 0?t(n.SQLITE_NOTFOUND,`exec(): unknown result column:`,e):i};break}t(`Invalid rowMode:`,o.rowMode)}return a},y=(e,t,n,...r)=>{let i=e.prepare(t);try{let e=i.bind(n).step()?i.get(...r):void 0;return i.reset(),e}finally{i.finalize()}},b=(e,t,n,r)=>e.exec({sql:t,bind:n,rowMode:r,returnValue:`resultRows`});f.checkRc=(e,t)=>c(e,t),f.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return h(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}let e=this.pointer;if(Object.keys(o.get(this)).forEach((e,t)=>{if(t&&t.pointer)try{t.finalize()}catch{}}),a.delete(this),o.delete(this),n.sqlite3_close_v2(e),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(e=!1,t=!1){let r=h(this).pointer;return e?t?n.sqlite3_total_changes64(r):n.sqlite3_total_changes(r):t?n.sqlite3_changes64(r):n.sqlite3_changes(r)},dbFilename:function(e=`main`){return n.sqlite3_db_filename(h(this).pointer,e)},dbName:function(e=0){return n.sqlite3_db_name(h(this).pointer,e)},dbVfsName:function(e=0){let t,i=n.sqlite3_js_db_vfs(h(this).pointer,e);if(i){let e=new n.sqlite3_vfs(i);try{t=r.cstrToJs(e.$zName)}finally{e.dispose()}}return t},prepare:function(e){h(this);let i=r.pstack.pointer,a,s;try{a=r.pstack.alloc(8),f.checkRc(this,n.sqlite3_prepare_v2(this.pointer,e,-1,a,null)),s=r.peekPtr(a)}finally{r.pstack.restore(i)}s||t(`Cannot prepare empty SQL.`);let c=new m(this,s,p);return o.get(this)[s]=c,c},exec:function(){h(this);let e=_(this,arguments);if(!e.sql)return t(`exec() requires an SQL string.`);let a=e.opt,o=a.callback,s=Array.isArray(a.resultRows)?a.resultRows:void 0,c,l=a.bind,u=!!(e.cbArg||a.columnNames||s),d=r.scopedAllocPush(),g=Array.isArray(a.saveSql)?a.saveSql:void 0;try{let t=i.isSQLableTypedArray(e.sql),d=t?e.sql.byteLength:r.jstrlen(e.sql),h=r.scopedAlloc(2*r.ptrSizeof+(d+1)),_=h+r.ptrSizeof,y=_+r.ptrSizeof,b=y+d;for(t?r.heap8().set(e.sql,y):r.jstrcpy(e.sql,r.heap8(),y,d,!1),r.poke(y+d,0);y&&r.peek(y,`i8`);){r.pokePtr([h,_],0),f.checkRc(this,n.sqlite3_prepare_v3(this.pointer,y,d,0,h,_));let t=r.peekPtr(h);if(y=r.peekPtr(_),d=b-y,t){if(g&&g.push(n.sqlite3_sql(t).trim()),c=new m(this,t,p),l&&c.parameterCount&&(c.bind(l),l=null),u&&c.columnCount){let t=Array.isArray(a.columnNames)?0:1;if(u=!1,e.cbArg||s){let n=Object.create(null);for(;c.step();c._lockedByExec=!1){t++===0&&c.getColumnNames(n.columnNames=a.columnNames||[]),c._lockedByExec=!0;let r=e.cbArg(c,n);if(s&&s.push(r),o&&!1===o.call(a,r,c))break}c._lockedByExec=!1}t===0&&c.getColumnNames(a.columnNames)}else c.step();c.reset().finalize(),c=null}}}finally{r.scopedAllocPop(d),c&&(delete c._lockedByExec,c.finalize())}return e.returnVal()},createFunction:function(e,r,a){let o=e=>e instanceof Function;switch(arguments.length){case 1:a=e,e=a.name,r=a.xFunc||0;break;case 2:o(r)||(a=r,r=a.xFunc||0);break;case 3:break;default:break}a||={},typeof e!=`string`&&t(`Invalid arguments: missing function name.`);let c=a.xStep||0,l=a.xFinal||0,u=a.xValue||0,d=a.xInverse||0,p;o(r)?(p=!1,(o(c)||o(l))&&t(`Ambiguous arguments: scalar or aggregate?`),c=l=null):o(c)?(o(l)||t(`Missing xFinal() callback for aggregate or window UDF.`),r=null):o(l)?t(`Missing xStep() callback for aggregate or window UDF.`):t(`Missing function-type properties.`),!1===p?(o(u)||o(d))&&t(`xValue and xInverse are not permitted for non-window UDFs.`):o(u)?(o(d)||t(`xInverse must be provided if xValue is.`),p=!0):o(d)&&t(`xValue must be provided if xInverse is.`);let m=a.pApp;m!=null&&(typeof m!=`number`||!i.isInt32(m))&&t(`Invalid value for pApp property. Must be a legal WASM pointer value.`);let h=a.xDestroy||0;h&&!o(h)&&t(`xDestroy property must be a function.`);let g=0;s(a,`deterministic`)&&(g|=n.SQLITE_DETERMINISTIC),s(a,`directOnly`)&&(g|=n.SQLITE_DIRECTONLY),s(a,`innocuous`)&&(g|=n.SQLITE_INNOCUOUS),e=e.toLowerCase();let _=r||c,y=s(a,`arity`),b=typeof y==`number`?y:_.length?_.length-1:0,x;return x=p?n.sqlite3_create_window_function(this.pointer,e,b,n.SQLITE_UTF8|g,m||0,c,l,u,d,h):n.sqlite3_create_function_v2(this.pointer,e,b,n.SQLITE_UTF8|g,m||0,r,c,l,h),f.checkRc(this,x),this},selectValue:function(e,t,n){return y(this,e,t,0,n)},selectValues:function(e,t,n){let r=this.prepare(e),i=[];try{for(r.bind(t);r.step();)i.push(r.get(0,n));r.reset()}finally{r.finalize()}return i},selectArray:function(e,t){return y(this,e,t,[])},selectObject:function(e,t){return y(this,e,t,{})},selectArrays:function(e,t){return b(this,e,t,`array`)},selectObjects:function(e,t){return b(this,e,t,`object`)},openStatementCount:function(){return this.pointer?Object.keys(o.get(this)).length:0},transaction:function(e){let r=`BEGIN`;arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&t(n.SQLITE_MISUSE,`Invalid argument for BEGIN qualifier.`),r+=` `+arguments[0],e=arguments[1]),h(this).exec(r);try{let t=e(this);return this.exec(`COMMIT`),t}catch(e){throw this.exec(`ROLLBACK`),e}},savepoint:function(e){h(this).exec(`SAVEPOINT oo1`);try{let t=e(this);return this.exec(`RELEASE oo1`),t}catch(e){throw this.exec(`ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1`),e}},checkRc:function(e){return c(this,e)}};let x=function(e){return e.pointer||t(`Stmt has been closed.`),e},S=function(e){let t=p[e==null?`null`:typeof e];switch(t){case p.boolean:case p.null:case p.number:case p.string:return t;case p.bigint:if(r.bigIntEnabled)return t;default:return i.isBindableTypedArray(e)?p.blob:void 0}},C=function(e){return S(e)||t(`Unsupported bind() argument type:`,typeof e)},w=function(e,r){let a=typeof r==`number`?r:n.sqlite3_bind_parameter_index(e.pointer,r);return a===0||!i.isInt32(a)?t(`Invalid bind() parameter name: `+r):(a<1||a>e.parameterCount)&&t(`Bind index`,r,`is out of range.`),a},T=function(e,n){return e._lockedByExec&&t(`Operation is illegal when statement is locked:`,n),e},E=function a(o,s,c,l){T(x(o),`bind()`),a._||=(a._tooBigInt=e=>t(`BigInt value is too big to store without precision loss:`,e),{string:function(e,t,i,a){let[o,s]=r.allocCString(i,!0),c=a?n.sqlite3_bind_blob:n.sqlite3_bind_text;return c(e.pointer,t,o,s,n.SQLITE_WASM_DEALLOC)}}),C(l),s=w(o,s);let u=0;switch(l==null?p.null:c){case p.null:u=n.sqlite3_bind_null(o.pointer,s);break;case p.string:u=a._.string(o,s,l,!1);break;case p.number:{let e;i.isInt32(l)?e=n.sqlite3_bind_int:typeof l==`bigint`?i.bigIntFits64(l)?r.bigIntEnabled?e=n.sqlite3_bind_int64:i.bigIntFitsDouble(l)?(l=Number(l),e=n.sqlite3_bind_double):a._tooBigInt(l):a._tooBigInt(l):(l=Number(l),e=r.bigIntEnabled&&Number.isInteger(l)?n.sqlite3_bind_int64:n.sqlite3_bind_double),u=e(o.pointer,s,l);break}case p.boolean:u=n.sqlite3_bind_int(o.pointer,s,l?1:0);break;case p.blob:{if(typeof l==`string`){u=a._.string(o,s,l,!0);break}else l instanceof ArrayBuffer?l=new Uint8Array(l):i.isBindableTypedArray(l)||t(`Binding a value as a blob requires`,`that it be a string, Uint8Array, Int8Array, or ArrayBuffer.`);let e=r.alloc(l.byteLength||1);r.heap8().set(l.byteLength?l:[0],e),u=n.sqlite3_bind_blob(o.pointer,s,e,l.byteLength,n.SQLITE_WASM_DEALLOC);break}default:e.config.warn(`Unsupported bind() argument type:`,l),t(`Unsupported bind() argument type: `+typeof l)}return u&&f.checkRc(o.db.pointer,u),o._mayGet=!1,o};m.prototype={finalize:function(){if(this.pointer){T(this,`finalize()`);let e=n.sqlite3_finalize(this.pointer);return delete o.get(this.db)[this.pointer],a.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,e}},clearBindings:function(){return T(x(this),`clearBindings()`),n.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(e){T(this,`reset()`),e&&this.clearBindings();let t=n.sqlite3_reset(x(this).pointer);return this._mayGet=!1,c(this.db,t),this},bind:function(){x(this);let e,n;switch(arguments.length){case 1:e=1,n=arguments[0];break;case 2:e=arguments[0],n=arguments[1];break;default:t(`Invalid bind() arguments.`)}return n===void 0?this:(this.parameterCount||t(`This statement has no bindable parameters.`),this._mayGet=!1,n===null?E(this,e,p.null,n):Array.isArray(n)?(arguments.length!==1&&t(`When binding an array, an index argument is not permitted.`),n.forEach((e,t)=>E(this,t+1,C(e),e)),this):(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),typeof n==`object`&&!i.isBindableTypedArray(n)?(arguments.length!==1&&t(`When binding an object, an index argument is not permitted.`),Object.keys(n).forEach(e=>E(this,e,C(n[e]),n[e])),this):E(this,e,C(n),n)))},bindAsBlob:function(e,n){x(this),arguments.length===1&&(n=e,e=1);let r=C(n);return p.string!==r&&p.blob!==r&&p.null!==r&&t(`Invalid value type for bindAsBlob()`),E(this,e,p.blob,n)},step:function(){T(this,`step()`);let t=n.sqlite3_step(x(this).pointer);switch(t){case n.SQLITE_DONE:return this._mayGet=!1;case n.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,e.config.warn(`sqlite3_step() rc=`,t,n.sqlite3_js_rc_str(t),`SQL =`,n.sqlite3_sql(this.pointer)),f.checkRc(this.db.pointer,t)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{let e=this.step();return this.reset(),e}finally{try{this.finalize()}catch{}}},get:function(e,a){if(x(this)._mayGet||t(`Stmt.step() has not (recently) returned true.`),Array.isArray(e)){let t=0,n=this.columnCount;for(;t<n;)e[t]=this.get(t++);return e}else if(e&&typeof e==`object`){let t=0,r=this.columnCount;for(;t<r;)e[n.sqlite3_column_name(this.pointer,t)]=this.get(t++);return e}switch(g(this,e),a===void 0?n.sqlite3_column_type(this.pointer,e):a){case n.SQLITE_NULL:return null;case n.SQLITE_INTEGER:if(r.bigIntEnabled){let t=n.sqlite3_column_int64(this.pointer,e);return t>=-(2**53-1)&&t<=2**53-1?Number(t).valueOf():t}else{let r=n.sqlite3_column_double(this.pointer,e);return(r>2**53-1||r<-(2**53-1))&&t(`Integer is out of range for JS integer range: `+r),i.isInt32(r)?r|0:r}case n.SQLITE_FLOAT:return n.sqlite3_column_double(this.pointer,e);case n.SQLITE_TEXT:return n.sqlite3_column_text(this.pointer,e);case n.SQLITE_BLOB:{let t=n.sqlite3_column_bytes(this.pointer,e),i=n.sqlite3_column_blob(this.pointer,e),a=new Uint8Array(t);return t&&a.set(r.heap8u().slice(i,i+t),0),t&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(a.buffer),a}default:t(`Don't know how to translate`,`type of result column #`+e+`.`)}t(`Not reached.`)},getInt:function(e){return this.get(e,n.SQLITE_INTEGER)},getFloat:function(e){return this.get(e,n.SQLITE_FLOAT)},getString:function(e){return this.get(e,n.SQLITE_TEXT)},getBlob:function(e){return this.get(e,n.SQLITE_BLOB)},getJSON:function(e){let t=this.get(e,n.SQLITE_STRING);return t===null?t:JSON.parse(t)},getColumnName:function(e){return n.sqlite3_column_name(g(x(this),e).pointer,e)},getColumnNames:function(e=[]){g(x(this),0);let t=this.columnCount;for(let r=0;r<t;++r)e.push(n.sqlite3_column_name(this.pointer,r));return e},getParamIndex:function(e){return x(this).parameterCount?n.sqlite3_bind_parameter_index(this.pointer,e):void 0},getParamName:function(e){return x(this).parameterCount?n.sqlite3_bind_parameter_name(this.pointer,e):void 0},isBusy:function(){return n.sqlite3_stmt_busy(x(this))!==0},isReadOnly:function(){return n.sqlite3_stmt_readonly(x(this))!==0}};{let e={enumerable:!0,get:function(){return a.get(this)},set:()=>t(`The pointer property is read-only.`)};Object.defineProperty(m.prototype,`pointer`,e),Object.defineProperty(f.prototype,`pointer`,e)}if(Object.defineProperty(m.prototype,`columnCount`,{enumerable:!1,get:function(){return n.sqlite3_column_count(this.pointer)},set:()=>t(`The columnCount property is read-only.`)}),e.oo1={DB:f,Stmt:m},i.isUIThread()){e.oo1.JsStorageDb=function(e=`session`){let n=d.normalizeArgs(...arguments);e=n.filename,e!==`session`&&e!==`local`&&t(`JsStorageDb db name must be one of 'session' or 'local'.`),n.vfs=`kvvfs`,d.call(this,n)};let r=e.oo1.JsStorageDb;r.prototype=Object.create(f.prototype),r.clearStorage=n.sqlite3_js_kvvfs_clear,r.prototype.clearStorage=function(){return r.clearStorage(h(this).filename)},r.storageSize=n.sqlite3_js_kvvfs_size,r.prototype.storageSize=function(){return r.storageSize(h(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let t=e.util;e.initWorker1API=function(){let e=(...e)=>{throw Error(e.join(` `))};globalThis.WorkerGlobalScope instanceof Function||e(`initWorker1API() must be run from a Worker thread.`);let n=this.sqlite3||e(`Missing this.sqlite3 object.`),r=n.oo1.DB,i=function(e){let t=a.idMap.get(e);return t||(t=`db#`+ ++a.idSeq+`@`+e.pointer,a.idMap.set(e,t),t)},a={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(e){let t=new r(e);return this.dbs[i(t)]=t,this.dbList.indexOf(t)<0&&this.dbList.push(t),t},close:function(e,n){if(e){delete this.dbs[i(e)];let r=e.filename,a=t.sqlite3__wasm_db_vfs(e.pointer,0);e.close();let o=this.dbList.indexOf(e);o>=0&&this.dbList.splice(o,1),n&&r&&a&&t.sqlite3__wasm_vfs_unlink(a,r)}},post:function(e,t){t&&t.length?(globalThis.postMessage(e,Array.from(t)),t.length=0):globalThis.postMessage(e)},dbs:Object.create(null),getDb:function(t,n=!0){return this.dbs[t]||(n?e(`Unknown (or closed) DB ID:`,t):void 0)}},o=function(t=a.dbList[0]){return t&&t.pointer?t:e(`DB is not opened.`)},s=function(e,t=!0){let n=a.getDb(e.dbId,!1)||a.dbList[0];return t?o(n):n},c=function(){return a.dbList[0]&&i(a.dbList[0])},l={open:function(t){let r=Object.create(null),o=t.args||Object.create(null);o.simulateError&&e(`Throwing because of simulateError flag.`);let s=Object.create(null);r.vfs=o.vfs,r.filename=o.filename||``;let c=a.open(r);return s.filename=c.filename,s.persistent=!!n.capi.sqlite3_js_db_uses_vfs(c.pointer,`opfs`),s.dbId=i(c),s.vfs=c.dbVfsName(),s},close:function(e){let t=s(e,!1),n={filename:t&&t.filename};if(t){let n=e.args&&typeof e.args==`object`?!!e.args.unlink:!1;a.close(t,n)}return n},exec:function(t){let r=typeof t.args==`string`?{sql:t.args}:t.args||Object.create(null);r.rowMode===`stmt`?e(`Invalid rowMode for 'exec': stmt mode`,`does not work in the Worker API.`):r.sql||e(`'exec' requires input SQL.`);let i=s(t);(r.callback||Array.isArray(r.resultRows))&&(i._blobXfer=a.xfer);let o=r.callback,c=0,l=!!r.columnNames;typeof o==`string`&&(l||(r.columnNames=[]),r.callback=function(e,t){a.post({type:o,columnNames:r.columnNames,rowNumber:++c,row:e},a.xfer)});try{let e=r.countChanges?i.changes(!0,r.countChanges===64):void 0;i.exec(r),e!==void 0&&(r.changeCount=i.changes(!0,r.countChanges===64)-e);let t=r.lastInsertRowId?n.capi.sqlite3_last_insert_rowid(i):void 0;t!==void 0&&(r.lastInsertRowId=t),r.callback instanceof Function&&(r.callback=o,a.post({type:o,columnNames:r.columnNames,rowNumber:null,row:void 0}))}finally{delete i._blobXfer,r.callback&&=o}return r},"config-get":function(){let e=Object.create(null),t=n.config;return[`bigIntEnabled`].forEach(function(n){Object.getOwnPropertyDescriptor(t,n)&&(e[n]=t[n])}),e.version=n.version,e.vfsList=n.capi.sqlite3_js_vfs_list(),e},export:function(e){let t=s(e),r={byteArray:n.capi.sqlite3_js_db_export(t.pointer),filename:t.filename,mimetype:`application/x-sqlite3`};return a.xfer.push(r.byteArray.buffer),r},toss:function(t){e(`Testing worker exception`)}};globalThis.onmessage=async function(t){t=t.data;let n,r=t.dbId,i=t.type,o=performance.now();try{l.hasOwnProperty(i)&&l[i]instanceof Function?n=await l[i](t):e(`Unknown db worker message type:`,t.type)}catch(e){i=`error`,n={operation:t.type,message:e.message,errorClass:e.name,input:t},e.stack&&(n.stack=typeof e.stack==`string`?e.stack.split(/\n\s*/):e.stack)}r||=n.dbId||c(),a.post({type:i,dbId:r,messageId:t.messageId,workerReceivedTime:o,workerRespondTime:performance.now(),departureTime:t.departureTime,result:n},a.xfer)},globalThis.postMessage({type:`sqlite3-api`,result:`worker1-ready`})}.bind({sqlite3:e})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let t=e.wasm,n=e.capi,r=e.util.toss3,i=Object.create(null);e.vfs=i,n.sqlite3_vfs.prototype.registerVfs=function(t=!1){this instanceof e.capi.sqlite3_vfs||r(`Expecting a sqlite3_vfs-type argument.`);let i=n.sqlite3_vfs_register(this,t?1:0);return i&&r(`sqlite3_vfs_register(`,this,`) failed with rc`,i),this.pointer!==n.sqlite3_vfs_find(this.$zName)&&r(`BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS`,this),this},i.installVfs=function(e){let n=0,i=[`io`,`vfs`];for(let r of i){let i=e[r];i&&(++n,i.struct.installMethods(i.methods,!!i.applyArgcCheck),r===`vfs`&&(!i.struct.$zName&&typeof i.name==`string`&&i.struct.addOnDispose(i.struct.$zName=t.allocCString(i.name)),i.struct.registerVfs(!!i.asDefault)))}return n||r(`Misuse: installVfs() options object requires at least`,`one of:`,i),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){if(!e.wasm.exports.sqlite3_declare_vtab)return;let t=e.wasm,n=e.capi,r=e.util.toss3,i=Object.create(null);e.vtab=i;let a=n.sqlite3_index_info;a.prototype.nthConstraint=function(e,t=!1){if(e<0||e>=this.$nConstraint)return!1;let n=this.$aConstraint+a.sqlite3_index_constraint.structInfo.sizeof*e;return t?n:new a.sqlite3_index_constraint(n)},a.prototype.nthConstraintUsage=function(e,t=!1){if(e<0||e>=this.$nConstraint)return!1;let n=this.$aConstraintUsage+a.sqlite3_index_constraint_usage.structInfo.sizeof*e;return t?n:new a.sqlite3_index_constraint_usage(n)},a.prototype.nthOrderBy=function(e,t=!1){if(e<0||e>=this.$nOrderBy)return!1;let n=this.$aOrderBy+a.sqlite3_index_orderby.structInfo.sizeof*e;return t?n:new a.sqlite3_index_orderby(n)};let o=function(n,r){return function(i,a=!1){if(arguments.length===0&&(i=new r),i instanceof r)return this.set(i.pointer,i),i;t.isPtr(i)||e.SQLite3Error.toss(`Invalid argument to`,n+`()`);let o=this.get(i);return a&&this.delete(i),o}.bind(new Map)},s=function(e,n){let r=o(e,n);return Object.assign(Object.create(null),{StructType:n,create:e=>{let n=r();return t.pokePtr(e,n.pointer),n},get:e=>r(e),unget:e=>r(e,!0),dispose:e=>{let t=r(e,!0);t&&t.dispose()}})};i.xVtab=s(`xVtab`,n.sqlite3_vtab),i.xCursor=s(`xCursor`,n.sqlite3_vtab_cursor),i.xIndexInfo=e=>new n.sqlite3_index_info(e),i.xError=function t(r,i,a){if(t.errorReporter instanceof Function)try{t.errorReporter(`sqlite3_module::`+r+`(): `+i.message)}catch{}let o;return i instanceof e.WasmAllocError?o=n.SQLITE_NOMEM:arguments.length>2?o=a:i instanceof e.SQLite3Error&&(o=i.resultCode),o||n.SQLITE_ERROR},i.xError.errorReporter=console.error.bind(console),i.xRowid=(e,n)=>t.poke(e,n,`i64`),i.setupModule=function(a){let o=!1,s=this instanceof n.sqlite3_module?this:a.struct||(o=new n.sqlite3_module);try{let n=a.methods||r(`Missing 'methods' object.`);for(let e of Object.entries({xConnect:`xCreate`,xDisconnect:`xDestroy`})){let t=e[0],r=e[1];!0===n[t]?n[t]=n[r]:!0===n[r]&&(n[r]=n[t])}if(a.catchExceptions){let r=function(n,r){return[`xConnect`,`xCreate`].indexOf(n)>=0?function(a,o,s,c,l,u){try{return r(...arguments)||0}catch(r){return r instanceof e.WasmAllocError||(t.dealloc(t.peekPtr(u)),t.pokePtr(u,t.allocCString(r.message))),i.xError(n,r)}}:function(...e){try{return r(...e)||0}catch(e){return i.xError(n,e)}}},a=[`xCreate`,`xConnect`,`xBestIndex`,`xDisconnect`,`xDestroy`,`xOpen`,`xClose`,`xFilter`,`xNext`,`xEof`,`xColumn`,`xRowid`,`xUpdate`,`xBegin`,`xSync`,`xCommit`,`xRollback`,`xFindFunction`,`xRename`,`xSavepoint`,`xRelease`,`xRollbackTo`,`xShadowName`],o=Object.create(null);for(let e of a){let t=n[e];if(t instanceof Function)e===`xConnect`&&n.xCreate===t?o[e]=n.xCreate:e===`xCreate`&&n.xConnect===t?o[e]=n.xConnect:o[e]=r(e,t);else continue}s.installMethods(o,!1)}else s.installMethods(n,!!a.applyArgcCheck);if(s.$iVersion===0){let e;e=typeof a.iVersion==`number`?a.iVersion:s.$xShadowName?3:s.$xSavePoint||s.$xRelease||s.$xRollbackTo?2:1,s.$iVersion=e}}catch(e){throw o&&o.dispose(),e}return s},n.sqlite3_module.prototype.setupModule=function(e){return i.setupModule.call(this,e)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let t=function t(n){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(Error(`Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep`));if(typeof WorkerGlobalScope>`u`)return Promise.reject(Error(`The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait().`));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(Error(`Missing required OPFS APIs.`));(!n||typeof n!=`object`)&&(n=Object.create(null));let r=new URL(globalThis.location.href).searchParams;if(r.has(`opfs-disable`))return Promise.resolve(e);n.verbose===void 0&&(n.verbose=r.has(`opfs-verbose`)?+r.get(`opfs-verbose`)||2:1),n.sanityChecks===void 0&&(n.sanityChecks=r.has(`opfs-sanity-check`)),n.proxyUri===void 0&&(n.proxyUri=t.defaultProxyUri),typeof n.proxyUri==`function`&&(n.proxyUri=n.proxyUri());let i=new Promise(function(t,r){let i=[e.config.error,e.config.warn,e.config.log],a=(e,...t)=>{n.verbose>e&&i[e](`OPFS syncer:`,...t)},o=(...e)=>a(2,...e),s=(...e)=>a(1,...e),c=(...e)=>a(0,...e),l=e.util.toss,u=e.capi,d=e.util,f=e.wasm,p=u.sqlite3_vfs,m=u.sqlite3_file,h=u.sqlite3_io_methods,g=Object.create(null),_=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;g.metrics={dump:function(){let t,n=0,r=0,i=0;for(t in D.opIds){let e=O[t];n+=e.count,r+=e.time,i+=e.wait,e.avgTime=e.count&&e.time?e.time/e.count:0,e.avgWait=e.count&&e.wait?e.wait/e.count:0}e.config.log(globalThis.location.href,`metrics for`,globalThis.location.href,`:`,O,`
Total of`,n,`op(s) for`,r,`ms (incl. `+i+` ms of waiting on the async side)`),e.config.log(`Serialization metrics:`,O.s11n),w.postMessage({type:`opfs-async-metrics`})},reset:function(){let e,t=e=>e.count=e.time=e.wait=0;for(e in D.opIds)t(O[e]=Object.create(null));let n=O.s11n=Object.create(null);n=n.serialize=Object.create(null),n.count=n.time=0,n=O.s11n.deserialize=Object.create(null),n.count=n.time=0}};let y=new h,b=new p().addOnDispose(()=>y.dispose()),x,S=e=>(x=!0,b.dispose(),r(e)),C=()=>(x=!1,t(e)),w=new Worker(new URL(``+new URL(`sqlite3-opfs-async-proxy-BAQ85zzL.js`,self.location.href).href,``+self.location.href));setTimeout(()=>{x===void 0&&S(Error(`Timeout while waiting for OPFS async proxy worker.`))},4e3),w._originalOnError=w.onerror,w.onerror=function(e){c(`Error initializing OPFS asyncer:`,e),S(Error(`Loading OPFS async Worker failed for unknown reasons.`))};let T=u.sqlite3_vfs_find(null),E=T?new p(T):null;y.$iVersion=1,b.$iVersion=2,b.$szOsFile=u.sqlite3_file.structInfo.sizeof,b.$mxPathname=1024,b.$zName=f.allocCString(`opfs`),b.$xDlOpen=b.$xDlError=b.$xDlSym=b.$xDlClose=null,b.addOnDispose(`$zName`,b.$zName,`cleanup default VFS wrapper`,()=>E?E.dispose():null);let D=Object.create(null);D.verbose=n.verbose,D.littleEndian=(()=>{let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),new Int16Array(e)[0]===256})(),D.asyncIdleWaitTime=150,D.asyncS11nExceptions=1,D.fileBufferSize=1024*64,D.sabS11nOffset=D.fileBufferSize,D.sabS11nSize=b.$mxPathname*2,D.sabIO=new SharedArrayBuffer(D.fileBufferSize+D.sabS11nSize),D.opIds=Object.create(null);let O=Object.create(null);{let e=0;D.opIds.whichOp=e++,D.opIds.rc=e++,D.opIds.xAccess=e++,D.opIds.xClose=e++,D.opIds.xDelete=e++,D.opIds.xDeleteNoWait=e++,D.opIds.xFileSize=e++,D.opIds.xLock=e++,D.opIds.xOpen=e++,D.opIds.xRead=e++,D.opIds.xSleep=e++,D.opIds.xSync=e++,D.opIds.xTruncate=e++,D.opIds.xUnlock=e++,D.opIds.xWrite=e++,D.opIds.mkdir=e++,D.opIds[`opfs-async-metrics`]=e++,D.opIds[`opfs-async-shutdown`]=e++,D.opIds.retry=e++,D.sabOP=new SharedArrayBuffer(e*4),g.metrics.reset()}D.sq3Codes=Object.create(null),`SQLITE_ACCESS_EXISTS.SQLITE_ACCESS_READWRITE.SQLITE_BUSY.SQLITE_CANTOPEN.SQLITE_ERROR.SQLITE_IOERR.SQLITE_IOERR_ACCESS.SQLITE_IOERR_CLOSE.SQLITE_IOERR_DELETE.SQLITE_IOERR_FSYNC.SQLITE_IOERR_LOCK.SQLITE_IOERR_READ.SQLITE_IOERR_SHORT_READ.SQLITE_IOERR_TRUNCATE.SQLITE_IOERR_UNLOCK.SQLITE_IOERR_WRITE.SQLITE_LOCK_EXCLUSIVE.SQLITE_LOCK_NONE.SQLITE_LOCK_PENDING.SQLITE_LOCK_RESERVED.SQLITE_LOCK_SHARED.SQLITE_LOCKED.SQLITE_MISUSE.SQLITE_NOTFOUND.SQLITE_OPEN_CREATE.SQLITE_OPEN_DELETEONCLOSE.SQLITE_OPEN_MAIN_DB.SQLITE_OPEN_READONLY`.split(`.`).forEach(e=>{(D.sq3Codes[e]=u[e])===void 0&&l(`Maintenance required: not found:`,e)}),D.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});let k=(e,...t)=>{let n=D.opIds[e]||l(`Invalid op ID:`,e);D.s11n.serialize(...t),Atomics.store(D.sabOPView,D.opIds.rc,-1),Atomics.store(D.sabOPView,D.opIds.whichOp,n),Atomics.notify(D.sabOPView,D.opIds.whichOp);let r=performance.now();for(;Atomics.wait(D.sabOPView,D.opIds.rc,-1)!==`not-equal`;);let i=Atomics.load(D.sabOPView,D.opIds.rc);if(O[e].wait+=performance.now()-r,i&&D.asyncS11nExceptions){let t=D.s11n.deserialize();t&&c(e+`() async error:`,...t)}return i};g.debug={asyncShutdown:()=>{s(`Shutting down OPFS async listener. The OPFS VFS will no longer work.`),k(`opfs-async-shutdown`)},asyncRestart:()=>{s(`Attempting to restart OPFS VFS async listener. Might work, might not.`),w.postMessage({type:`opfs-async-restart`})}};let A=()=>{if(D.s11n)return D.s11n;let e=new TextDecoder,t=new TextEncoder(`utf-8`),n=new Uint8Array(D.sabIO,D.sabS11nOffset,D.sabS11nSize),r=new DataView(D.sabIO,D.sabS11nOffset,D.sabS11nSize);D.s11n=Object.create(null);let i=Object.create(null);i.number={id:1,size:8,getter:`getFloat64`,setter:`setFloat64`},i.bigint={id:2,size:8,getter:`getBigInt64`,setter:`setBigInt64`},i.boolean={id:3,size:4,getter:`getInt32`,setter:`setInt32`},i.string={id:4};let a=e=>i[typeof e]||l(`Maintenance required: this value type cannot be serialized.`,e),o=e=>{switch(e){case i.number.id:return i.number;case i.bigint.id:return i.bigint;case i.boolean.id:return i.boolean;case i.string.id:return i.string;default:l(`Invalid type ID:`,e)}};return D.s11n.deserialize=function(t=!1){++O.s11n.deserialize.count;let i=performance.now(),a=n[0],s=a?[]:null;if(a){let t=[],i=1,c,l,u;for(c=0;c<a;++c,++i)t.push(o(n[i]));for(c=0;c<a;++c){let a=t[c];a.getter?(u=r[a.getter](i,D.littleEndian),i+=a.size):(l=r.getInt32(i,D.littleEndian),i+=4,u=e.decode(n.slice(i,i+l)),i+=l),s.push(u)}}return t&&(n[0]=0),O.s11n.deserialize.time+=performance.now()-i,s},D.s11n.serialize=function(...e){let i=performance.now();if(++O.s11n.serialize.count,e.length){let i=[],o=0,s=1;for(n[0]=e.length&255;o<e.length;++o,++s)i.push(a(e[o])),n[s]=i[o].id;for(o=0;o<e.length;++o){let a=i[o];if(a.setter)r[a.setter](s,e[o],D.littleEndian),s+=a.size;else{let i=t.encode(e[o]);r.setInt32(s,i.byteLength,D.littleEndian),s+=4,n.set(i,s),s+=i.byteLength}}}else n[0]=0;O.s11n.serialize.time+=performance.now()-i},D.s11n},j=function e(t=16){e._chars||(e._chars=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789`,e._n=e._chars.length);let n=[],r=0;for(;r<t;++r){let t=Math.random()*(e._n*64)%e._n|0;n[r]=e._chars[t]}return n.join(``)},M=Object.create(null),N=Object.create(null);N.op=void 0,N.start=void 0;let P=e=>{N.start=performance.now(),N.op=e,++O[e].count},F=()=>O[N.op].time+=performance.now()-N.start,I={xCheckReservedLock:function(e,t){return f.poke(t,0,`i32`),0},xClose:function(e){P(`xClose`);let t=0,n=M[e];return n&&(delete M[e],t=k(`xClose`,e),n.sq3File&&n.sq3File.dispose()),F(),t},xDeviceCharacteristics:function(e){return u.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,n){return u.SQLITE_NOTFOUND},xFileSize:function(e,t){P(`xFileSize`);let n=k(`xFileSize`,e);if(n==0)try{let e=D.s11n.deserialize()[0];f.poke(t,e,`i64`)}catch(e){c(`Unexpected error reading xFileSize() result:`,e),n=D.sq3Codes.SQLITE_IOERR}return F(),n},xLock:function(e,t){P(`xLock`);let n=M[e],r=0;return n.lockType?n.lockType=t:(r=k(`xLock`,e,t),r===0&&(n.lockType=t)),F(),r},xRead:function(e,t,n,r){P(`xRead`);let i=M[e],a;try{a=k(`xRead`,e,n,Number(r)),(a===0||u.SQLITE_IOERR_SHORT_READ===a)&&f.heap8u().set(i.sabView.subarray(0,n),t)}catch(e){c(`xRead(`,arguments,`) failed:`,e,i),a=u.SQLITE_IOERR_READ}return F(),a},xSync:function(e,t){P(`xSync`),++O.xSync.count;let n=k(`xSync`,e,t);return F(),n},xTruncate:function(e,t){P(`xTruncate`);let n=k(`xTruncate`,e,Number(t));return F(),n},xUnlock:function(e,t){P(`xUnlock`);let n=M[e],r=0;return u.SQLITE_LOCK_NONE===t&&n.lockType&&(r=k(`xUnlock`,e,t)),r===0&&(n.lockType=t),F(),r},xWrite:function(e,t,n,r){P(`xWrite`);let i=M[e],a;try{i.sabView.set(f.heap8u().subarray(t,t+n)),a=k(`xWrite`,e,n,Number(r))}catch(e){c(`xWrite(`,arguments,`) failed:`,e,i),a=u.SQLITE_IOERR_WRITE}return F(),a}},L={xAccess:function(e,t,n,r){P(`xAccess`);let i=k(`xAccess`,f.cstrToJs(t));return f.poke(r,i?0:1,`i32`),F(),0},xCurrentTime:function(e,t){return f.poke(t,2440587.5+new Date().getTime()/864e5,`double`),0},xCurrentTimeInt64:function(e,t){return f.poke(t,2440587.5*864e5+new Date().getTime(),`i64`),0},xDelete:function(e,t,n){P(`xDelete`);let r=k(`xDelete`,f.cstrToJs(t),n,!1);return F(),r},xFullPathname:function(e,t,n,r){let i=f.cstrncpy(r,t,n);return i<n?0:u.SQLITE_CANTOPEN},xGetLastError:function(e,t,n){return s(`OPFS xGetLastError() has nothing sensible to return.`),0},xOpen:function(t,n,r,i,a){P(`xOpen`);let o=0;n===0?n=j():f.isPtr(n)&&(u.sqlite3_uri_boolean(n,`opfs-unlock-asap`,0)&&(o|=D.opfsFlags.OPFS_UNLOCK_ASAP),u.sqlite3_uri_boolean(n,`delete-before-open`,0)&&(o|=D.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),n=f.cstrToJs(n));let s=Object.create(null);s.fid=r,s.filename=n,s.sab=new SharedArrayBuffer(D.fileBufferSize),s.flags=i,s.readOnly=!(e.SQLITE_OPEN_CREATE&i)&&!!(i&u.SQLITE_OPEN_READONLY);let c=k(`xOpen`,r,n,i,o);return c||(s.readOnly&&f.poke(a,u.SQLITE_OPEN_READONLY,`i32`),M[r]=s,s.sabView=D.sabFileBufView,s.sq3File=new m(r),s.sq3File.$pMethods=y.pointer,s.lockType=u.SQLITE_LOCK_NONE),F(),c}};E&&(b.$xRandomness=E.$xRandomness,b.$xSleep=E.$xSleep),b.$xRandomness||(L.xRandomness=function(e,t,n){let r=f.heap8u(),i=0;for(;i<t;++i)r[n+i]=Math.random()*255e3&255;return i}),b.$xSleep||(L.xSleep=function(e,t){return Atomics.wait(D.sabOPView,D.opIds.xSleep,0,t),0}),g.getResolvedPath=function(e,t){let n=new URL(e,`file://irrelevant`).pathname;return t?n.split(`/`).filter(e=>!!e):n},g.getDirForFilename=async function(e,t=!1){let n=g.getResolvedPath(e,!0),r=n.pop(),i=g.rootDirectory;for(let e of n)e&&(i=await i.getDirectoryHandle(e,{create:!!t}));return[i,r]},g.mkdir=async function(e){try{return await g.getDirForFilename(e+`/filepart`,!0),!0}catch{return!1}},g.entryExists=async function(e){try{let[t,n]=await g.getDirForFilename(e);return await t.getFileHandle(n),!0}catch{return!1}},g.randomFilename=j,g.treeList=async function(){let e=async function e(t,n){n.name=t.name,n.dirs=[],n.files=[];for await(let r of t.values())if(r.kind===`directory`){let t=Object.create(null);n.dirs.push(t),await e(r,t)}else n.files.push(r.name)},t=Object.create(null);return await e(g.rootDirectory,t),t},g.rmfr=async function(){let e=g.rootDirectory,t={recurse:!0};for await(let n of e.values())e.removeEntry(n.name,t)},g.unlink=async function(e,t=!1,n=!1){try{let[n,r]=await g.getDirForFilename(e,!1);return await n.removeEntry(r,{recursive:t}),!0}catch(e){if(n)throw Error(`unlink(`,arguments[0],`) failed: `+e.message,{cause:e});return!1}},g.traverse=async function(e){let t={recursive:!0,directory:g.rootDirectory};typeof e==`function`&&(e={callback:e}),e=Object.assign(t,e||{});let n=async function t(n,r){for await(let i of n.values())if(!1===e.callback(i,n,r))return!1;else if(e.recursive&&i.kind===`directory`&&!1===await t(i,r+1))break};n(e.directory,0)};let ee=async function(e,t){let[n,r]=await g.getDirForFilename(e,!0),i=await n.getFileHandle(r,{create:!0}),a=await i.createSyncAccessHandle(),o=0,s,c=!1;try{for(a.truncate(0);(s=await t())!==void 0;)s instanceof ArrayBuffer&&(s=new Uint8Array(s)),o===0&&s.byteLength>=15&&(d.affirmDbHeader(s),c=!0),a.write(s,{at:o}),o+=s.byteLength;if((o<512||o%512!=0)&&l(`Input size`,o,`is not correct for an SQLite database.`),!c){let e=new Uint8Array(20);a.read(e,{at:0}),d.affirmDbHeader(e)}return a.write(new Uint8Array([1,1]),{at:18}),o}catch(e){throw await a.close(),a=void 0,await n.removeEntry(r).catch(()=>{}),e}finally{a&&await a.close()}};if(g.importDb=async function(e,t){if(t instanceof Function)return ee(e,t);t instanceof ArrayBuffer&&(t=new Uint8Array(t)),d.affirmIsDb(t);let n=t.byteLength,[r,i]=await g.getDirForFilename(e,!0),a,o=0;try{let e=await r.getFileHandle(i,{create:!0});return a=await e.createSyncAccessHandle(),a.truncate(0),o=a.write(t,{at:0}),o!=n&&l(`Expected to write `+n+` bytes but wrote `+o+`.`),a.write(new Uint8Array([1,1]),{at:18}),o}catch(e){throw a&&=(await a.close(),void 0),await r.removeEntry(i).catch(()=>{}),e}finally{a&&await a.close()}},e.oo1){let t=function(...t){let n=e.oo1.DB.dbCtorHelper.normalizeArgs(...t);n.vfs=b.$zName,e.oo1.DB.dbCtorHelper.call(this,n)};t.prototype=Object.create(e.oo1.DB.prototype),e.oo1.OpfsDb=t,t.importDb=g.importDb,e.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(b.pointer,function(e,t){t.capi.sqlite3_busy_timeout(e,1e4)})}let te=function(){let e=f.scopedAllocPush(),t=new m;try{let e=t.pointer,n=u.SQLITE_OPEN_CREATE|u.SQLITE_OPEN_READWRITE|u.SQLITE_OPEN_MAIN_DB,r=f.scopedAlloc(8),i=`/sanity/check/file`+j(8),a=f.scopedAllocCString(i),d;if(D.s11n.serialize(`This is ä string.`),d=D.s11n.deserialize(),o(`deserialize() says:`,d),d[0]!==`This is ä string.`&&l(`String d13n error.`),L.xAccess(b.pointer,a,0,r),d=f.peek(r,`i32`),o(`xAccess(`,i,`) exists ?=`,d),d=L.xOpen(b.pointer,a,e,n,r),o(`open rc =`,d,`state.sabOPView[xOpen] =`,D.sabOPView[D.opIds.xOpen]),d!==0){c(`open failed with code`,d);return}L.xAccess(b.pointer,a,0,r),d=f.peek(r,`i32`),d||l(`xAccess() failed to detect file.`),d=I.xSync(t.pointer,0),d&&l(`sync failed w/ rc`,d),d=I.xTruncate(t.pointer,1024),d&&l(`truncate failed w/ rc`,d),f.poke(r,0,`i64`),d=I.xFileSize(t.pointer,r),d&&l(`xFileSize failed w/ rc`,d),o(`xFileSize says:`,f.peek(r,`i64`)),d=I.xWrite(t.pointer,a,10,1),d&&l(`xWrite() failed!`);let p=f.scopedAlloc(16);d=I.xRead(t.pointer,p,6,2),f.poke(p+6,0);let m=f.cstrToJs(p);o(`xRead() got:`,m),m!==`sanity`&&l(`Unexpected xRead() value.`),L.xSleep&&(o(`xSleep()ing before close()ing...`),L.xSleep(b.pointer,2e3),o(`waking up from xSleep()`)),d=I.xClose(e),o(`xClose rc =`,d,`sabOPView =`,D.sabOPView),o(`Deleting file:`,i),L.xDelete(b.pointer,a,4660),L.xAccess(b.pointer,a,0,r),d=f.peek(r,`i32`),d&&l(`Expecting 0 from xAccess(`,i,`) after xDelete().`),s(`End of OPFS sanity checks.`)}finally{t.dispose(),f.scopedAllocPop(e)}};w.onmessage=function({data:t}){switch(t.type){case`opfs-unavailable`:S(Error(t.payload.join(` `)));break;case`opfs-async-loaded`:w.postMessage({type:`opfs-async-init`,args:D});break;case`opfs-async-inited`:if(!0===x)break;try{e.vfs.installVfs({io:{struct:y,methods:I},vfs:{struct:b,methods:L}}),D.sabOPView=new Int32Array(D.sabOP),D.sabFileBufView=new Uint8Array(D.sabIO,0,D.fileBufferSize),D.sabS11nView=new Uint8Array(D.sabIO,D.sabS11nOffset,D.sabS11nSize),A(),n.sanityChecks&&(s(`Running sanity checks because of opfs-sanity-check URL arg...`),te()),_()?navigator.storage.getDirectory().then(t=>{w.onerror=w._originalOnError,delete w._originalOnError,e.opfs=g,g.rootDirectory=t,o(`End of OPFS sqlite3_vfs setup.`,b),C()}).catch(S):C()}catch(e){c(e),S(e)}break;default:{let e=`Unexpected message from the OPFS async worker: `+JSON.stringify(t);c(e),S(Error(e));break}}}});return i};t.defaultProxyUri=`sqlite3-opfs-async-proxy.js`,globalThis.sqlite3ApiBootstrap.initializersAsync.push(async e=>{try{let n=t.defaultProxyUri;return e.scriptInfo.sqlite3Dir&&(t.defaultProxyUri=e.scriptInfo.sqlite3Dir+n),t().catch(t=>{e.config.warn(`Ignoring inability to install OPFS sqlite3_vfs:`,t.message)})}catch(t){return e.config.error(`installOpfsVfs() exception:`,t),Promise.reject(t)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(e){let t=e.util.toss,n=e.util.toss3,r=Object.create(null),i=e.capi,a=e.util,o=e.wasm,s=4096,c=s,l=i.SQLITE_OPEN_MAIN_DB|i.SQLITE_OPEN_MAIN_JOURNAL|i.SQLITE_OPEN_SUPER_JOURNAL|i.SQLITE_OPEN_WAL,u=i.SQLITE_OPEN_MEMORY,d=`.opaque`,f=()=>Math.random().toString(36).slice(2),p=new TextDecoder,m=new TextEncoder,h=Object.assign(Object.create(null),{name:`opfs-sahpool`,directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),g=[e.config.error,e.config.warn,e.config.log];e.config.log;let _=e.config.warn;e.config.error;let y=new Map,b=e=>y.get(e),x=(e,t)=>{t?y.set(e,t):y.delete(e)},S=new Map,C=e=>S.get(e),w=(e,t)=>{t?S.set(e,t):S.delete(e)},T={xCheckReservedLock:function(e,t){let n=C(e);return n.log(`xCheckReservedLock`),n.storeErr(),o.poke32(t,1),0},xClose:function(e){let t=C(e);t.storeErr();let n=t.getOFileForS3File(e);if(n)try{t.log(`xClose ${n.path}`),t.mapS3FileToOFile(e,!1),n.sah.flush(),n.flags&i.SQLITE_OPEN_DELETEONCLOSE&&t.deletePath(n.path)}catch(e){return t.storeErr(e,i.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(e){return i.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(e,t,n){return i.SQLITE_NOTFOUND},xFileSize:function(e,t){let n=C(e);n.log(`xFileSize`);let r=n.getOFileForS3File(e),i=r.sah.getSize()-c;return o.poke64(t,BigInt(i)),0},xLock:function(e,t){let n=C(e);n.log(`xLock ${t}`),n.storeErr();let r=n.getOFileForS3File(e);return r.lockType=t,0},xRead:function(e,t,n,r){let a=C(e);a.storeErr();let s=a.getOFileForS3File(e);a.log(`xRead ${s.path} ${n} @ ${r}`);try{let e=s.sah.read(o.heap8u().subarray(t,t+n),{at:c+Number(r)});return e<n?(o.heap8u().fill(0,t+e,t+n),i.SQLITE_IOERR_SHORT_READ):0}catch(e){return a.storeErr(e,i.SQLITE_IOERR)}},xSectorSize:function(e){return s},xSync:function(e,t){let n=C(e);n.log(`xSync ${t}`),n.storeErr();let r=n.getOFileForS3File(e);try{return r.sah.flush(),0}catch(e){return n.storeErr(e,i.SQLITE_IOERR)}},xTruncate:function(e,t){let n=C(e);n.log(`xTruncate ${t}`),n.storeErr();let r=n.getOFileForS3File(e);try{return r.sah.truncate(c+Number(t)),0}catch(e){return n.storeErr(e,i.SQLITE_IOERR)}},xUnlock:function(e,t){let n=C(e);n.log(`xUnlock`);let r=n.getOFileForS3File(e);return r.lockType=t,0},xWrite:function(e,n,r,a){let s=C(e);s.storeErr();let l=s.getOFileForS3File(e);s.log(`xWrite ${l.path} ${r} ${a}`);try{let e=l.sah.write(o.heap8u().subarray(n,n+r),{at:c+Number(a)});return r===e?0:t(`Unknown write() failure.`)}catch(e){return s.storeErr(e,i.SQLITE_IOERR)}}},E=new i.sqlite3_io_methods;E.$iVersion=1,e.vfs.installVfs({io:{struct:E,methods:T}});let D={xAccess:function(e,t,n,r){let i=b(e);i.storeErr();try{let e=i.getPath(t);o.poke32(r,i.hasFilename(e)?1:0)}catch{o.poke32(r,0)}return 0},xCurrentTime:function(e,t){return o.poke(t,2440587.5+new Date().getTime()/864e5,`double`),0},xCurrentTimeInt64:function(e,t){return o.poke(t,2440587.5*864e5+new Date().getTime(),`i64`),0},xDelete:function(e,t,n){let r=b(e);r.log(`xDelete ${o.cstrToJs(t)}`),r.storeErr();try{return r.deletePath(r.getPath(t)),0}catch(e){return r.storeErr(e),i.SQLITE_IOERR_DELETE}},xFullPathname:function(e,t,n,r){let a=o.cstrncpy(r,t,n);return a<n?0:i.SQLITE_CANTOPEN},xGetLastError:function(e,t,n){let r=b(e),a=r.popErr();if(r.log(`xGetLastError ${t} e =`,a),a){let e=o.scopedAllocPush();try{let[e,r]=o.scopedAllocCString(a.message,!0);o.cstrncpy(n,e,t),r>t&&o.poke8(n+t-1,0)}catch{return i.SQLITE_NOMEM}finally{o.scopedAllocPop(e)}}return a?a.sqlite3Rc||i.SQLITE_IOERR:0},xOpen:function(e,n,r,a,s){let c=b(e);try{a&=~u,c.log(`xOpen ${o.cstrToJs(n)} ${a}`);let e=n&&o.peek8(n)?c.getPath(n):f(),l=c.getSAHForPath(e);!l&&a&i.SQLITE_OPEN_CREATE&&(c.getFileCount()<c.getCapacity()?(l=c.nextAvailableSAH(),c.setAssociatedPath(l,e,a)):t(`SAH pool is full. Cannot create file`,e)),l||t(`file not found:`,e);let d={path:e,flags:a,sah:l};c.mapS3FileToOFile(r,d),d.lockType=i.SQLITE_LOCK_NONE;let p=new i.sqlite3_file(r);return p.$pMethods=E.pointer,p.dispose(),o.poke32(s,a),0}catch(e){return c.storeErr(e),i.SQLITE_CANTOPEN}}},O=function(t){e.capi.sqlite3_vfs_find(t)&&n(`VFS name is already registered:`,t);let r=new i.sqlite3_vfs,a=i.sqlite3_vfs_find(null),s=a?new i.sqlite3_vfs(a):null;return r.$iVersion=2,r.$szOsFile=i.sqlite3_file.structInfo.sizeof,r.$mxPathname=512,r.addOnDispose(r.$zName=o.allocCString(t),()=>x(r.pointer,0)),s&&(r.$xRandomness=s.$xRandomness,r.$xSleep=s.$xSleep,s.dispose()),!r.$xRandomness&&!D.xRandomness&&(D.xRandomness=function(e,t,n){let r=o.heap8u(),i=0;for(;i<t;++i)r[n+i]=Math.random()*255e3&255;return i}),!r.$xSleep&&!D.xSleep&&(D.xSleep=(e,t)=>0),e.vfs.installVfs({vfs:{struct:r,methods:D}}),r};class k{vfsDir;#dhVfsRoot;#dhOpaque;#dhVfsParent;#mapSAHToName=new Map;#mapFilenameToSAH=new Map;#availableSAH=new Set;#mapS3FileToOFile_=new Map;#apBody=new Uint8Array(516);#dvBody;#cVfs;#verbosity;constructor(e=Object.create(null)){this.#verbosity=e.verbosity??h.verbosity,this.vfsName=e.name||h.name,this.#cVfs=O(this.vfsName),x(this.#cVfs.pointer,this),this.vfsDir=e.directory||`.`+this.vfsName,this.#dvBody=new DataView(this.#apBody.buffer,this.#apBody.byteOffset),this.isReady=this.reset(!!(e.clearOnInit??h.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(e.initialCapacity||h.initialCapacity)})}#logImpl(e,...t){this.#verbosity>e&&g[e](this.vfsName+`:`,...t)}log(...e){this.#logImpl(2,...e)}warn(...e){this.#logImpl(1,...e)}error(...e){this.#logImpl(0,...e)}getVfs(){return this.#cVfs}getCapacity(){return this.#mapSAHToName.size}getFileCount(){return this.#mapFilenameToSAH.size}getFileNames(){let e=[];for(let t of this.#mapFilenameToSAH.keys())e.push(t);return e}async addCapacity(e){for(let t=0;t<e;++t){let e=f(),t=await this.#dhOpaque.getFileHandle(e,{create:!0}),n=await t.createSyncAccessHandle();this.#mapSAHToName.set(n,e),this.setAssociatedPath(n,``,0)}return this.getCapacity()}async reduceCapacity(e){let t=0;for(let n of Array.from(this.#availableSAH)){if(t===e||this.getFileCount()===this.getCapacity())break;let r=this.#mapSAHToName.get(n);n.close(),await this.#dhOpaque.removeEntry(r),this.#mapSAHToName.delete(n),this.#availableSAH.delete(n),++t}return t}releaseAccessHandles(){for(let e of this.#mapSAHToName.keys())e.close();this.#mapSAHToName.clear(),this.#mapFilenameToSAH.clear(),this.#availableSAH.clear()}async acquireAccessHandles(e=!1){let t=[];for await(let[e,n]of this.#dhOpaque)n.kind===`file`&&t.push([e,n]);return Promise.all(t.map(async([t,n])=>{try{let r=await n.createSyncAccessHandle();if(this.#mapSAHToName.set(r,t),e)r.truncate(c),this.setAssociatedPath(r,``,0);else{let e=this.getAssociatedPath(r);e?this.#mapFilenameToSAH.set(e,r):this.#availableSAH.add(r)}}catch(e){throw this.storeErr(e),this.releaseAccessHandles(),e}}))}getAssociatedPath(e){e.read(this.#apBody,{at:0});let t=this.#dvBody.getUint32(512);if(this.#apBody[0]&&(t&i.SQLITE_OPEN_DELETEONCLOSE||(t&l)===0))return _(`Removing file with unexpected flags ${t.toString(16)}`,this.#apBody),this.setAssociatedPath(e,``,0),``;let n=new Uint32Array(8/4);e.read(n,{at:516});let r=this.computeDigest(this.#apBody,t);if(n.every((e,t)=>e===r[t])){let t=this.#apBody.findIndex(e=>e===0);return t===0&&e.truncate(c),t?p.decode(this.#apBody.subarray(0,t)):``}else return _(`Disassociating file with bad digest.`),this.setAssociatedPath(e,``,0),``}setAssociatedPath(e,n,r){let i=m.encodeInto(n,this.#apBody);512<=i.written+1&&t(`Path too long:`,n),n&&r&&(r|=u),this.#apBody.fill(0,i.written,512),this.#dvBody.setUint32(512,r);let a=this.computeDigest(this.#apBody,r);e.write(this.#apBody,{at:0}),e.write(a,{at:516}),e.flush(),n?(this.#mapFilenameToSAH.set(n,e),this.#availableSAH.delete(e)):(e.truncate(c),this.#availableSAH.add(e))}computeDigest(e,t){if(t&u){let t=3735928559,n=1103547991;for(let r of e)t=Math.imul(t^r,2654435761),n=Math.imul(n^r,104729);return new Uint32Array([t>>>0,n>>>0])}else return new Uint32Array([0,0])}async reset(e){await this.isReady;let t=await navigator.storage.getDirectory(),n;for(let e of this.vfsDir.split(`/`))e&&(n=t,t=await t.getDirectoryHandle(e,{create:!0}));return this.#dhVfsRoot=t,this.#dhVfsParent=n,this.#dhOpaque=await this.#dhVfsRoot.getDirectoryHandle(d,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(e)}getPath(e){return o.isPtr(e)&&(e=o.cstrToJs(e)),(e instanceof URL?e:new URL(e,`file://localhost/`)).pathname}deletePath(e){let t=this.#mapFilenameToSAH.get(e);return t&&(this.#mapFilenameToSAH.delete(e),this.setAssociatedPath(t,``,0)),!!t}storeErr(e,t){return e&&(e.sqlite3Rc=t||i.SQLITE_IOERR,this.error(e)),this.$error=e,t}popErr(){let e=this.$error;return this.$error=void 0,e}nextAvailableSAH(){let[e]=this.#availableSAH.keys();return e}getOFileForS3File(e){return this.#mapS3FileToOFile_.get(e)}mapS3FileToOFile(e,t){t?(this.#mapS3FileToOFile_.set(e,t),w(e,this)):(this.#mapS3FileToOFile_.delete(e),w(e,!1))}hasFilename(e){return this.#mapFilenameToSAH.has(e)}getSAHForPath(e){return this.#mapFilenameToSAH.get(e)}async removeVfs(){if(!this.#cVfs.pointer||!this.#dhOpaque)return!1;i.sqlite3_vfs_unregister(this.#cVfs.pointer),this.#cVfs.dispose(),delete r[this.vfsName];try{this.releaseAccessHandles(),await this.#dhVfsRoot.removeEntry(d,{recursive:!0}),this.#dhOpaque=void 0,await this.#dhVfsParent.removeEntry(this.#dhVfsRoot.name,{recursive:!0}),this.#dhVfsRoot=this.#dhVfsParent=void 0}catch(t){e.config.error(this.vfsName,`removeVfs() failed with no recovery strategy:`,t)}return!0}pauseVfs(){return this.#mapS3FileToOFile_.size>0&&e.SQLite3Error.toss(i.SQLITE_MISUSE,`Cannot pause VFS`,this.vfsName,`because it has opened files.`),this.#mapSAHToName.size>0&&(i.sqlite3_vfs_unregister(this.vfsName),this.releaseAccessHandles()),this}isPaused(){return this.#mapSAHToName.size===0}async unpauseVfs(){return this.#mapSAHToName.size===0?this.acquireAccessHandles(!1).then(()=>i.sqlite3_vfs_register(this.#cVfs,0),this):this}exportFile(e){let n=this.#mapFilenameToSAH.get(e)||t(`File not found:`,e),r=n.getSize()-c,i=new Uint8Array(r>0?r:0);if(r>0){let e=n.read(i,{at:c});e!=r&&t(`Expected to read `+r+` bytes but read `+e+`.`)}return i}async importDbChunked(e,n){let r=this.#mapFilenameToSAH.get(e)||this.nextAvailableSAH()||t(`No available handles to import to.`);r.truncate(0);let o=0,s,l=!1;try{for(;(s=await n())!==void 0;)s instanceof ArrayBuffer&&(s=new Uint8Array(s)),o===0&&s.byteLength>=15&&(a.affirmDbHeader(s),l=!0),r.write(s,{at:c+o}),o+=s.byteLength;if((o<512||o%512!=0)&&t(`Input size`,o,`is not correct for an SQLite database.`),!l){let e=new Uint8Array(20);r.read(e,{at:0}),a.affirmDbHeader(e)}r.write(new Uint8Array([1,1]),{at:c+18})}catch(e){throw this.setAssociatedPath(r,``,0),e}return this.setAssociatedPath(r,e,i.SQLITE_OPEN_MAIN_DB),o}importDb(e,n){if(n instanceof ArrayBuffer)n=new Uint8Array(n);else if(n instanceof Function)return this.importDbChunked(e,n);let r=this.#mapFilenameToSAH.get(e)||this.nextAvailableSAH()||t(`No available handles to import to.`),a=n.byteLength;(a<512||a%512!=0)&&t(`Byte array size is invalid for an SQLite db.`);for(let e=0;e<15;++e)`SQLite format 3`.charCodeAt(e)!==n[e]&&t(`Input does not contain an SQLite database header.`);let o=r.write(n,{at:c});return o==a?(r.write(new Uint8Array([1,1]),{at:c+18}),this.setAssociatedPath(r,e,i.SQLITE_OPEN_MAIN_DB)):(this.setAssociatedPath(r,``,0),t(`Expected to write `+a+` bytes but wrote `+o+`.`)),o}}class A{#p;constructor(e){this.#p=e,this.vfsName=e.vfsName}async addCapacity(e){return this.#p.addCapacity(e)}async reduceCapacity(e){return this.#p.reduceCapacity(e)}getCapacity(){return this.#p.getCapacity(this.#p)}getFileCount(){return this.#p.getFileCount()}getFileNames(){return this.#p.getFileNames()}async reserveMinimumCapacity(e){let t=this.#p.getCapacity();return t<e?this.#p.addCapacity(e-t):t}exportFile(e){return this.#p.exportFile(e)}importDb(e,t){return this.#p.importDb(e,t)}async wipeFiles(){return this.#p.reset(!0)}unlink(e){return this.#p.deletePath(e)}async removeVfs(){return this.#p.removeVfs()}pauseVfs(){return this.#p.pauseVfs(),this}async unpauseVfs(){return this.#p.unpauseVfs().then(()=>this)}isPaused(){return this.#p.isPaused()}}let j=async()=>{let e=await navigator.storage.getDirectory(),n=`.opfs-sahpool-sync-check-`+f(),r=await e.getFileHandle(n,{create:!0}),i=await r.createSyncAccessHandle(),a=i.close();return await a,await e.removeEntry(n),a?.then&&t(`The local OPFS API is too old for opfs-sahpool:`,`it has an async FileSystemSyncAccessHandle.close() method.`),!0};e.installOpfsSAHPoolVfs=async function(t=Object.create(null)){t=Object.assign(Object.create(null),h,t||{});let n=t.name;if(t.$testThrowPhase1)throw t.$testThrowPhase1;if(r[n])try{let e=await r[n];return e}catch(e){if(t.forceReinitIfPreviouslyFailed)delete r[n];else throw e}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?r[n]=Promise.reject(Error(`Missing required OPFS APIs.`)):r[n]=j().then(async function(){if(t.$testThrowPhase2)throw t.$testThrowPhase2;let n=new k(t);return n.isReady.then(async()=>{let t=new A(n);if(e.oo1){let r=e.oo1,i=n.getVfs(),a=function(...e){let t=r.DB.dbCtorHelper.normalizeArgs(...e);t.vfs=i.$zName,r.DB.dbCtorHelper.call(this,t)};a.prototype=Object.create(r.DB.prototype),t.OpfsSAHPoolDb=a}return n.log(`VFS initialized.`),t}).catch(async e=>{throw await n.removeVfs().catch(()=>{}),e})}).catch(e=>r[n]=Promise.reject(e))}}),r!==void 0){let e=Object.assign(Object.create(null),{exports:$===void 0?r.asm:$,memory:r.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=e;let t;try{t=globalThis.sqlite3ApiBootstrap()}catch(e){throw console.error(`sqlite3ApiBootstrap() error:`,e),e}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}r.sqlite3=t}else console.warn(`This is not running in an Emscripten module context, so`,`globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack`,`of config info for the WASM environment.`,`It must be called manually.`)},n=o,n}})();let t=(function(){let t=e;if(!t)throw Error(`Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.`);let n=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<`u`,location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(n.debugModule=n.urlParams.has(`sqlite3.debugModule`)?(...e)=>console.warn(`sqlite3.debugModule:`,...e):()=>{},n.urlParams.has(`sqlite3.dir`))n.sqlite3Dir=n.urlParams.get(`sqlite3.dir`)+`/`;else if(n.moduleScript){let e=n.moduleScript.src.split(`/`);e.pop(),n.sqlite3Dir=e.join(`/`)+`/`}if(globalThis.sqlite3InitModule=function e(...r){return t(...r).then(t=>{t.runSQLite3PostLoadInit(t);let r=t.sqlite3;r.scriptInfo=n,e.__isUnderTest&&(r.__isUnderTest=!0);let i=r.asyncPostInit;delete r.asyncPostInit;let a=i();return a}).catch(e=>{throw console.error(`Exception loading sqlite3 module:`,e),e})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){let e=globalThis.sqlite3InitModuleState,t=e.moduleScript.src.split(`/`);t.pop(),e.scriptDir=t.join(`/`)+`/`}return n.debugModule(`sqlite3InitModuleState =`,n),globalThis.sqlite3InitModule})();e=t;var n=e;n().then(e=>e.initWorker1API())})();